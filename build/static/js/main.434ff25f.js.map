{"version":3,"file":"static/js/main.434ff25f.js","mappings":"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AAK2jH,aAAez0F,EAAK0zF,QAC3B,CAEAmB,eAAAA,CAAgBC,EAAYC,GAC5B,CACAC,QAAAA,CAASC,GACP,IAAIC,EACAC,EAAerkH,KAAKitF,MAAM21B,UAA6B,EAAjB5iH,KAAK6jH,WAE7CQ,EADEF,EACahrG,KAAKkK,KAAKghG,GAEVlrG,KAAKsM,KAAoB,EAAf4+F,GAAoBrkH,KAAK4jH,eAAgB,GAEpE,MAAMU,EAAcD,EAAerkH,KAAK6jH,UAClCU,EAAcprG,KAAKC,IAAkB,EAAdkrG,EAAiBtkH,KAAKitF,MAAM21B,UACzD,GAAI0B,EAAa,CACf,IAAK,IAAI7wG,EAAS,EAAGA,EAAS6wG,EAAa7wG,GAAUzT,KAAK6jH,UACxD7jH,KAAK+jH,gBAAgB/jH,KAAKitF,MAAM01B,MAAOlvG,GAEzC2wG,EAAiBpkH,KAAKitF,MAAM01B,MAAMx/G,OAAO,EAAGmhH,GAC5CtkH,KAAKitF,MAAM21B,UAAY2B,CACzB,CACA,OAAO,IAAI7B,GAAU0B,EAAgBG,EACvC,EAEF,MAAMC,WAAed,GACnB5uG,MAAAA,CAAO2vG,GAGL,OAFAzkH,KAAK8jH,QAAQW,GACbzkH,KAAKkkH,WACElkH,IACT,CACA2J,QAAAA,CAAS86G,GACHA,GACFzkH,KAAK8jH,QAAQW,EAEjB,EAGF,MAAMz9G,GAAI,CACR,YACC,WACD,YACC,WACD,YACC,WACD,UACA,YAEIrD,GAAI,CACR,WACA,YACC,YACA,UACD,UACA,YACC,YACA,YACA,UACD,UACA,UACA,WACA,YACC,YACA,YACA,YACA,WACA,UACD,UACA,UACA,UACA,WACA,WACA,YACC,YACA,YACA,YACA,YACA,WACA,UACD,UACA,UACA,UACA,UACA,WACA,WACA,WACA,YACC,YACA,YACA,YACA,YACA,YACA,WACA,WACA,WACA,UACD,UACA,UACA,UACA,UACA,UACA,UACA,WACA,WACA,WACA,WACA,YACC,YACA,YACA,YACA,YACA,YACA,WAEGwC,GAAI,GACV,MAAMu+G,WAAeF,GACnBzgH,WAAAA,GACEy3D,SAAS57D,WACTI,KAAK2kH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","sources":["../node_modules/dexie/dist/dexie.js","../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/react-dom/client.js","../node_modules/react-dom/index.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/cjs/react.production.min.js","../node_modules/react/index.js","../node_modules/react/jsx-runtime.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/scheduler/index.js","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/global","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/load script","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","../webpack/runtime/jsonp chunk loading","../node_modules/@babel/runtime/helpers/esm/checkPrivateRedeclaration.js","../node_modules/@babel/runtime/helpers/esm/classPrivateMethodInitSpec.js","../node_modules/@babel/runtime/helpers/esm/classPrivateFieldInitSpec.js","../node_modules/@babel/runtime/helpers/esm/assertClassBrand.js","../node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet2.js","../node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet2.js","../node_modules/@tanstack/query-core/src/utils.ts","../node_modules/@tanstack/query-core/src/notifyManager.ts","../node_modules/@tanstack/query-core/src/subscribable.ts","../node_modules/@tanstack/query-core/src/focusManager.ts","../node_modules/@tanstack/query-core/src/onlineManager.ts","../node_modules/@tanstack/query-core/src/retryer.ts","../node_modules/@tanstack/query-core/src/removable.ts","../node_modules/@tanstack/query-core/src/query.ts","../node_modules/@tanstack/query-core/src/queryObserver.ts","../node_modules/@tanstack/react-query/src/QueryErrorResetBoundary.tsx","../node_modules/@tanstack/react-query/src/QueryClientProvider.tsx","../node_modules/@tanstack/react-query/src/isRestoring.ts","../node_modules/@tanstack/react-query/src/errorBoundaryUtils.ts","../node_modules/@tanstack/react-query/src/utils.ts","../node_modules/@tanstack/react-query/src/suspense.ts","../node_modules/@tanstack/react-query/src/useQuery.ts","../node_modules/@tanstack/react-query/src/useBaseQuery.ts","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/rxdb/src/plugins/utils/utils-object-deep-equal.ts","../node_modules/rxdb/src/plugins/utils/utils-object.ts","../node_modules/rxdb/src/plugins/utils/utils-array.ts","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","../node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","../node_modules/@babel/runtime/helpers/esm/construct.js","../node_modules/rxdb/src/overwritable.ts","../node_modules/rxdb/src/rx-error.ts","../node_modules/rxdb/src/hooks.ts","../node_modules/rxdb/src/plugins/utils/utils-regex.ts","../node_modules/rxdb/src/plugins/utils/utils-string.ts","../node_modules/rxdb/src/plugins/utils/utils-object-dot-prop.ts","../node_modules/rxdb/src/plugins/utils/utils-document.ts","../node_modules/rxdb/src/rx-schema-helper.ts","../node_modules/rxdb/src/rx-schema.ts","../node_modules/rxjs/src/internal/util/isFunction.ts","../node_modules/rxjs/src/internal/util/lift.ts","../node_modules/tslib/tslib.es6.mjs","../node_modules/rxjs/src/internal/util/createErrorClass.ts","../node_modules/rxjs/src/internal/util/UnsubscriptionError.ts","../node_modules/rxjs/src/internal/util/arrRemove.ts","../node_modules/rxjs/src/internal/Subscription.ts","../node_modules/rxjs/src/internal/config.ts","../node_modules/rxjs/src/internal/scheduler/timeoutProvider.ts","../node_modules/rxjs/src/internal/util/reportUnhandledError.ts","../node_modules/rxjs/src/internal/util/noop.ts","../node_modules/rxjs/src/internal/NotificationFactories.ts","../node_modules/rxjs/src/internal/util/errorContext.ts","../node_modules/rxjs/src/internal/Subscriber.ts","../node_modules/rxjs/src/internal/operators/OperatorSubscriber.ts","../node_modules/rxjs/src/internal/operators/map.ts","../node_modules/rxjs/src/internal/operators/filter.ts","../node_modules/rxjs/src/internal/util/isArrayLike.ts","../node_modules/rxjs/src/internal/util/isPromise.ts","../node_modules/rxjs/src/internal/symbol/observable.ts","../node_modules/rxjs/src/internal/util/identity.ts","../node_modules/rxjs/src/internal/util/pipe.ts","../node_modules/rxjs/src/internal/Observable.ts","../node_modules/rxjs/src/internal/util/isInteropObservable.ts","../node_modules/rxjs/src/internal/util/isAsyncIterable.ts","../node_modules/rxjs/src/internal/util/throwUnobservableError.ts","../node_modules/rxjs/src/internal/symbol/iterator.ts","../node_modules/rxjs/src/internal/util/isIterable.ts","../node_modules/rxjs/src/internal/util/isReadableStreamLike.ts","../node_modules/rxjs/src/internal/observable/innerFrom.ts","../node_modules/rxjs/src/internal/util/executeSchedule.ts","../node_modules/rxjs/src/internal/operators/mergeMap.ts","../node_modules/rxjs/src/internal/operators/mergeInternals.ts","../node_modules/rxjs/src/internal/operators/mergeAll.ts","../node_modules/rxjs/src/internal/util/args.ts","../node_modules/rxjs/src/internal/util/isScheduler.ts","../node_modules/rxjs/src/internal/operators/observeOn.ts","../node_modules/rxjs/src/internal/operators/subscribeOn.ts","../node_modules/rxjs/src/internal/scheduled/scheduleAsyncIterable.ts","../node_modules/rxjs/src/internal/scheduled/scheduled.ts","../node_modules/rxjs/src/internal/scheduled/scheduleObservable.ts","../node_modules/rxjs/src/internal/scheduled/scheduleArray.ts","../node_modules/rxjs/src/internal/scheduled/schedulePromise.ts","../node_modules/rxjs/src/internal/scheduled/scheduleIterable.ts","../node_modules/rxjs/src/internal/scheduled/scheduleReadableStreamLike.ts","../node_modules/rxjs/src/internal/observable/from.ts","../node_modules/rxjs/src/internal/observable/concat.ts","../node_modules/rxjs/src/internal/operators/concatAll.ts","../node_modules/rxjs/src/internal/operators/startWith.ts","../node_modules/rxjs/src/internal/operators/distinctUntilChanged.ts","../node_modules/rxjs/src/internal/util/ObjectUnsubscribedError.ts","../node_modules/rxjs/src/internal/Subject.ts","../node_modules/rxjs/src/internal/scheduler/dateTimestampProvider.ts","../node_modules/rxjs/src/internal/ReplaySubject.ts","../node_modules/rxjs/src/internal/operators/share.ts","../node_modules/rxjs/src/internal/operators/shareReplay.ts","../node_modules/rxdb/src/plugins/utils/utils-other.ts","../node_modules/rxdb/src/plugins/utils/utils-promise.ts","../node_modules/rxdb/src/plugins/utils/utils-map.ts","../node_modules/rxdb/src/plugins/utils/utils-error.ts","../node_modules/rxdb/src/rx-change-event.ts","../node_modules/rxdb/src/plugins/utils/utils-time.ts","../node_modules/rxdb/src/plugins/utils/utils-revision.ts","../node_modules/rxdb/src/rx-storage-helper.ts","../node_modules/rxdb/src/incremental-write.ts","../node_modules/rxdb/src/rx-document.ts","../node_modules/rxjs/src/internal/BehaviorSubject.ts","../node_modules/rxjs/src/internal/util/EmptyError.ts","../node_modules/rxjs/src/internal/observable/empty.ts","../node_modules/event-reduce-js/src/actions/action-functions.ts","../node_modules/array-push-at-sort-position/dist/esm/index.js","../node_modules/event-reduce-js/src/actions/index.ts","../node_modules/binary-decision-diagram/src/util.ts","../node_modules/binary-decision-diagram/src/minimal-string/string-format.ts","../node_modules/event-reduce-js/src/util.ts","../node_modules/event-reduce-js/src/states/state-resolver.ts","../node_modules/event-reduce-js/src/states/index.ts","../node_modules/event-reduce-js/src/bdd/bdd.generated.ts","../node_modules/binary-decision-diagram/src/minimal-string/minimal-string-to-simple-bdd.ts","../node_modules/binary-decision-diagram/src/minimal-string/resolve-with-simple-bdd.ts","../node_modules/event-reduce-js/src/index.ts","../node_modules/rxdb/src/query-planner.ts","../node_modules/mingo/dist/esm/types.js","../node_modules/mingo/dist/esm/util.js","../node_modules/mingo/dist/esm/core.js","../node_modules/mingo/dist/esm/lazy.js","../node_modules/mingo/dist/esm/aggregator.js","../node_modules/mingo/dist/esm/cursor.js","../node_modules/mingo/dist/esm/query.js","../node_modules/mingo/dist/esm/operators/window/_internal.js","../node_modules/mingo/dist/esm/operators/pipeline/group.js","../node_modules/mingo/dist/esm/operators/pipeline/sort.js","../node_modules/mingo/dist/esm/operators/pipeline/setWindowFields.js","../node_modules/mingo/dist/esm/operators/_predicates.js","../node_modules/mingo/dist/esm/operators/expression/array/nin.js","../node_modules/mingo/dist/esm/operators/expression/bitwise/_internal.js","../node_modules/mingo/dist/esm/operators/expression/bitwise/bitAnd.js","../node_modules/mingo/dist/esm/operators/expression/bitwise/bitOr.js","../node_modules/mingo/dist/esm/operators/expression/bitwise/bitXor.js","../node_modules/mingo/dist/esm/operators/expression/comparison/eq.js","../node_modules/mingo/dist/esm/operators/expression/comparison/gt.js","../node_modules/mingo/dist/esm/operators/expression/comparison/gte.js","../node_modules/mingo/dist/esm/operators/expression/comparison/lt.js","../node_modules/mingo/dist/esm/operators/expression/comparison/lte.js","../node_modules/mingo/dist/esm/operators/expression/comparison/ne.js","../node_modules/mingo/dist/esm/operators/expression/date/dateFromParts.js","../node_modules/mingo/dist/esm/operators/expression/date/dateFromString.js","../node_modules/mingo/dist/esm/operators/expression/string/substrBytes.js","../node_modules/mingo/dist/esm/operators/expression/trignometry/_internal.js","../node_modules/mingo/dist/esm/operators/expression/trignometry/acos.js","../node_modules/mingo/dist/esm/operators/expression/trignometry/acosh.js","../node_modules/mingo/dist/esm/operators/expression/trignometry/asin.js","../node_modules/mingo/dist/esm/operators/expression/trignometry/asinh.js","../node_modules/mingo/dist/esm/operators/expression/trignometry/atan.js","../node_modules/mingo/dist/esm/operators/expression/trignometry/atanh.js","../node_modules/mingo/dist/esm/operators/expression/trignometry/cos.js","../node_modules/mingo/dist/esm/operators/expression/trignometry/cosh.js","../node_modules/mingo/dist/esm/operators/expression/trignometry/degreesToRadians.js","../node_modules/mingo/dist/esm/operators/expression/trignometry/radiansToDegrees.js","../node_modules/mingo/dist/esm/operators/expression/trignometry/sin.js","../node_modules/mingo/dist/esm/operators/expression/trignometry/sinh.js","../node_modules/mingo/dist/esm/operators/expression/trignometry/tan.js","../node_modules/mingo/dist/esm/operators/expression/type/_internal.js","../node_modules/mingo/dist/esm/operators/expression/type/toBool.js","../node_modules/mingo/dist/esm/operators/pipeline/project.js","../node_modules/mingo/dist/esm/operators/pipeline/redact.js","../node_modules/mingo/dist/esm/operators/query/logical/and.js","../node_modules/mingo/dist/esm/operators/query/logical/or.js","../node_modules/mingo/dist/esm/operators/query/logical/nor.js","../node_modules/mingo/dist/esm/operators/query/logical/not.js","../node_modules/mingo/dist/esm/operators/query/comparison/eq.js","../node_modules/mingo/dist/esm/operators/query/comparison/gt.js","../node_modules/mingo/dist/esm/operators/query/comparison/gte.js","../node_modules/mingo/dist/esm/operators/query/comparison/in.js","../node_modules/mingo/dist/esm/operators/query/comparison/lt.js","../node_modules/mingo/dist/esm/operators/query/comparison/lte.js","../node_modules/mingo/dist/esm/operators/query/comparison/ne.js","../node_modules/mingo/dist/esm/operators/query/comparison/nin.js","../node_modules/mingo/dist/esm/operators/query/evaluation/mod.js","../node_modules/mingo/dist/esm/operators/query/evaluation/regex.js","../node_modules/mingo/dist/esm/operators/query/array/all.js","../node_modules/mingo/dist/esm/operators/query/array/elemMatch.js","../node_modules/mingo/dist/esm/operators/query/array/size.js","../node_modules/mingo/dist/esm/operators/query/element/exists.js","../node_modules/mingo/dist/esm/operators/query/element/type.js","../node_modules/rxdb/src/rx-query-mingo.ts","../node_modules/rxdb/src/rx-query-helper.ts","../node_modules/rxdb/src/event-reduce.ts","../node_modules/rxdb/src/query-cache.ts","../node_modules/rxdb/src/doc-cache.ts","../node_modules/rxdb/src/rx-query-single-result.ts","../node_modules/rxdb/src/rx-query.ts","../node_modules/rxjs/src/internal/firstValueFrom.ts","../node_modules/rxjs/src/internal/observable/merge.ts","../node_modules/rxdb/src/rx-database-internal-store.ts","../node_modules/rxdb/src/rx-collection-helper.ts","../node_modules/rxdb/src/change-event-buffer.ts","../node_modules/rxdb/src/rx-document-prototype-merge.ts","../node_modules/rxdb/src/replication-protocol/conflicts.ts","../node_modules/rxdb/src/rx-collection.ts","../node_modules/custom-idle-queue/dist/es/index.js","../node_modules/rxdb/src/plugins/utils/utils-rxdb-version.ts","../node_modules/ohash/dist/index.mjs","../node_modules/rxdb/src/plugins/utils/utils-hash.ts","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/oblivious-set/src/index.ts","../node_modules/rxdb/src/rx-database.ts","../node_modules/rxdb/src/plugin.ts","../node_modules/dexie/import-wrapper-prod.mjs","../node_modules/rxdb/src/plugins/storage-dexie/dexie-helper.ts","../node_modules/rxdb/src/plugins/storage-dexie/dexie-query.ts","../node_modules/rxjs/src/internal/util/argsOrArgArray.ts","../node_modules/rxjs/src/internal/operators/merge.ts","../node_modules/broadcast-channel/dist/esbrowser/util.js","../node_modules/broadcast-channel/dist/esbrowser/methods/native.js","../node_modules/broadcast-channel/dist/esbrowser/options.js","../node_modules/broadcast-channel/dist/esbrowser/methods/indexed-db.js","../node_modules/broadcast-channel/dist/esbrowser/methods/localstorage.js","../node_modules/broadcast-channel/dist/esbrowser/methods/simulate.js","../node_modules/broadcast-channel/dist/esbrowser/method-chooser.js","../node_modules/broadcast-channel/dist/esbrowser/broadcast-channel.js","../node_modules/rxdb/src/rx-storage-multiinstance.ts","../node_modules/rxjs/src/internal/operators/mergeWith.ts","../node_modules/rxdb/src/plugins/storage-dexie/rx-storage-instance-dexie.ts","../node_modules/rxdb/src/plugins/storage-dexie/rx-storage-dexie.ts","schema/DatabaseSchema.ts","../node_modules/unload/dist/es/index.js","../node_modules/unload/dist/es/node.js","../node_modules/unload/dist/es/browser.js","../node_modules/broadcast-channel/dist/esbrowser/leader-election-util.js","../node_modules/broadcast-channel/dist/esbrowser/leader-election-web-lock.js","../node_modules/broadcast-channel/dist/esbrowser/leader-election.js","../node_modules/rxdb/src/plugins/leader-election/index.ts","config/DatabaseConfig.js","App.tsx","reportWebVitals.ts","../node_modules/workbox-window/_version.js","../node_modules/workbox-window/messageSW.js","../node_modules/workbox-core/_version.js","../node_modules/workbox-core/_private/Deferred.js","../node_modules/workbox-window/utils/urlsMatch.js","../node_modules/workbox-window/utils/WorkboxEvent.js","../node_modules/workbox-window/Workbox.js","../node_modules/workbox-core/_private/dontWaitFor.js","../node_modules/workbox-window/utils/WorkboxEventTarget.js","../node_modules/@tanstack/query-core/src/queryCache.ts","../node_modules/@tanstack/query-core/src/mutation.ts","../node_modules/@tanstack/query-core/src/mutationCache.ts","../node_modules/@tanstack/query-core/src/infiniteQueryBehavior.ts","../node_modules/@tanstack/query-core/src/queryClient.ts","index.tsx","serviceWorkerRegistration.js"],"sourcesContent":["/*\n * Dexie.js - a minimalistic wrapper for IndexedDB\n * ===============================================\n *\n * By David Fahlander, david.fahlander@gmail.com\n *\n * Version 4.0.1, Tue Mar 26 2024\n *\n * https://dexie.org\n *\n * Apache License Version 2.0, January 2004, http://www.apache.org/licenses/\n */\n \n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Dexie = factory());\n})(this, (function () { 'use strict';\n\n    /*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */\n    var extendStatics = function(d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    function __extends(d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    }\n    var __assign = function() {\n        __assign = Object.assign || function __assign(t) {\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\n                s = arguments[i];\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n            }\n            return t;\n        };\n        return __assign.apply(this, arguments);\n    };\n    function __spreadArray(to, from, pack) {\n        if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n            if (ar || !(i in from)) {\n                if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n                ar[i] = from[i];\n            }\n        }\n        return to.concat(ar || Array.prototype.slice.call(from));\n    }\n\n    var _global = typeof globalThis !== 'undefined' ? globalThis :\n        typeof self !== 'undefined' ? self :\n            typeof window !== 'undefined' ? window :\n                global;\n\n    var keys = Object.keys;\n    var isArray = Array.isArray;\n    if (typeof Promise !== 'undefined' && !_global.Promise) {\n        _global.Promise = Promise;\n    }\n    function extend(obj, extension) {\n        if (typeof extension !== 'object')\n            return obj;\n        keys(extension).forEach(function (key) {\n            obj[key] = extension[key];\n        });\n        return obj;\n    }\n    var getProto = Object.getPrototypeOf;\n    var _hasOwn = {}.hasOwnProperty;\n    function hasOwn(obj, prop) {\n        return _hasOwn.call(obj, prop);\n    }\n    function props(proto, extension) {\n        if (typeof extension === 'function')\n            extension = extension(getProto(proto));\n        (typeof Reflect === \"undefined\" ? keys : Reflect.ownKeys)(extension).forEach(function (key) {\n            setProp(proto, key, extension[key]);\n        });\n    }\n    var defineProperty = Object.defineProperty;\n    function setProp(obj, prop, functionOrGetSet, options) {\n        defineProperty(obj, prop, extend(functionOrGetSet && hasOwn(functionOrGetSet, \"get\") && typeof functionOrGetSet.get === 'function' ?\n            { get: functionOrGetSet.get, set: functionOrGetSet.set, configurable: true } :\n            { value: functionOrGetSet, configurable: true, writable: true }, options));\n    }\n    function derive(Child) {\n        return {\n            from: function (Parent) {\n                Child.prototype = Object.create(Parent.prototype);\n                setProp(Child.prototype, \"constructor\", Child);\n                return {\n                    extend: props.bind(null, Child.prototype)\n                };\n            }\n        };\n    }\n    var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n    function getPropertyDescriptor(obj, prop) {\n        var pd = getOwnPropertyDescriptor(obj, prop);\n        var proto;\n        return pd || (proto = getProto(obj)) && getPropertyDescriptor(proto, prop);\n    }\n    var _slice = [].slice;\n    function slice(args, start, end) {\n        return _slice.call(args, start, end);\n    }\n    function override(origFunc, overridedFactory) {\n        return overridedFactory(origFunc);\n    }\n    function assert(b) {\n        if (!b)\n            throw new Error(\"Assertion Failed\");\n    }\n    function asap$1(fn) {\n        if (_global.setImmediate)\n            setImmediate(fn);\n        else\n            setTimeout(fn, 0);\n    }\n    function arrayToObject(array, extractor) {\n        return array.reduce(function (result, item, i) {\n            var nameAndValue = extractor(item, i);\n            if (nameAndValue)\n                result[nameAndValue[0]] = nameAndValue[1];\n            return result;\n        }, {});\n    }\n    function getByKeyPath(obj, keyPath) {\n        if (typeof keyPath === 'string' && hasOwn(obj, keyPath))\n            return obj[keyPath];\n        if (!keyPath)\n            return obj;\n        if (typeof keyPath !== 'string') {\n            var rv = [];\n            for (var i = 0, l = keyPath.length; i < l; ++i) {\n                var val = getByKeyPath(obj, keyPath[i]);\n                rv.push(val);\n            }\n            return rv;\n        }\n        var period = keyPath.indexOf('.');\n        if (period !== -1) {\n            var innerObj = obj[keyPath.substr(0, period)];\n            return innerObj == null ? undefined : getByKeyPath(innerObj, keyPath.substr(period + 1));\n        }\n        return undefined;\n    }\n    function setByKeyPath(obj, keyPath, value) {\n        if (!obj || keyPath === undefined)\n            return;\n        if ('isFrozen' in Object && Object.isFrozen(obj))\n            return;\n        if (typeof keyPath !== 'string' && 'length' in keyPath) {\n            assert(typeof value !== 'string' && 'length' in value);\n            for (var i = 0, l = keyPath.length; i < l; ++i) {\n                setByKeyPath(obj, keyPath[i], value[i]);\n            }\n        }\n        else {\n            var period = keyPath.indexOf('.');\n            if (period !== -1) {\n                var currentKeyPath = keyPath.substr(0, period);\n                var remainingKeyPath = keyPath.substr(period + 1);\n                if (remainingKeyPath === \"\")\n                    if (value === undefined) {\n                        if (isArray(obj) && !isNaN(parseInt(currentKeyPath)))\n                            obj.splice(currentKeyPath, 1);\n                        else\n                            delete obj[currentKeyPath];\n                    }\n                    else\n                        obj[currentKeyPath] = value;\n                else {\n                    var innerObj = obj[currentKeyPath];\n                    if (!innerObj || !hasOwn(obj, currentKeyPath))\n                        innerObj = (obj[currentKeyPath] = {});\n                    setByKeyPath(innerObj, remainingKeyPath, value);\n                }\n            }\n            else {\n                if (value === undefined) {\n                    if (isArray(obj) && !isNaN(parseInt(keyPath)))\n                        obj.splice(keyPath, 1);\n                    else\n                        delete obj[keyPath];\n                }\n                else\n                    obj[keyPath] = value;\n            }\n        }\n    }\n    function delByKeyPath(obj, keyPath) {\n        if (typeof keyPath === 'string')\n            setByKeyPath(obj, keyPath, undefined);\n        else if ('length' in keyPath)\n            [].map.call(keyPath, function (kp) {\n                setByKeyPath(obj, kp, undefined);\n            });\n    }\n    function shallowClone(obj) {\n        var rv = {};\n        for (var m in obj) {\n            if (hasOwn(obj, m))\n                rv[m] = obj[m];\n        }\n        return rv;\n    }\n    var concat = [].concat;\n    function flatten(a) {\n        return concat.apply([], a);\n    }\n    var intrinsicTypeNames = \"BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey\"\n        .split(',').concat(flatten([8, 16, 32, 64].map(function (num) { return [\"Int\", \"Uint\", \"Float\"].map(function (t) { return t + num + \"Array\"; }); }))).filter(function (t) { return _global[t]; });\n    var intrinsicTypes = new Set(intrinsicTypeNames.map(function (t) { return _global[t]; }));\n    function cloneSimpleObjectTree(o) {\n        var rv = {};\n        for (var k in o)\n            if (hasOwn(o, k)) {\n                var v = o[k];\n                rv[k] = !v || typeof v !== 'object' || intrinsicTypes.has(v.constructor) ? v : cloneSimpleObjectTree(v);\n            }\n        return rv;\n    }\n    function objectIsEmpty(o) {\n        for (var k in o)\n            if (hasOwn(o, k))\n                return false;\n        return true;\n    }\n    var circularRefs = null;\n    function deepClone(any) {\n        circularRefs = new WeakMap();\n        var rv = innerDeepClone(any);\n        circularRefs = null;\n        return rv;\n    }\n    function innerDeepClone(x) {\n        if (!x || typeof x !== 'object')\n            return x;\n        var rv = circularRefs.get(x);\n        if (rv)\n            return rv;\n        if (isArray(x)) {\n            rv = [];\n            circularRefs.set(x, rv);\n            for (var i = 0, l = x.length; i < l; ++i) {\n                rv.push(innerDeepClone(x[i]));\n            }\n        }\n        else if (intrinsicTypes.has(x.constructor)) {\n            rv = x;\n        }\n        else {\n            var proto = getProto(x);\n            rv = proto === Object.prototype ? {} : Object.create(proto);\n            circularRefs.set(x, rv);\n            for (var prop in x) {\n                if (hasOwn(x, prop)) {\n                    rv[prop] = innerDeepClone(x[prop]);\n                }\n            }\n        }\n        return rv;\n    }\n    var toString = {}.toString;\n    function toStringTag(o) {\n        return toString.call(o).slice(8, -1);\n    }\n    var iteratorSymbol = typeof Symbol !== 'undefined' ?\n        Symbol.iterator :\n        '@@iterator';\n    var getIteratorOf = typeof iteratorSymbol === \"symbol\" ? function (x) {\n        var i;\n        return x != null && (i = x[iteratorSymbol]) && i.apply(x);\n    } : function () { return null; };\n    function delArrayItem(a, x) {\n        var i = a.indexOf(x);\n        if (i >= 0)\n            a.splice(i, 1);\n        return i >= 0;\n    }\n    var NO_CHAR_ARRAY = {};\n    function getArrayOf(arrayLike) {\n        var i, a, x, it;\n        if (arguments.length === 1) {\n            if (isArray(arrayLike))\n                return arrayLike.slice();\n            if (this === NO_CHAR_ARRAY && typeof arrayLike === 'string')\n                return [arrayLike];\n            if ((it = getIteratorOf(arrayLike))) {\n                a = [];\n                while ((x = it.next()), !x.done)\n                    a.push(x.value);\n                return a;\n            }\n            if (arrayLike == null)\n                return [arrayLike];\n            i = arrayLike.length;\n            if (typeof i === 'number') {\n                a = new Array(i);\n                while (i--)\n                    a[i] = arrayLike[i];\n                return a;\n            }\n            return [arrayLike];\n        }\n        i = arguments.length;\n        a = new Array(i);\n        while (i--)\n            a[i] = arguments[i];\n        return a;\n    }\n    var isAsyncFunction = typeof Symbol !== 'undefined'\n        ? function (fn) { return fn[Symbol.toStringTag] === 'AsyncFunction'; }\n        : function () { return false; };\n\n    var dexieErrorNames = [\n        'Modify',\n        'Bulk',\n        'OpenFailed',\n        'VersionChange',\n        'Schema',\n        'Upgrade',\n        'InvalidTable',\n        'MissingAPI',\n        'NoSuchDatabase',\n        'InvalidArgument',\n        'SubTransaction',\n        'Unsupported',\n        'Internal',\n        'DatabaseClosed',\n        'PrematureCommit',\n        'ForeignAwait'\n    ];\n    var idbDomErrorNames = [\n        'Unknown',\n        'Constraint',\n        'Data',\n        'TransactionInactive',\n        'ReadOnly',\n        'Version',\n        'NotFound',\n        'InvalidState',\n        'InvalidAccess',\n        'Abort',\n        'Timeout',\n        'QuotaExceeded',\n        'Syntax',\n        'DataClone'\n    ];\n    var errorList = dexieErrorNames.concat(idbDomErrorNames);\n    var defaultTexts = {\n        VersionChanged: \"Database version changed by other database connection\",\n        DatabaseClosed: \"Database has been closed\",\n        Abort: \"Transaction aborted\",\n        TransactionInactive: \"Transaction has already completed or failed\",\n        MissingAPI: \"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\"\n    };\n    function DexieError(name, msg) {\n        this.name = name;\n        this.message = msg;\n    }\n    derive(DexieError).from(Error).extend({\n        toString: function () { return this.name + \": \" + this.message; }\n    });\n    function getMultiErrorMessage(msg, failures) {\n        return msg + \". Errors: \" + Object.keys(failures)\n            .map(function (key) { return failures[key].toString(); })\n            .filter(function (v, i, s) { return s.indexOf(v) === i; })\n            .join('\\n');\n    }\n    function ModifyError(msg, failures, successCount, failedKeys) {\n        this.failures = failures;\n        this.failedKeys = failedKeys;\n        this.successCount = successCount;\n        this.message = getMultiErrorMessage(msg, failures);\n    }\n    derive(ModifyError).from(DexieError);\n    function BulkError(msg, failures) {\n        this.name = \"BulkError\";\n        this.failures = Object.keys(failures).map(function (pos) { return failures[pos]; });\n        this.failuresByPos = failures;\n        this.message = getMultiErrorMessage(msg, this.failures);\n    }\n    derive(BulkError).from(DexieError);\n    var errnames = errorList.reduce(function (obj, name) { return (obj[name] = name + \"Error\", obj); }, {});\n    var BaseException = DexieError;\n    var exceptions = errorList.reduce(function (obj, name) {\n        var fullName = name + \"Error\";\n        function DexieError(msgOrInner, inner) {\n            this.name = fullName;\n            if (!msgOrInner) {\n                this.message = defaultTexts[name] || fullName;\n                this.inner = null;\n            }\n            else if (typeof msgOrInner === 'string') {\n                this.message = \"\".concat(msgOrInner).concat(!inner ? '' : '\\n ' + inner);\n                this.inner = inner || null;\n            }\n            else if (typeof msgOrInner === 'object') {\n                this.message = \"\".concat(msgOrInner.name, \" \").concat(msgOrInner.message);\n                this.inner = msgOrInner;\n            }\n        }\n        derive(DexieError).from(BaseException);\n        obj[name] = DexieError;\n        return obj;\n    }, {});\n    exceptions.Syntax = SyntaxError;\n    exceptions.Type = TypeError;\n    exceptions.Range = RangeError;\n    var exceptionMap = idbDomErrorNames.reduce(function (obj, name) {\n        obj[name + \"Error\"] = exceptions[name];\n        return obj;\n    }, {});\n    function mapError(domError, message) {\n        if (!domError || domError instanceof DexieError || domError instanceof TypeError || domError instanceof SyntaxError || !domError.name || !exceptionMap[domError.name])\n            return domError;\n        var rv = new exceptionMap[domError.name](message || domError.message, domError);\n        if (\"stack\" in domError) {\n            setProp(rv, \"stack\", { get: function () {\n                    return this.inner.stack;\n                } });\n        }\n        return rv;\n    }\n    var fullNameExceptions = errorList.reduce(function (obj, name) {\n        if ([\"Syntax\", \"Type\", \"Range\"].indexOf(name) === -1)\n            obj[name + \"Error\"] = exceptions[name];\n        return obj;\n    }, {});\n    fullNameExceptions.ModifyError = ModifyError;\n    fullNameExceptions.DexieError = DexieError;\n    fullNameExceptions.BulkError = BulkError;\n\n    function nop() { }\n    function mirror(val) { return val; }\n    function pureFunctionChain(f1, f2) {\n        if (f1 == null || f1 === mirror)\n            return f2;\n        return function (val) {\n            return f2(f1(val));\n        };\n    }\n    function callBoth(on1, on2) {\n        return function () {\n            on1.apply(this, arguments);\n            on2.apply(this, arguments);\n        };\n    }\n    function hookCreatingChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function () {\n            var res = f1.apply(this, arguments);\n            if (res !== undefined)\n                arguments[0] = res;\n            var onsuccess = this.onsuccess,\n            onerror = this.onerror;\n            this.onsuccess = null;\n            this.onerror = null;\n            var res2 = f2.apply(this, arguments);\n            if (onsuccess)\n                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n            if (onerror)\n                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n            return res2 !== undefined ? res2 : res;\n        };\n    }\n    function hookDeletingChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function () {\n            f1.apply(this, arguments);\n            var onsuccess = this.onsuccess,\n            onerror = this.onerror;\n            this.onsuccess = this.onerror = null;\n            f2.apply(this, arguments);\n            if (onsuccess)\n                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n            if (onerror)\n                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n        };\n    }\n    function hookUpdatingChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function (modifications) {\n            var res = f1.apply(this, arguments);\n            extend(modifications, res);\n            var onsuccess = this.onsuccess,\n            onerror = this.onerror;\n            this.onsuccess = null;\n            this.onerror = null;\n            var res2 = f2.apply(this, arguments);\n            if (onsuccess)\n                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n            if (onerror)\n                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n            return res === undefined ?\n                (res2 === undefined ? undefined : res2) :\n                (extend(res, res2));\n        };\n    }\n    function reverseStoppableEventChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function () {\n            if (f2.apply(this, arguments) === false)\n                return false;\n            return f1.apply(this, arguments);\n        };\n    }\n    function promisableChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function () {\n            var res = f1.apply(this, arguments);\n            if (res && typeof res.then === 'function') {\n                var thiz = this, i = arguments.length, args = new Array(i);\n                while (i--)\n                    args[i] = arguments[i];\n                return res.then(function () {\n                    return f2.apply(thiz, args);\n                });\n            }\n            return f2.apply(this, arguments);\n        };\n    }\n\n    var debug = typeof location !== 'undefined' &&\n        /^(http|https):\\/\\/(localhost|127\\.0\\.0\\.1)/.test(location.href);\n    function setDebug(value, filter) {\n        debug = value;\n    }\n\n    var INTERNAL = {};\n    var ZONE_ECHO_LIMIT = 100, _a$1 = typeof Promise === 'undefined' ?\n        [] :\n        (function () {\n            var globalP = Promise.resolve();\n            if (typeof crypto === 'undefined' || !crypto.subtle)\n                return [globalP, getProto(globalP), globalP];\n            var nativeP = crypto.subtle.digest(\"SHA-512\", new Uint8Array([0]));\n            return [\n                nativeP,\n                getProto(nativeP),\n                globalP\n            ];\n        })(), resolvedNativePromise = _a$1[0], nativePromiseProto = _a$1[1], resolvedGlobalPromise = _a$1[2], nativePromiseThen = nativePromiseProto && nativePromiseProto.then;\n    var NativePromise = resolvedNativePromise && resolvedNativePromise.constructor;\n    var patchGlobalPromise = !!resolvedGlobalPromise;\n    function schedulePhysicalTick() {\n        queueMicrotask(physicalTick);\n    }\n    var asap = function (callback, args) {\n        microtickQueue.push([callback, args]);\n        if (needsNewPhysicalTick) {\n            schedulePhysicalTick();\n            needsNewPhysicalTick = false;\n        }\n    };\n    var isOutsideMicroTick = true,\n    needsNewPhysicalTick = true,\n    unhandledErrors = [],\n    rejectingErrors = [],\n    rejectionMapper = mirror;\n    var globalPSD = {\n        id: 'global',\n        global: true,\n        ref: 0,\n        unhandleds: [],\n        onunhandled: nop,\n        pgp: false,\n        env: {},\n        finalize: nop\n    };\n    var PSD = globalPSD;\n    var microtickQueue = [];\n    var numScheduledCalls = 0;\n    var tickFinalizers = [];\n    function DexiePromise(fn) {\n        if (typeof this !== 'object')\n            throw new TypeError('Promises must be constructed via new');\n        this._listeners = [];\n        this._lib = false;\n        var psd = (this._PSD = PSD);\n        if (typeof fn !== 'function') {\n            if (fn !== INTERNAL)\n                throw new TypeError('Not a function');\n            this._state = arguments[1];\n            this._value = arguments[2];\n            if (this._state === false)\n                handleRejection(this, this._value);\n            return;\n        }\n        this._state = null;\n        this._value = null;\n        ++psd.ref;\n        executePromiseTask(this, fn);\n    }\n    var thenProp = {\n        get: function () {\n            var psd = PSD, microTaskId = totalEchoes;\n            function then(onFulfilled, onRejected) {\n                var _this = this;\n                var possibleAwait = !psd.global && (psd !== PSD || microTaskId !== totalEchoes);\n                var cleanup = possibleAwait && !decrementExpectedAwaits();\n                var rv = new DexiePromise(function (resolve, reject) {\n                    propagateToListener(_this, new Listener(nativeAwaitCompatibleWrap(onFulfilled, psd, possibleAwait, cleanup), nativeAwaitCompatibleWrap(onRejected, psd, possibleAwait, cleanup), resolve, reject, psd));\n                });\n                if (this._consoleTask)\n                    rv._consoleTask = this._consoleTask;\n                return rv;\n            }\n            then.prototype = INTERNAL;\n            return then;\n        },\n        set: function (value) {\n            setProp(this, 'then', value && value.prototype === INTERNAL ?\n                thenProp :\n                {\n                    get: function () {\n                        return value;\n                    },\n                    set: thenProp.set\n                });\n        }\n    };\n    props(DexiePromise.prototype, {\n        then: thenProp,\n        _then: function (onFulfilled, onRejected) {\n            propagateToListener(this, new Listener(null, null, onFulfilled, onRejected, PSD));\n        },\n        catch: function (onRejected) {\n            if (arguments.length === 1)\n                return this.then(null, onRejected);\n            var type = arguments[0], handler = arguments[1];\n            return typeof type === 'function' ? this.then(null, function (err) {\n                return err instanceof type ? handler(err) : PromiseReject(err);\n            })\n                : this.then(null, function (err) {\n                    return err && err.name === type ? handler(err) : PromiseReject(err);\n                });\n        },\n        finally: function (onFinally) {\n            return this.then(function (value) {\n                return DexiePromise.resolve(onFinally()).then(function () { return value; });\n            }, function (err) {\n                return DexiePromise.resolve(onFinally()).then(function () { return PromiseReject(err); });\n            });\n        },\n        timeout: function (ms, msg) {\n            var _this = this;\n            return ms < Infinity ?\n                new DexiePromise(function (resolve, reject) {\n                    var handle = setTimeout(function () { return reject(new exceptions.Timeout(msg)); }, ms);\n                    _this.then(resolve, reject).finally(clearTimeout.bind(null, handle));\n                }) : this;\n        }\n    });\n    if (typeof Symbol !== 'undefined' && Symbol.toStringTag)\n        setProp(DexiePromise.prototype, Symbol.toStringTag, 'Dexie.Promise');\n    globalPSD.env = snapShot();\n    function Listener(onFulfilled, onRejected, resolve, reject, zone) {\n        this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n        this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n        this.resolve = resolve;\n        this.reject = reject;\n        this.psd = zone;\n    }\n    props(DexiePromise, {\n        all: function () {\n            var values = getArrayOf.apply(null, arguments)\n                .map(onPossibleParallellAsync);\n            return new DexiePromise(function (resolve, reject) {\n                if (values.length === 0)\n                    resolve([]);\n                var remaining = values.length;\n                values.forEach(function (a, i) { return DexiePromise.resolve(a).then(function (x) {\n                    values[i] = x;\n                    if (!--remaining)\n                        resolve(values);\n                }, reject); });\n            });\n        },\n        resolve: function (value) {\n            if (value instanceof DexiePromise)\n                return value;\n            if (value && typeof value.then === 'function')\n                return new DexiePromise(function (resolve, reject) {\n                    value.then(resolve, reject);\n                });\n            var rv = new DexiePromise(INTERNAL, true, value);\n            return rv;\n        },\n        reject: PromiseReject,\n        race: function () {\n            var values = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n            return new DexiePromise(function (resolve, reject) {\n                values.map(function (value) { return DexiePromise.resolve(value).then(resolve, reject); });\n            });\n        },\n        PSD: {\n            get: function () { return PSD; },\n            set: function (value) { return PSD = value; }\n        },\n        totalEchoes: { get: function () { return totalEchoes; } },\n        newPSD: newScope,\n        usePSD: usePSD,\n        scheduler: {\n            get: function () { return asap; },\n            set: function (value) { asap = value; }\n        },\n        rejectionMapper: {\n            get: function () { return rejectionMapper; },\n            set: function (value) { rejectionMapper = value; }\n        },\n        follow: function (fn, zoneProps) {\n            return new DexiePromise(function (resolve, reject) {\n                return newScope(function (resolve, reject) {\n                    var psd = PSD;\n                    psd.unhandleds = [];\n                    psd.onunhandled = reject;\n                    psd.finalize = callBoth(function () {\n                        var _this = this;\n                        run_at_end_of_this_or_next_physical_tick(function () {\n                            _this.unhandleds.length === 0 ? resolve() : reject(_this.unhandleds[0]);\n                        });\n                    }, psd.finalize);\n                    fn();\n                }, zoneProps, resolve, reject);\n            });\n        }\n    });\n    if (NativePromise) {\n        if (NativePromise.allSettled)\n            setProp(DexiePromise, \"allSettled\", function () {\n                var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n                return new DexiePromise(function (resolve) {\n                    if (possiblePromises.length === 0)\n                        resolve([]);\n                    var remaining = possiblePromises.length;\n                    var results = new Array(remaining);\n                    possiblePromises.forEach(function (p, i) { return DexiePromise.resolve(p).then(function (value) { return results[i] = { status: \"fulfilled\", value: value }; }, function (reason) { return results[i] = { status: \"rejected\", reason: reason }; })\n                        .then(function () { return --remaining || resolve(results); }); });\n                });\n            });\n        if (NativePromise.any && typeof AggregateError !== 'undefined')\n            setProp(DexiePromise, \"any\", function () {\n                var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n                return new DexiePromise(function (resolve, reject) {\n                    if (possiblePromises.length === 0)\n                        reject(new AggregateError([]));\n                    var remaining = possiblePromises.length;\n                    var failures = new Array(remaining);\n                    possiblePromises.forEach(function (p, i) { return DexiePromise.resolve(p).then(function (value) { return resolve(value); }, function (failure) {\n                        failures[i] = failure;\n                        if (!--remaining)\n                            reject(new AggregateError(failures));\n                    }); });\n                });\n            });\n    }\n    function executePromiseTask(promise, fn) {\n        try {\n            fn(function (value) {\n                if (promise._state !== null)\n                    return;\n                if (value === promise)\n                    throw new TypeError('A promise cannot be resolved with itself.');\n                var shouldExecuteTick = promise._lib && beginMicroTickScope();\n                if (value && typeof value.then === 'function') {\n                    executePromiseTask(promise, function (resolve, reject) {\n                        value instanceof DexiePromise ?\n                            value._then(resolve, reject) :\n                            value.then(resolve, reject);\n                    });\n                }\n                else {\n                    promise._state = true;\n                    promise._value = value;\n                    propagateAllListeners(promise);\n                }\n                if (shouldExecuteTick)\n                    endMicroTickScope();\n            }, handleRejection.bind(null, promise));\n        }\n        catch (ex) {\n            handleRejection(promise, ex);\n        }\n    }\n    function handleRejection(promise, reason) {\n        rejectingErrors.push(reason);\n        if (promise._state !== null)\n            return;\n        var shouldExecuteTick = promise._lib && beginMicroTickScope();\n        reason = rejectionMapper(reason);\n        promise._state = false;\n        promise._value = reason;\n        addPossiblyUnhandledError(promise);\n        propagateAllListeners(promise);\n        if (shouldExecuteTick)\n            endMicroTickScope();\n    }\n    function propagateAllListeners(promise) {\n        var listeners = promise._listeners;\n        promise._listeners = [];\n        for (var i = 0, len = listeners.length; i < len; ++i) {\n            propagateToListener(promise, listeners[i]);\n        }\n        var psd = promise._PSD;\n        --psd.ref || psd.finalize();\n        if (numScheduledCalls === 0) {\n            ++numScheduledCalls;\n            asap(function () {\n                if (--numScheduledCalls === 0)\n                    finalizePhysicalTick();\n            }, []);\n        }\n    }\n    function propagateToListener(promise, listener) {\n        if (promise._state === null) {\n            promise._listeners.push(listener);\n            return;\n        }\n        var cb = promise._state ? listener.onFulfilled : listener.onRejected;\n        if (cb === null) {\n            return (promise._state ? listener.resolve : listener.reject)(promise._value);\n        }\n        ++listener.psd.ref;\n        ++numScheduledCalls;\n        asap(callListener, [cb, promise, listener]);\n    }\n    function callListener(cb, promise, listener) {\n        try {\n            var ret, value = promise._value;\n            if (!promise._state && rejectingErrors.length)\n                rejectingErrors = [];\n            ret = debug && promise._consoleTask ? promise._consoleTask.run(function () { return cb(value); }) : cb(value);\n            if (!promise._state && rejectingErrors.indexOf(value) === -1) {\n                markErrorAsHandled(promise);\n            }\n            listener.resolve(ret);\n        }\n        catch (e) {\n            listener.reject(e);\n        }\n        finally {\n            if (--numScheduledCalls === 0)\n                finalizePhysicalTick();\n            --listener.psd.ref || listener.psd.finalize();\n        }\n    }\n    function physicalTick() {\n        usePSD(globalPSD, function () {\n            beginMicroTickScope() && endMicroTickScope();\n        });\n    }\n    function beginMicroTickScope() {\n        var wasRootExec = isOutsideMicroTick;\n        isOutsideMicroTick = false;\n        needsNewPhysicalTick = false;\n        return wasRootExec;\n    }\n    function endMicroTickScope() {\n        var callbacks, i, l;\n        do {\n            while (microtickQueue.length > 0) {\n                callbacks = microtickQueue;\n                microtickQueue = [];\n                l = callbacks.length;\n                for (i = 0; i < l; ++i) {\n                    var item = callbacks[i];\n                    item[0].apply(null, item[1]);\n                }\n            }\n        } while (microtickQueue.length > 0);\n        isOutsideMicroTick = true;\n        needsNewPhysicalTick = true;\n    }\n    function finalizePhysicalTick() {\n        var unhandledErrs = unhandledErrors;\n        unhandledErrors = [];\n        unhandledErrs.forEach(function (p) {\n            p._PSD.onunhandled.call(null, p._value, p);\n        });\n        var finalizers = tickFinalizers.slice(0);\n        var i = finalizers.length;\n        while (i)\n            finalizers[--i]();\n    }\n    function run_at_end_of_this_or_next_physical_tick(fn) {\n        function finalizer() {\n            fn();\n            tickFinalizers.splice(tickFinalizers.indexOf(finalizer), 1);\n        }\n        tickFinalizers.push(finalizer);\n        ++numScheduledCalls;\n        asap(function () {\n            if (--numScheduledCalls === 0)\n                finalizePhysicalTick();\n        }, []);\n    }\n    function addPossiblyUnhandledError(promise) {\n        if (!unhandledErrors.some(function (p) { return p._value === promise._value; }))\n            unhandledErrors.push(promise);\n    }\n    function markErrorAsHandled(promise) {\n        var i = unhandledErrors.length;\n        while (i)\n            if (unhandledErrors[--i]._value === promise._value) {\n                unhandledErrors.splice(i, 1);\n                return;\n            }\n    }\n    function PromiseReject(reason) {\n        return new DexiePromise(INTERNAL, false, reason);\n    }\n    function wrap(fn, errorCatcher) {\n        var psd = PSD;\n        return function () {\n            var wasRootExec = beginMicroTickScope(), outerScope = PSD;\n            try {\n                switchToZone(psd, true);\n                return fn.apply(this, arguments);\n            }\n            catch (e) {\n                errorCatcher && errorCatcher(e);\n            }\n            finally {\n                switchToZone(outerScope, false);\n                if (wasRootExec)\n                    endMicroTickScope();\n            }\n        };\n    }\n    var task = { awaits: 0, echoes: 0, id: 0 };\n    var taskCounter = 0;\n    var zoneStack = [];\n    var zoneEchoes = 0;\n    var totalEchoes = 0;\n    var zone_id_counter = 0;\n    function newScope(fn, props, a1, a2) {\n        var parent = PSD, psd = Object.create(parent);\n        psd.parent = parent;\n        psd.ref = 0;\n        psd.global = false;\n        psd.id = ++zone_id_counter;\n        globalPSD.env;\n        psd.env = patchGlobalPromise ? {\n            Promise: DexiePromise,\n            PromiseProp: { value: DexiePromise, configurable: true, writable: true },\n            all: DexiePromise.all,\n            race: DexiePromise.race,\n            allSettled: DexiePromise.allSettled,\n            any: DexiePromise.any,\n            resolve: DexiePromise.resolve,\n            reject: DexiePromise.reject,\n        } : {};\n        if (props)\n            extend(psd, props);\n        ++parent.ref;\n        psd.finalize = function () {\n            --this.parent.ref || this.parent.finalize();\n        };\n        var rv = usePSD(psd, fn, a1, a2);\n        if (psd.ref === 0)\n            psd.finalize();\n        return rv;\n    }\n    function incrementExpectedAwaits() {\n        if (!task.id)\n            task.id = ++taskCounter;\n        ++task.awaits;\n        task.echoes += ZONE_ECHO_LIMIT;\n        return task.id;\n    }\n    function decrementExpectedAwaits() {\n        if (!task.awaits)\n            return false;\n        if (--task.awaits === 0)\n            task.id = 0;\n        task.echoes = task.awaits * ZONE_ECHO_LIMIT;\n        return true;\n    }\n    if (('' + nativePromiseThen).indexOf('[native code]') === -1) {\n        incrementExpectedAwaits = decrementExpectedAwaits = nop;\n    }\n    function onPossibleParallellAsync(possiblePromise) {\n        if (task.echoes && possiblePromise && possiblePromise.constructor === NativePromise) {\n            incrementExpectedAwaits();\n            return possiblePromise.then(function (x) {\n                decrementExpectedAwaits();\n                return x;\n            }, function (e) {\n                decrementExpectedAwaits();\n                return rejection(e);\n            });\n        }\n        return possiblePromise;\n    }\n    function zoneEnterEcho(targetZone) {\n        ++totalEchoes;\n        if (!task.echoes || --task.echoes === 0) {\n            task.echoes = task.awaits = task.id = 0;\n        }\n        zoneStack.push(PSD);\n        switchToZone(targetZone, true);\n    }\n    function zoneLeaveEcho() {\n        var zone = zoneStack[zoneStack.length - 1];\n        zoneStack.pop();\n        switchToZone(zone, false);\n    }\n    function switchToZone(targetZone, bEnteringZone) {\n        var currentZone = PSD;\n        if (bEnteringZone ? task.echoes && (!zoneEchoes++ || targetZone !== PSD) : zoneEchoes && (!--zoneEchoes || targetZone !== PSD)) {\n            queueMicrotask(bEnteringZone ? zoneEnterEcho.bind(null, targetZone) : zoneLeaveEcho);\n        }\n        if (targetZone === PSD)\n            return;\n        PSD = targetZone;\n        if (currentZone === globalPSD)\n            globalPSD.env = snapShot();\n        if (patchGlobalPromise) {\n            var GlobalPromise = globalPSD.env.Promise;\n            var targetEnv = targetZone.env;\n            if (currentZone.global || targetZone.global) {\n                Object.defineProperty(_global, 'Promise', targetEnv.PromiseProp);\n                GlobalPromise.all = targetEnv.all;\n                GlobalPromise.race = targetEnv.race;\n                GlobalPromise.resolve = targetEnv.resolve;\n                GlobalPromise.reject = targetEnv.reject;\n                if (targetEnv.allSettled)\n                    GlobalPromise.allSettled = targetEnv.allSettled;\n                if (targetEnv.any)\n                    GlobalPromise.any = targetEnv.any;\n            }\n        }\n    }\n    function snapShot() {\n        var GlobalPromise = _global.Promise;\n        return patchGlobalPromise ? {\n            Promise: GlobalPromise,\n            PromiseProp: Object.getOwnPropertyDescriptor(_global, \"Promise\"),\n            all: GlobalPromise.all,\n            race: GlobalPromise.race,\n            allSettled: GlobalPromise.allSettled,\n            any: GlobalPromise.any,\n            resolve: GlobalPromise.resolve,\n            reject: GlobalPromise.reject,\n        } : {};\n    }\n    function usePSD(psd, fn, a1, a2, a3) {\n        var outerScope = PSD;\n        try {\n            switchToZone(psd, true);\n            return fn(a1, a2, a3);\n        }\n        finally {\n            switchToZone(outerScope, false);\n        }\n    }\n    function nativeAwaitCompatibleWrap(fn, zone, possibleAwait, cleanup) {\n        return typeof fn !== 'function' ? fn : function () {\n            var outerZone = PSD;\n            if (possibleAwait)\n                incrementExpectedAwaits();\n            switchToZone(zone, true);\n            try {\n                return fn.apply(this, arguments);\n            }\n            finally {\n                switchToZone(outerZone, false);\n                if (cleanup)\n                    queueMicrotask(decrementExpectedAwaits);\n            }\n        };\n    }\n    function execInGlobalContext(cb) {\n        if (Promise === NativePromise && task.echoes === 0) {\n            if (zoneEchoes === 0) {\n                cb();\n            }\n            else {\n                enqueueNativeMicroTask(cb);\n            }\n        }\n        else {\n            setTimeout(cb, 0);\n        }\n    }\n    var rejection = DexiePromise.reject;\n\n    function tempTransaction(db, mode, storeNames, fn) {\n        if (!db.idbdb || (!db._state.openComplete && (!PSD.letThrough && !db._vip))) {\n            if (db._state.openComplete) {\n                return rejection(new exceptions.DatabaseClosed(db._state.dbOpenError));\n            }\n            if (!db._state.isBeingOpened) {\n                if (!db._state.autoOpen)\n                    return rejection(new exceptions.DatabaseClosed());\n                db.open().catch(nop);\n            }\n            return db._state.dbReadyPromise.then(function () { return tempTransaction(db, mode, storeNames, fn); });\n        }\n        else {\n            var trans = db._createTransaction(mode, storeNames, db._dbSchema);\n            try {\n                trans.create();\n                db._state.PR1398_maxLoop = 3;\n            }\n            catch (ex) {\n                if (ex.name === errnames.InvalidState && db.isOpen() && --db._state.PR1398_maxLoop > 0) {\n                    console.warn('Dexie: Need to reopen db');\n                    db.close({ disableAutoOpen: false });\n                    return db.open().then(function () { return tempTransaction(db, mode, storeNames, fn); });\n                }\n                return rejection(ex);\n            }\n            return trans._promise(mode, function (resolve, reject) {\n                return newScope(function () {\n                    PSD.trans = trans;\n                    return fn(resolve, reject, trans);\n                });\n            }).then(function (result) {\n                if (mode === 'readwrite')\n                    try {\n                        trans.idbtrans.commit();\n                    }\n                    catch (_a) { }\n                return mode === 'readonly' ? result : trans._completion.then(function () { return result; });\n            });\n        }\n    }\n\n    var DEXIE_VERSION = '4.0.1';\n    var maxString = String.fromCharCode(65535);\n    var minKey = -Infinity;\n    var INVALID_KEY_ARGUMENT = \"Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.\";\n    var STRING_EXPECTED = \"String expected.\";\n    var connections = [];\n    var DBNAMES_DB = '__dbnames';\n    var READONLY = 'readonly';\n    var READWRITE = 'readwrite';\n\n    function combine(filter1, filter2) {\n        return filter1 ?\n            filter2 ?\n                function () { return filter1.apply(this, arguments) && filter2.apply(this, arguments); } :\n                filter1 :\n            filter2;\n    }\n\n    var AnyRange = {\n        type: 3 ,\n        lower: -Infinity,\n        lowerOpen: false,\n        upper: [[]],\n        upperOpen: false\n    };\n\n    function workaroundForUndefinedPrimKey(keyPath) {\n        return typeof keyPath === \"string\" && !/\\./.test(keyPath)\n            ? function (obj) {\n                if (obj[keyPath] === undefined && (keyPath in obj)) {\n                    obj = deepClone(obj);\n                    delete obj[keyPath];\n                }\n                return obj;\n            }\n            : function (obj) { return obj; };\n    }\n\n    function Entity() {\n        throw exceptions.Type();\n    }\n\n    function cmp(a, b) {\n        try {\n            var ta = type(a);\n            var tb = type(b);\n            if (ta !== tb) {\n                if (ta === 'Array')\n                    return 1;\n                if (tb === 'Array')\n                    return -1;\n                if (ta === 'binary')\n                    return 1;\n                if (tb === 'binary')\n                    return -1;\n                if (ta === 'string')\n                    return 1;\n                if (tb === 'string')\n                    return -1;\n                if (ta === 'Date')\n                    return 1;\n                if (tb !== 'Date')\n                    return NaN;\n                return -1;\n            }\n            switch (ta) {\n                case 'number':\n                case 'Date':\n                case 'string':\n                    return a > b ? 1 : a < b ? -1 : 0;\n                case 'binary': {\n                    return compareUint8Arrays(getUint8Array(a), getUint8Array(b));\n                }\n                case 'Array':\n                    return compareArrays(a, b);\n            }\n        }\n        catch (_a) { }\n        return NaN;\n    }\n    function compareArrays(a, b) {\n        var al = a.length;\n        var bl = b.length;\n        var l = al < bl ? al : bl;\n        for (var i = 0; i < l; ++i) {\n            var res = cmp(a[i], b[i]);\n            if (res !== 0)\n                return res;\n        }\n        return al === bl ? 0 : al < bl ? -1 : 1;\n    }\n    function compareUint8Arrays(a, b) {\n        var al = a.length;\n        var bl = b.length;\n        var l = al < bl ? al : bl;\n        for (var i = 0; i < l; ++i) {\n            if (a[i] !== b[i])\n                return a[i] < b[i] ? -1 : 1;\n        }\n        return al === bl ? 0 : al < bl ? -1 : 1;\n    }\n    function type(x) {\n        var t = typeof x;\n        if (t !== 'object')\n            return t;\n        if (ArrayBuffer.isView(x))\n            return 'binary';\n        var tsTag = toStringTag(x);\n        return tsTag === 'ArrayBuffer' ? 'binary' : tsTag;\n    }\n    function getUint8Array(a) {\n        if (a instanceof Uint8Array)\n            return a;\n        if (ArrayBuffer.isView(a))\n            return new Uint8Array(a.buffer, a.byteOffset, a.byteLength);\n        return new Uint8Array(a);\n    }\n\n    var Table =  (function () {\n        function Table() {\n        }\n        Table.prototype._trans = function (mode, fn, writeLocked) {\n            var trans = this._tx || PSD.trans;\n            var tableName = this.name;\n            var task = debug && typeof console !== 'undefined' && console.createTask && console.createTask(\"Dexie: \".concat(mode === 'readonly' ? 'read' : 'write', \" \").concat(this.name));\n            function checkTableInTransaction(resolve, reject, trans) {\n                if (!trans.schema[tableName])\n                    throw new exceptions.NotFound(\"Table \" + tableName + \" not part of transaction\");\n                return fn(trans.idbtrans, trans);\n            }\n            var wasRootExec = beginMicroTickScope();\n            try {\n                var p = trans && trans.db._novip === this.db._novip ?\n                    trans === PSD.trans ?\n                        trans._promise(mode, checkTableInTransaction, writeLocked) :\n                        newScope(function () { return trans._promise(mode, checkTableInTransaction, writeLocked); }, { trans: trans, transless: PSD.transless || PSD }) :\n                    tempTransaction(this.db, mode, [this.name], checkTableInTransaction);\n                if (task) {\n                    p._consoleTask = task;\n                    p = p.catch(function (err) {\n                        console.trace(err);\n                        return rejection(err);\n                    });\n                }\n                return p;\n            }\n            finally {\n                if (wasRootExec)\n                    endMicroTickScope();\n            }\n        };\n        Table.prototype.get = function (keyOrCrit, cb) {\n            var _this = this;\n            if (keyOrCrit && keyOrCrit.constructor === Object)\n                return this.where(keyOrCrit).first(cb);\n            if (keyOrCrit == null)\n                return rejection(new exceptions.Type(\"Invalid argument to Table.get()\"));\n            return this._trans('readonly', function (trans) {\n                return _this.core.get({ trans: trans, key: keyOrCrit })\n                    .then(function (res) { return _this.hook.reading.fire(res); });\n            }).then(cb);\n        };\n        Table.prototype.where = function (indexOrCrit) {\n            if (typeof indexOrCrit === 'string')\n                return new this.db.WhereClause(this, indexOrCrit);\n            if (isArray(indexOrCrit))\n                return new this.db.WhereClause(this, \"[\".concat(indexOrCrit.join('+'), \"]\"));\n            var keyPaths = keys(indexOrCrit);\n            if (keyPaths.length === 1)\n                return this\n                    .where(keyPaths[0])\n                    .equals(indexOrCrit[keyPaths[0]]);\n            var compoundIndex = this.schema.indexes.concat(this.schema.primKey).filter(function (ix) {\n                if (ix.compound &&\n                    keyPaths.every(function (keyPath) { return ix.keyPath.indexOf(keyPath) >= 0; })) {\n                    for (var i = 0; i < keyPaths.length; ++i) {\n                        if (keyPaths.indexOf(ix.keyPath[i]) === -1)\n                            return false;\n                    }\n                    return true;\n                }\n                return false;\n            }).sort(function (a, b) { return a.keyPath.length - b.keyPath.length; })[0];\n            if (compoundIndex && this.db._maxKey !== maxString) {\n                var keyPathsInValidOrder = compoundIndex.keyPath.slice(0, keyPaths.length);\n                return this\n                    .where(keyPathsInValidOrder)\n                    .equals(keyPathsInValidOrder.map(function (kp) { return indexOrCrit[kp]; }));\n            }\n            if (!compoundIndex && debug)\n                console.warn(\"The query \".concat(JSON.stringify(indexOrCrit), \" on \").concat(this.name, \" would benefit from a \") +\n                    \"compound index [\".concat(keyPaths.join('+'), \"]\"));\n            var idxByName = this.schema.idxByName;\n            var idb = this.db._deps.indexedDB;\n            function equals(a, b) {\n                return idb.cmp(a, b) === 0;\n            }\n            var _a = keyPaths.reduce(function (_a, keyPath) {\n                var prevIndex = _a[0], prevFilterFn = _a[1];\n                var index = idxByName[keyPath];\n                var value = indexOrCrit[keyPath];\n                return [\n                    prevIndex || index,\n                    prevIndex || !index ?\n                        combine(prevFilterFn, index && index.multi ?\n                            function (x) {\n                                var prop = getByKeyPath(x, keyPath);\n                                return isArray(prop) && prop.some(function (item) { return equals(value, item); });\n                            } : function (x) { return equals(value, getByKeyPath(x, keyPath)); })\n                        : prevFilterFn\n                ];\n            }, [null, null]), idx = _a[0], filterFunction = _a[1];\n            return idx ?\n                this.where(idx.name).equals(indexOrCrit[idx.keyPath])\n                    .filter(filterFunction) :\n                compoundIndex ?\n                    this.filter(filterFunction) :\n                    this.where(keyPaths).equals('');\n        };\n        Table.prototype.filter = function (filterFunction) {\n            return this.toCollection().and(filterFunction);\n        };\n        Table.prototype.count = function (thenShortcut) {\n            return this.toCollection().count(thenShortcut);\n        };\n        Table.prototype.offset = function (offset) {\n            return this.toCollection().offset(offset);\n        };\n        Table.prototype.limit = function (numRows) {\n            return this.toCollection().limit(numRows);\n        };\n        Table.prototype.each = function (callback) {\n            return this.toCollection().each(callback);\n        };\n        Table.prototype.toArray = function (thenShortcut) {\n            return this.toCollection().toArray(thenShortcut);\n        };\n        Table.prototype.toCollection = function () {\n            return new this.db.Collection(new this.db.WhereClause(this));\n        };\n        Table.prototype.orderBy = function (index) {\n            return new this.db.Collection(new this.db.WhereClause(this, isArray(index) ?\n                \"[\".concat(index.join('+'), \"]\") :\n                index));\n        };\n        Table.prototype.reverse = function () {\n            return this.toCollection().reverse();\n        };\n        Table.prototype.mapToClass = function (constructor) {\n            var _a = this, db = _a.db, tableName = _a.name;\n            this.schema.mappedClass = constructor;\n            if (constructor.prototype instanceof Entity) {\n                constructor =  (function (_super) {\n                    __extends(class_1, _super);\n                    function class_1() {\n                        return _super !== null && _super.apply(this, arguments) || this;\n                    }\n                    Object.defineProperty(class_1.prototype, \"db\", {\n                        get: function () { return db; },\n                        enumerable: false,\n                        configurable: true\n                    });\n                    class_1.prototype.table = function () { return tableName; };\n                    return class_1;\n                }(constructor));\n            }\n            var inheritedProps = new Set();\n            for (var proto = constructor.prototype; proto; proto = getProto(proto)) {\n                Object.getOwnPropertyNames(proto).forEach(function (propName) { return inheritedProps.add(propName); });\n            }\n            var readHook = function (obj) {\n                if (!obj)\n                    return obj;\n                var res = Object.create(constructor.prototype);\n                for (var m in obj)\n                    if (!inheritedProps.has(m))\n                        try {\n                            res[m] = obj[m];\n                        }\n                        catch (_) { }\n                return res;\n            };\n            if (this.schema.readHook) {\n                this.hook.reading.unsubscribe(this.schema.readHook);\n            }\n            this.schema.readHook = readHook;\n            this.hook(\"reading\", readHook);\n            return constructor;\n        };\n        Table.prototype.defineClass = function () {\n            function Class(content) {\n                extend(this, content);\n            }\n            return this.mapToClass(Class);\n        };\n        Table.prototype.add = function (obj, key) {\n            var _this = this;\n            var _a = this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;\n            var objToAdd = obj;\n            if (keyPath && auto) {\n                objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);\n            }\n            return this._trans('readwrite', function (trans) {\n                return _this.core.mutate({ trans: trans, type: 'add', keys: key != null ? [key] : null, values: [objToAdd] });\n            }).then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult; })\n                .then(function (lastResult) {\n                if (keyPath) {\n                    try {\n                        setByKeyPath(obj, keyPath, lastResult);\n                    }\n                    catch (_) { }\n                }\n                return lastResult;\n            });\n        };\n        Table.prototype.update = function (keyOrObject, modifications) {\n            if (typeof keyOrObject === 'object' && !isArray(keyOrObject)) {\n                var key = getByKeyPath(keyOrObject, this.schema.primKey.keyPath);\n                if (key === undefined)\n                    return rejection(new exceptions.InvalidArgument(\"Given object does not contain its primary key\"));\n                return this.where(\":id\").equals(key).modify(modifications);\n            }\n            else {\n                return this.where(\":id\").equals(keyOrObject).modify(modifications);\n            }\n        };\n        Table.prototype.put = function (obj, key) {\n            var _this = this;\n            var _a = this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;\n            var objToAdd = obj;\n            if (keyPath && auto) {\n                objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);\n            }\n            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'put', values: [objToAdd], keys: key != null ? [key] : null }); })\n                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult; })\n                .then(function (lastResult) {\n                if (keyPath) {\n                    try {\n                        setByKeyPath(obj, keyPath, lastResult);\n                    }\n                    catch (_) { }\n                }\n                return lastResult;\n            });\n        };\n        Table.prototype.delete = function (key) {\n            var _this = this;\n            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'delete', keys: [key] }); })\n                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined; });\n        };\n        Table.prototype.clear = function () {\n            var _this = this;\n            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'deleteRange', range: AnyRange }); })\n                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined; });\n        };\n        Table.prototype.bulkGet = function (keys) {\n            var _this = this;\n            return this._trans('readonly', function (trans) {\n                return _this.core.getMany({\n                    keys: keys,\n                    trans: trans\n                }).then(function (result) { return result.map(function (res) { return _this.hook.reading.fire(res); }); });\n            });\n        };\n        Table.prototype.bulkAdd = function (objects, keysOrOptions, options) {\n            var _this = this;\n            var keys = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;\n            options = options || (keys ? undefined : keysOrOptions);\n            var wantResults = options ? options.allKeys : undefined;\n            return this._trans('readwrite', function (trans) {\n                var _a = _this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;\n                if (keyPath && keys)\n                    throw new exceptions.InvalidArgument(\"bulkAdd(): keys argument invalid on tables with inbound keys\");\n                if (keys && keys.length !== objects.length)\n                    throw new exceptions.InvalidArgument(\"Arguments objects and keys must have the same length\");\n                var numObjects = objects.length;\n                var objectsToAdd = keyPath && auto ?\n                    objects.map(workaroundForUndefinedPrimKey(keyPath)) :\n                    objects;\n                return _this.core.mutate({ trans: trans, type: 'add', keys: keys, values: objectsToAdd, wantResults: wantResults })\n                    .then(function (_a) {\n                    var numFailures = _a.numFailures, results = _a.results, lastResult = _a.lastResult, failures = _a.failures;\n                    var result = wantResults ? results : lastResult;\n                    if (numFailures === 0)\n                        return result;\n                    throw new BulkError(\"\".concat(_this.name, \".bulkAdd(): \").concat(numFailures, \" of \").concat(numObjects, \" operations failed\"), failures);\n                });\n            });\n        };\n        Table.prototype.bulkPut = function (objects, keysOrOptions, options) {\n            var _this = this;\n            var keys = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;\n            options = options || (keys ? undefined : keysOrOptions);\n            var wantResults = options ? options.allKeys : undefined;\n            return this._trans('readwrite', function (trans) {\n                var _a = _this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;\n                if (keyPath && keys)\n                    throw new exceptions.InvalidArgument(\"bulkPut(): keys argument invalid on tables with inbound keys\");\n                if (keys && keys.length !== objects.length)\n                    throw new exceptions.InvalidArgument(\"Arguments objects and keys must have the same length\");\n                var numObjects = objects.length;\n                var objectsToPut = keyPath && auto ?\n                    objects.map(workaroundForUndefinedPrimKey(keyPath)) :\n                    objects;\n                return _this.core.mutate({ trans: trans, type: 'put', keys: keys, values: objectsToPut, wantResults: wantResults })\n                    .then(function (_a) {\n                    var numFailures = _a.numFailures, results = _a.results, lastResult = _a.lastResult, failures = _a.failures;\n                    var result = wantResults ? results : lastResult;\n                    if (numFailures === 0)\n                        return result;\n                    throw new BulkError(\"\".concat(_this.name, \".bulkPut(): \").concat(numFailures, \" of \").concat(numObjects, \" operations failed\"), failures);\n                });\n            });\n        };\n        Table.prototype.bulkUpdate = function (keysAndChanges) {\n            var _this = this;\n            var coreTable = this.core;\n            var keys = keysAndChanges.map(function (entry) { return entry.key; });\n            var changeSpecs = keysAndChanges.map(function (entry) { return entry.changes; });\n            var offsetMap = [];\n            return this._trans('readwrite', function (trans) {\n                return coreTable.getMany({ trans: trans, keys: keys, cache: 'clone' }).then(function (objs) {\n                    var resultKeys = [];\n                    var resultObjs = [];\n                    keysAndChanges.forEach(function (_a, idx) {\n                        var key = _a.key, changes = _a.changes;\n                        var obj = objs[idx];\n                        if (obj) {\n                            for (var _i = 0, _b = Object.keys(changes); _i < _b.length; _i++) {\n                                var keyPath = _b[_i];\n                                var value = changes[keyPath];\n                                if (keyPath === _this.schema.primKey.keyPath) {\n                                    if (cmp(value, key) !== 0) {\n                                        throw new exceptions.Constraint(\"Cannot update primary key in bulkUpdate()\");\n                                    }\n                                }\n                                else {\n                                    setByKeyPath(obj, keyPath, value);\n                                }\n                            }\n                            offsetMap.push(idx);\n                            resultKeys.push(key);\n                            resultObjs.push(obj);\n                        }\n                    });\n                    var numEntries = resultKeys.length;\n                    return coreTable\n                        .mutate({\n                        trans: trans,\n                        type: 'put',\n                        keys: resultKeys,\n                        values: resultObjs,\n                        updates: {\n                            keys: keys,\n                            changeSpecs: changeSpecs\n                        }\n                    })\n                        .then(function (_a) {\n                        var numFailures = _a.numFailures, failures = _a.failures;\n                        if (numFailures === 0)\n                            return numEntries;\n                        for (var _i = 0, _b = Object.keys(failures); _i < _b.length; _i++) {\n                            var offset = _b[_i];\n                            var mappedOffset = offsetMap[Number(offset)];\n                            if (mappedOffset != null) {\n                                var failure = failures[offset];\n                                delete failures[offset];\n                                failures[mappedOffset] = failure;\n                            }\n                        }\n                        throw new BulkError(\"\".concat(_this.name, \".bulkUpdate(): \").concat(numFailures, \" of \").concat(numEntries, \" operations failed\"), failures);\n                    });\n                });\n            });\n        };\n        Table.prototype.bulkDelete = function (keys) {\n            var _this = this;\n            var numKeys = keys.length;\n            return this._trans('readwrite', function (trans) {\n                return _this.core.mutate({ trans: trans, type: 'delete', keys: keys });\n            }).then(function (_a) {\n                var numFailures = _a.numFailures, lastResult = _a.lastResult, failures = _a.failures;\n                if (numFailures === 0)\n                    return lastResult;\n                throw new BulkError(\"\".concat(_this.name, \".bulkDelete(): \").concat(numFailures, \" of \").concat(numKeys, \" operations failed\"), failures);\n            });\n        };\n        return Table;\n    }());\n\n    function Events(ctx) {\n        var evs = {};\n        var rv = function (eventName, subscriber) {\n            if (subscriber) {\n                var i = arguments.length, args = new Array(i - 1);\n                while (--i)\n                    args[i - 1] = arguments[i];\n                evs[eventName].subscribe.apply(null, args);\n                return ctx;\n            }\n            else if (typeof (eventName) === 'string') {\n                return evs[eventName];\n            }\n        };\n        rv.addEventType = add;\n        for (var i = 1, l = arguments.length; i < l; ++i) {\n            add(arguments[i]);\n        }\n        return rv;\n        function add(eventName, chainFunction, defaultFunction) {\n            if (typeof eventName === 'object')\n                return addConfiguredEvents(eventName);\n            if (!chainFunction)\n                chainFunction = reverseStoppableEventChain;\n            if (!defaultFunction)\n                defaultFunction = nop;\n            var context = {\n                subscribers: [],\n                fire: defaultFunction,\n                subscribe: function (cb) {\n                    if (context.subscribers.indexOf(cb) === -1) {\n                        context.subscribers.push(cb);\n                        context.fire = chainFunction(context.fire, cb);\n                    }\n                },\n                unsubscribe: function (cb) {\n                    context.subscribers = context.subscribers.filter(function (fn) { return fn !== cb; });\n                    context.fire = context.subscribers.reduce(chainFunction, defaultFunction);\n                }\n            };\n            evs[eventName] = rv[eventName] = context;\n            return context;\n        }\n        function addConfiguredEvents(cfg) {\n            keys(cfg).forEach(function (eventName) {\n                var args = cfg[eventName];\n                if (isArray(args)) {\n                    add(eventName, cfg[eventName][0], cfg[eventName][1]);\n                }\n                else if (args === 'asap') {\n                    var context = add(eventName, mirror, function fire() {\n                        var i = arguments.length, args = new Array(i);\n                        while (i--)\n                            args[i] = arguments[i];\n                        context.subscribers.forEach(function (fn) {\n                            asap$1(function fireEvent() {\n                                fn.apply(null, args);\n                            });\n                        });\n                    });\n                }\n                else\n                    throw new exceptions.InvalidArgument(\"Invalid event config\");\n            });\n        }\n    }\n\n    function makeClassConstructor(prototype, constructor) {\n        derive(constructor).from({ prototype: prototype });\n        return constructor;\n    }\n\n    function createTableConstructor(db) {\n        return makeClassConstructor(Table.prototype, function Table(name, tableSchema, trans) {\n            this.db = db;\n            this._tx = trans;\n            this.name = name;\n            this.schema = tableSchema;\n            this.hook = db._allTables[name] ? db._allTables[name].hook : Events(null, {\n                \"creating\": [hookCreatingChain, nop],\n                \"reading\": [pureFunctionChain, mirror],\n                \"updating\": [hookUpdatingChain, nop],\n                \"deleting\": [hookDeletingChain, nop]\n            });\n        });\n    }\n\n    function isPlainKeyRange(ctx, ignoreLimitFilter) {\n        return !(ctx.filter || ctx.algorithm || ctx.or) &&\n            (ignoreLimitFilter ? ctx.justLimit : !ctx.replayFilter);\n    }\n    function addFilter(ctx, fn) {\n        ctx.filter = combine(ctx.filter, fn);\n    }\n    function addReplayFilter(ctx, factory, isLimitFilter) {\n        var curr = ctx.replayFilter;\n        ctx.replayFilter = curr ? function () { return combine(curr(), factory()); } : factory;\n        ctx.justLimit = isLimitFilter && !curr;\n    }\n    function addMatchFilter(ctx, fn) {\n        ctx.isMatch = combine(ctx.isMatch, fn);\n    }\n    function getIndexOrStore(ctx, coreSchema) {\n        if (ctx.isPrimKey)\n            return coreSchema.primaryKey;\n        var index = coreSchema.getIndexByKeyPath(ctx.index);\n        if (!index)\n            throw new exceptions.Schema(\"KeyPath \" + ctx.index + \" on object store \" + coreSchema.name + \" is not indexed\");\n        return index;\n    }\n    function openCursor(ctx, coreTable, trans) {\n        var index = getIndexOrStore(ctx, coreTable.schema);\n        return coreTable.openCursor({\n            trans: trans,\n            values: !ctx.keysOnly,\n            reverse: ctx.dir === 'prev',\n            unique: !!ctx.unique,\n            query: {\n                index: index,\n                range: ctx.range\n            }\n        });\n    }\n    function iter(ctx, fn, coreTrans, coreTable) {\n        var filter = ctx.replayFilter ? combine(ctx.filter, ctx.replayFilter()) : ctx.filter;\n        if (!ctx.or) {\n            return iterate(openCursor(ctx, coreTable, coreTrans), combine(ctx.algorithm, filter), fn, !ctx.keysOnly && ctx.valueMapper);\n        }\n        else {\n            var set_1 = {};\n            var union = function (item, cursor, advance) {\n                if (!filter || filter(cursor, advance, function (result) { return cursor.stop(result); }, function (err) { return cursor.fail(err); })) {\n                    var primaryKey = cursor.primaryKey;\n                    var key = '' + primaryKey;\n                    if (key === '[object ArrayBuffer]')\n                        key = '' + new Uint8Array(primaryKey);\n                    if (!hasOwn(set_1, key)) {\n                        set_1[key] = true;\n                        fn(item, cursor, advance);\n                    }\n                }\n            };\n            return Promise.all([\n                ctx.or._iterate(union, coreTrans),\n                iterate(openCursor(ctx, coreTable, coreTrans), ctx.algorithm, union, !ctx.keysOnly && ctx.valueMapper)\n            ]);\n        }\n    }\n    function iterate(cursorPromise, filter, fn, valueMapper) {\n        var mappedFn = valueMapper ? function (x, c, a) { return fn(valueMapper(x), c, a); } : fn;\n        var wrappedFn = wrap(mappedFn);\n        return cursorPromise.then(function (cursor) {\n            if (cursor) {\n                return cursor.start(function () {\n                    var c = function () { return cursor.continue(); };\n                    if (!filter || filter(cursor, function (advancer) { return c = advancer; }, function (val) { cursor.stop(val); c = nop; }, function (e) { cursor.fail(e); c = nop; }))\n                        wrappedFn(cursor.value, cursor, function (advancer) { return c = advancer; });\n                    c();\n                });\n            }\n        });\n    }\n\n    var PropModSymbol = Symbol();\n    var PropModification =  (function () {\n        function PropModification(spec) {\n            Object.assign(this, spec);\n        }\n        PropModification.prototype.execute = function (value) {\n            var _a;\n            var prefixToReplace = (_a = this.replacePrefix) === null || _a === void 0 ? void 0 : _a[0];\n            if (prefixToReplace && typeof value === 'string' && value.startsWith(prefixToReplace)) {\n                return this.replacePrefix[1] + value.substring(prefixToReplace.length);\n            }\n            return value;\n        };\n        return PropModification;\n    }());\n\n    var Collection =  (function () {\n        function Collection() {\n        }\n        Collection.prototype._read = function (fn, cb) {\n            var ctx = this._ctx;\n            return ctx.error ?\n                ctx.table._trans(null, rejection.bind(null, ctx.error)) :\n                ctx.table._trans('readonly', fn).then(cb);\n        };\n        Collection.prototype._write = function (fn) {\n            var ctx = this._ctx;\n            return ctx.error ?\n                ctx.table._trans(null, rejection.bind(null, ctx.error)) :\n                ctx.table._trans('readwrite', fn, \"locked\");\n        };\n        Collection.prototype._addAlgorithm = function (fn) {\n            var ctx = this._ctx;\n            ctx.algorithm = combine(ctx.algorithm, fn);\n        };\n        Collection.prototype._iterate = function (fn, coreTrans) {\n            return iter(this._ctx, fn, coreTrans, this._ctx.table.core);\n        };\n        Collection.prototype.clone = function (props) {\n            var rv = Object.create(this.constructor.prototype), ctx = Object.create(this._ctx);\n            if (props)\n                extend(ctx, props);\n            rv._ctx = ctx;\n            return rv;\n        };\n        Collection.prototype.raw = function () {\n            this._ctx.valueMapper = null;\n            return this;\n        };\n        Collection.prototype.each = function (fn) {\n            var ctx = this._ctx;\n            return this._read(function (trans) { return iter(ctx, fn, trans, ctx.table.core); });\n        };\n        Collection.prototype.count = function (cb) {\n            var _this = this;\n            return this._read(function (trans) {\n                var ctx = _this._ctx;\n                var coreTable = ctx.table.core;\n                if (isPlainKeyRange(ctx, true)) {\n                    return coreTable.count({\n                        trans: trans,\n                        query: {\n                            index: getIndexOrStore(ctx, coreTable.schema),\n                            range: ctx.range\n                        }\n                    }).then(function (count) { return Math.min(count, ctx.limit); });\n                }\n                else {\n                    var count = 0;\n                    return iter(ctx, function () { ++count; return false; }, trans, coreTable)\n                        .then(function () { return count; });\n                }\n            }).then(cb);\n        };\n        Collection.prototype.sortBy = function (keyPath, cb) {\n            var parts = keyPath.split('.').reverse(), lastPart = parts[0], lastIndex = parts.length - 1;\n            function getval(obj, i) {\n                if (i)\n                    return getval(obj[parts[i]], i - 1);\n                return obj[lastPart];\n            }\n            var order = this._ctx.dir === \"next\" ? 1 : -1;\n            function sorter(a, b) {\n                var aVal = getval(a, lastIndex), bVal = getval(b, lastIndex);\n                return aVal < bVal ? -order : aVal > bVal ? order : 0;\n            }\n            return this.toArray(function (a) {\n                return a.sort(sorter);\n            }).then(cb);\n        };\n        Collection.prototype.toArray = function (cb) {\n            var _this = this;\n            return this._read(function (trans) {\n                var ctx = _this._ctx;\n                if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {\n                    var valueMapper_1 = ctx.valueMapper;\n                    var index = getIndexOrStore(ctx, ctx.table.core.schema);\n                    return ctx.table.core.query({\n                        trans: trans,\n                        limit: ctx.limit,\n                        values: true,\n                        query: {\n                            index: index,\n                            range: ctx.range\n                        }\n                    }).then(function (_a) {\n                        var result = _a.result;\n                        return valueMapper_1 ? result.map(valueMapper_1) : result;\n                    });\n                }\n                else {\n                    var a_1 = [];\n                    return iter(ctx, function (item) { return a_1.push(item); }, trans, ctx.table.core).then(function () { return a_1; });\n                }\n            }, cb);\n        };\n        Collection.prototype.offset = function (offset) {\n            var ctx = this._ctx;\n            if (offset <= 0)\n                return this;\n            ctx.offset += offset;\n            if (isPlainKeyRange(ctx)) {\n                addReplayFilter(ctx, function () {\n                    var offsetLeft = offset;\n                    return function (cursor, advance) {\n                        if (offsetLeft === 0)\n                            return true;\n                        if (offsetLeft === 1) {\n                            --offsetLeft;\n                            return false;\n                        }\n                        advance(function () {\n                            cursor.advance(offsetLeft);\n                            offsetLeft = 0;\n                        });\n                        return false;\n                    };\n                });\n            }\n            else {\n                addReplayFilter(ctx, function () {\n                    var offsetLeft = offset;\n                    return function () { return (--offsetLeft < 0); };\n                });\n            }\n            return this;\n        };\n        Collection.prototype.limit = function (numRows) {\n            this._ctx.limit = Math.min(this._ctx.limit, numRows);\n            addReplayFilter(this._ctx, function () {\n                var rowsLeft = numRows;\n                return function (cursor, advance, resolve) {\n                    if (--rowsLeft <= 0)\n                        advance(resolve);\n                    return rowsLeft >= 0;\n                };\n            }, true);\n            return this;\n        };\n        Collection.prototype.until = function (filterFunction, bIncludeStopEntry) {\n            addFilter(this._ctx, function (cursor, advance, resolve) {\n                if (filterFunction(cursor.value)) {\n                    advance(resolve);\n                    return bIncludeStopEntry;\n                }\n                else {\n                    return true;\n                }\n            });\n            return this;\n        };\n        Collection.prototype.first = function (cb) {\n            return this.limit(1).toArray(function (a) { return a[0]; }).then(cb);\n        };\n        Collection.prototype.last = function (cb) {\n            return this.reverse().first(cb);\n        };\n        Collection.prototype.filter = function (filterFunction) {\n            addFilter(this._ctx, function (cursor) {\n                return filterFunction(cursor.value);\n            });\n            addMatchFilter(this._ctx, filterFunction);\n            return this;\n        };\n        Collection.prototype.and = function (filter) {\n            return this.filter(filter);\n        };\n        Collection.prototype.or = function (indexName) {\n            return new this.db.WhereClause(this._ctx.table, indexName, this);\n        };\n        Collection.prototype.reverse = function () {\n            this._ctx.dir = (this._ctx.dir === \"prev\" ? \"next\" : \"prev\");\n            if (this._ondirectionchange)\n                this._ondirectionchange(this._ctx.dir);\n            return this;\n        };\n        Collection.prototype.desc = function () {\n            return this.reverse();\n        };\n        Collection.prototype.eachKey = function (cb) {\n            var ctx = this._ctx;\n            ctx.keysOnly = !ctx.isMatch;\n            return this.each(function (val, cursor) { cb(cursor.key, cursor); });\n        };\n        Collection.prototype.eachUniqueKey = function (cb) {\n            this._ctx.unique = \"unique\";\n            return this.eachKey(cb);\n        };\n        Collection.prototype.eachPrimaryKey = function (cb) {\n            var ctx = this._ctx;\n            ctx.keysOnly = !ctx.isMatch;\n            return this.each(function (val, cursor) { cb(cursor.primaryKey, cursor); });\n        };\n        Collection.prototype.keys = function (cb) {\n            var ctx = this._ctx;\n            ctx.keysOnly = !ctx.isMatch;\n            var a = [];\n            return this.each(function (item, cursor) {\n                a.push(cursor.key);\n            }).then(function () {\n                return a;\n            }).then(cb);\n        };\n        Collection.prototype.primaryKeys = function (cb) {\n            var ctx = this._ctx;\n            if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {\n                return this._read(function (trans) {\n                    var index = getIndexOrStore(ctx, ctx.table.core.schema);\n                    return ctx.table.core.query({\n                        trans: trans,\n                        values: false,\n                        limit: ctx.limit,\n                        query: {\n                            index: index,\n                            range: ctx.range\n                        }\n                    });\n                }).then(function (_a) {\n                    var result = _a.result;\n                    return result;\n                }).then(cb);\n            }\n            ctx.keysOnly = !ctx.isMatch;\n            var a = [];\n            return this.each(function (item, cursor) {\n                a.push(cursor.primaryKey);\n            }).then(function () {\n                return a;\n            }).then(cb);\n        };\n        Collection.prototype.uniqueKeys = function (cb) {\n            this._ctx.unique = \"unique\";\n            return this.keys(cb);\n        };\n        Collection.prototype.firstKey = function (cb) {\n            return this.limit(1).keys(function (a) { return a[0]; }).then(cb);\n        };\n        Collection.prototype.lastKey = function (cb) {\n            return this.reverse().firstKey(cb);\n        };\n        Collection.prototype.distinct = function () {\n            var ctx = this._ctx, idx = ctx.index && ctx.table.schema.idxByName[ctx.index];\n            if (!idx || !idx.multi)\n                return this;\n            var set = {};\n            addFilter(this._ctx, function (cursor) {\n                var strKey = cursor.primaryKey.toString();\n                var found = hasOwn(set, strKey);\n                set[strKey] = true;\n                return !found;\n            });\n            return this;\n        };\n        Collection.prototype.modify = function (changes) {\n            var _this = this;\n            var ctx = this._ctx;\n            return this._write(function (trans) {\n                var modifyer;\n                if (typeof changes === 'function') {\n                    modifyer = changes;\n                }\n                else {\n                    var keyPaths = keys(changes);\n                    var numKeys = keyPaths.length;\n                    modifyer = function (item) {\n                        var anythingModified = false;\n                        for (var i = 0; i < numKeys; ++i) {\n                            var keyPath = keyPaths[i];\n                            var val = changes[keyPath];\n                            var origVal = getByKeyPath(item, keyPath);\n                            if (val instanceof PropModification) {\n                                setByKeyPath(item, keyPath, val.execute(origVal));\n                                anythingModified = true;\n                            }\n                            else if (origVal !== val) {\n                                setByKeyPath(item, keyPath, val);\n                                anythingModified = true;\n                            }\n                        }\n                        return anythingModified;\n                    };\n                }\n                var coreTable = ctx.table.core;\n                var _a = coreTable.schema.primaryKey, outbound = _a.outbound, extractKey = _a.extractKey;\n                var limit = _this.db._options.modifyChunkSize || 200;\n                var totalFailures = [];\n                var successCount = 0;\n                var failedKeys = [];\n                var applyMutateResult = function (expectedCount, res) {\n                    var failures = res.failures, numFailures = res.numFailures;\n                    successCount += expectedCount - numFailures;\n                    for (var _i = 0, _a = keys(failures); _i < _a.length; _i++) {\n                        var pos = _a[_i];\n                        totalFailures.push(failures[pos]);\n                    }\n                };\n                return _this.clone().primaryKeys().then(function (keys) {\n                    var nextChunk = function (offset) {\n                        var count = Math.min(limit, keys.length - offset);\n                        return coreTable.getMany({\n                            trans: trans,\n                            keys: keys.slice(offset, offset + count),\n                            cache: \"immutable\"\n                        }).then(function (values) {\n                            var addValues = [];\n                            var putValues = [];\n                            var putKeys = outbound ? [] : null;\n                            var deleteKeys = [];\n                            for (var i = 0; i < count; ++i) {\n                                var origValue = values[i];\n                                var ctx_1 = {\n                                    value: deepClone(origValue),\n                                    primKey: keys[offset + i]\n                                };\n                                if (modifyer.call(ctx_1, ctx_1.value, ctx_1) !== false) {\n                                    if (ctx_1.value == null) {\n                                        deleteKeys.push(keys[offset + i]);\n                                    }\n                                    else if (!outbound && cmp(extractKey(origValue), extractKey(ctx_1.value)) !== 0) {\n                                        deleteKeys.push(keys[offset + i]);\n                                        addValues.push(ctx_1.value);\n                                    }\n                                    else {\n                                        putValues.push(ctx_1.value);\n                                        if (outbound)\n                                            putKeys.push(keys[offset + i]);\n                                    }\n                                }\n                            }\n                            var criteria = isPlainKeyRange(ctx) &&\n                                ctx.limit === Infinity &&\n                                (typeof changes !== 'function' || changes === deleteCallback) && {\n                                index: ctx.index,\n                                range: ctx.range\n                            };\n                            return Promise.resolve(addValues.length > 0 &&\n                                coreTable.mutate({ trans: trans, type: 'add', values: addValues })\n                                    .then(function (res) {\n                                    for (var pos in res.failures) {\n                                        deleteKeys.splice(parseInt(pos), 1);\n                                    }\n                                    applyMutateResult(addValues.length, res);\n                                })).then(function () { return (putValues.length > 0 || (criteria && typeof changes === 'object')) &&\n                                coreTable.mutate({\n                                    trans: trans,\n                                    type: 'put',\n                                    keys: putKeys,\n                                    values: putValues,\n                                    criteria: criteria,\n                                    changeSpec: typeof changes !== 'function'\n                                        && changes\n                                }).then(function (res) { return applyMutateResult(putValues.length, res); }); }).then(function () { return (deleteKeys.length > 0 || (criteria && changes === deleteCallback)) &&\n                                coreTable.mutate({\n                                    trans: trans,\n                                    type: 'delete',\n                                    keys: deleteKeys,\n                                    criteria: criteria\n                                }).then(function (res) { return applyMutateResult(deleteKeys.length, res); }); }).then(function () {\n                                return keys.length > offset + count && nextChunk(offset + limit);\n                            });\n                        });\n                    };\n                    return nextChunk(0).then(function () {\n                        if (totalFailures.length > 0)\n                            throw new ModifyError(\"Error modifying one or more objects\", totalFailures, successCount, failedKeys);\n                        return keys.length;\n                    });\n                });\n            });\n        };\n        Collection.prototype.delete = function () {\n            var ctx = this._ctx, range = ctx.range;\n            if (isPlainKeyRange(ctx) &&\n                (ctx.isPrimKey || range.type === 3 ))\n             {\n                return this._write(function (trans) {\n                    var primaryKey = ctx.table.core.schema.primaryKey;\n                    var coreRange = range;\n                    return ctx.table.core.count({ trans: trans, query: { index: primaryKey, range: coreRange } }).then(function (count) {\n                        return ctx.table.core.mutate({ trans: trans, type: 'deleteRange', range: coreRange })\n                            .then(function (_a) {\n                            var failures = _a.failures; _a.lastResult; _a.results; var numFailures = _a.numFailures;\n                            if (numFailures)\n                                throw new ModifyError(\"Could not delete some values\", Object.keys(failures).map(function (pos) { return failures[pos]; }), count - numFailures);\n                            return count - numFailures;\n                        });\n                    });\n                });\n            }\n            return this.modify(deleteCallback);\n        };\n        return Collection;\n    }());\n    var deleteCallback = function (value, ctx) { return ctx.value = null; };\n\n    function createCollectionConstructor(db) {\n        return makeClassConstructor(Collection.prototype, function Collection(whereClause, keyRangeGenerator) {\n            this.db = db;\n            var keyRange = AnyRange, error = null;\n            if (keyRangeGenerator)\n                try {\n                    keyRange = keyRangeGenerator();\n                }\n                catch (ex) {\n                    error = ex;\n                }\n            var whereCtx = whereClause._ctx;\n            var table = whereCtx.table;\n            var readingHook = table.hook.reading.fire;\n            this._ctx = {\n                table: table,\n                index: whereCtx.index,\n                isPrimKey: (!whereCtx.index || (table.schema.primKey.keyPath && whereCtx.index === table.schema.primKey.name)),\n                range: keyRange,\n                keysOnly: false,\n                dir: \"next\",\n                unique: \"\",\n                algorithm: null,\n                filter: null,\n                replayFilter: null,\n                justLimit: true,\n                isMatch: null,\n                offset: 0,\n                limit: Infinity,\n                error: error,\n                or: whereCtx.or,\n                valueMapper: readingHook !== mirror ? readingHook : null\n            };\n        });\n    }\n\n    function simpleCompare(a, b) {\n        return a < b ? -1 : a === b ? 0 : 1;\n    }\n    function simpleCompareReverse(a, b) {\n        return a > b ? -1 : a === b ? 0 : 1;\n    }\n\n    function fail(collectionOrWhereClause, err, T) {\n        var collection = collectionOrWhereClause instanceof WhereClause ?\n            new collectionOrWhereClause.Collection(collectionOrWhereClause) :\n            collectionOrWhereClause;\n        collection._ctx.error = T ? new T(err) : new TypeError(err);\n        return collection;\n    }\n    function emptyCollection(whereClause) {\n        return new whereClause.Collection(whereClause, function () { return rangeEqual(\"\"); }).limit(0);\n    }\n    function upperFactory(dir) {\n        return dir === \"next\" ?\n            function (s) { return s.toUpperCase(); } :\n            function (s) { return s.toLowerCase(); };\n    }\n    function lowerFactory(dir) {\n        return dir === \"next\" ?\n            function (s) { return s.toLowerCase(); } :\n            function (s) { return s.toUpperCase(); };\n    }\n    function nextCasing(key, lowerKey, upperNeedle, lowerNeedle, cmp, dir) {\n        var length = Math.min(key.length, lowerNeedle.length);\n        var llp = -1;\n        for (var i = 0; i < length; ++i) {\n            var lwrKeyChar = lowerKey[i];\n            if (lwrKeyChar !== lowerNeedle[i]) {\n                if (cmp(key[i], upperNeedle[i]) < 0)\n                    return key.substr(0, i) + upperNeedle[i] + upperNeedle.substr(i + 1);\n                if (cmp(key[i], lowerNeedle[i]) < 0)\n                    return key.substr(0, i) + lowerNeedle[i] + upperNeedle.substr(i + 1);\n                if (llp >= 0)\n                    return key.substr(0, llp) + lowerKey[llp] + upperNeedle.substr(llp + 1);\n                return null;\n            }\n            if (cmp(key[i], lwrKeyChar) < 0)\n                llp = i;\n        }\n        if (length < lowerNeedle.length && dir === \"next\")\n            return key + upperNeedle.substr(key.length);\n        if (length < key.length && dir === \"prev\")\n            return key.substr(0, upperNeedle.length);\n        return (llp < 0 ? null : key.substr(0, llp) + lowerNeedle[llp] + upperNeedle.substr(llp + 1));\n    }\n    function addIgnoreCaseAlgorithm(whereClause, match, needles, suffix) {\n        var upper, lower, compare, upperNeedles, lowerNeedles, direction, nextKeySuffix, needlesLen = needles.length;\n        if (!needles.every(function (s) { return typeof s === 'string'; })) {\n            return fail(whereClause, STRING_EXPECTED);\n        }\n        function initDirection(dir) {\n            upper = upperFactory(dir);\n            lower = lowerFactory(dir);\n            compare = (dir === \"next\" ? simpleCompare : simpleCompareReverse);\n            var needleBounds = needles.map(function (needle) {\n                return { lower: lower(needle), upper: upper(needle) };\n            }).sort(function (a, b) {\n                return compare(a.lower, b.lower);\n            });\n            upperNeedles = needleBounds.map(function (nb) { return nb.upper; });\n            lowerNeedles = needleBounds.map(function (nb) { return nb.lower; });\n            direction = dir;\n            nextKeySuffix = (dir === \"next\" ? \"\" : suffix);\n        }\n        initDirection(\"next\");\n        var c = new whereClause.Collection(whereClause, function () { return createRange(upperNeedles[0], lowerNeedles[needlesLen - 1] + suffix); });\n        c._ondirectionchange = function (direction) {\n            initDirection(direction);\n        };\n        var firstPossibleNeedle = 0;\n        c._addAlgorithm(function (cursor, advance, resolve) {\n            var key = cursor.key;\n            if (typeof key !== 'string')\n                return false;\n            var lowerKey = lower(key);\n            if (match(lowerKey, lowerNeedles, firstPossibleNeedle)) {\n                return true;\n            }\n            else {\n                var lowestPossibleCasing = null;\n                for (var i = firstPossibleNeedle; i < needlesLen; ++i) {\n                    var casing = nextCasing(key, lowerKey, upperNeedles[i], lowerNeedles[i], compare, direction);\n                    if (casing === null && lowestPossibleCasing === null)\n                        firstPossibleNeedle = i + 1;\n                    else if (lowestPossibleCasing === null || compare(lowestPossibleCasing, casing) > 0) {\n                        lowestPossibleCasing = casing;\n                    }\n                }\n                if (lowestPossibleCasing !== null) {\n                    advance(function () { cursor.continue(lowestPossibleCasing + nextKeySuffix); });\n                }\n                else {\n                    advance(resolve);\n                }\n                return false;\n            }\n        });\n        return c;\n    }\n    function createRange(lower, upper, lowerOpen, upperOpen) {\n        return {\n            type: 2 ,\n            lower: lower,\n            upper: upper,\n            lowerOpen: lowerOpen,\n            upperOpen: upperOpen\n        };\n    }\n    function rangeEqual(value) {\n        return {\n            type: 1 ,\n            lower: value,\n            upper: value\n        };\n    }\n\n    var WhereClause =  (function () {\n        function WhereClause() {\n        }\n        Object.defineProperty(WhereClause.prototype, \"Collection\", {\n            get: function () {\n                return this._ctx.table.db.Collection;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        WhereClause.prototype.between = function (lower, upper, includeLower, includeUpper) {\n            includeLower = includeLower !== false;\n            includeUpper = includeUpper === true;\n            try {\n                if ((this._cmp(lower, upper) > 0) ||\n                    (this._cmp(lower, upper) === 0 && (includeLower || includeUpper) && !(includeLower && includeUpper)))\n                    return emptyCollection(this);\n                return new this.Collection(this, function () { return createRange(lower, upper, !includeLower, !includeUpper); });\n            }\n            catch (e) {\n                return fail(this, INVALID_KEY_ARGUMENT);\n            }\n        };\n        WhereClause.prototype.equals = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return rangeEqual(value); });\n        };\n        WhereClause.prototype.above = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return createRange(value, undefined, true); });\n        };\n        WhereClause.prototype.aboveOrEqual = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return createRange(value, undefined, false); });\n        };\n        WhereClause.prototype.below = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return createRange(undefined, value, false, true); });\n        };\n        WhereClause.prototype.belowOrEqual = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return createRange(undefined, value); });\n        };\n        WhereClause.prototype.startsWith = function (str) {\n            if (typeof str !== 'string')\n                return fail(this, STRING_EXPECTED);\n            return this.between(str, str + maxString, true, true);\n        };\n        WhereClause.prototype.startsWithIgnoreCase = function (str) {\n            if (str === \"\")\n                return this.startsWith(str);\n            return addIgnoreCaseAlgorithm(this, function (x, a) { return x.indexOf(a[0]) === 0; }, [str], maxString);\n        };\n        WhereClause.prototype.equalsIgnoreCase = function (str) {\n            return addIgnoreCaseAlgorithm(this, function (x, a) { return x === a[0]; }, [str], \"\");\n        };\n        WhereClause.prototype.anyOfIgnoreCase = function () {\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            if (set.length === 0)\n                return emptyCollection(this);\n            return addIgnoreCaseAlgorithm(this, function (x, a) { return a.indexOf(x) !== -1; }, set, \"\");\n        };\n        WhereClause.prototype.startsWithAnyOfIgnoreCase = function () {\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            if (set.length === 0)\n                return emptyCollection(this);\n            return addIgnoreCaseAlgorithm(this, function (x, a) { return a.some(function (n) { return x.indexOf(n) === 0; }); }, set, maxString);\n        };\n        WhereClause.prototype.anyOf = function () {\n            var _this = this;\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            var compare = this._cmp;\n            try {\n                set.sort(compare);\n            }\n            catch (e) {\n                return fail(this, INVALID_KEY_ARGUMENT);\n            }\n            if (set.length === 0)\n                return emptyCollection(this);\n            var c = new this.Collection(this, function () { return createRange(set[0], set[set.length - 1]); });\n            c._ondirectionchange = function (direction) {\n                compare = (direction === \"next\" ?\n                    _this._ascending :\n                    _this._descending);\n                set.sort(compare);\n            };\n            var i = 0;\n            c._addAlgorithm(function (cursor, advance, resolve) {\n                var key = cursor.key;\n                while (compare(key, set[i]) > 0) {\n                    ++i;\n                    if (i === set.length) {\n                        advance(resolve);\n                        return false;\n                    }\n                }\n                if (compare(key, set[i]) === 0) {\n                    return true;\n                }\n                else {\n                    advance(function () { cursor.continue(set[i]); });\n                    return false;\n                }\n            });\n            return c;\n        };\n        WhereClause.prototype.notEqual = function (value) {\n            return this.inAnyRange([[minKey, value], [value, this.db._maxKey]], { includeLowers: false, includeUppers: false });\n        };\n        WhereClause.prototype.noneOf = function () {\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            if (set.length === 0)\n                return new this.Collection(this);\n            try {\n                set.sort(this._ascending);\n            }\n            catch (e) {\n                return fail(this, INVALID_KEY_ARGUMENT);\n            }\n            var ranges = set.reduce(function (res, val) { return res ?\n                res.concat([[res[res.length - 1][1], val]]) :\n                [[minKey, val]]; }, null);\n            ranges.push([set[set.length - 1], this.db._maxKey]);\n            return this.inAnyRange(ranges, { includeLowers: false, includeUppers: false });\n        };\n        WhereClause.prototype.inAnyRange = function (ranges, options) {\n            var _this = this;\n            var cmp = this._cmp, ascending = this._ascending, descending = this._descending, min = this._min, max = this._max;\n            if (ranges.length === 0)\n                return emptyCollection(this);\n            if (!ranges.every(function (range) {\n                return range[0] !== undefined &&\n                    range[1] !== undefined &&\n                    ascending(range[0], range[1]) <= 0;\n            })) {\n                return fail(this, \"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower\", exceptions.InvalidArgument);\n            }\n            var includeLowers = !options || options.includeLowers !== false;\n            var includeUppers = options && options.includeUppers === true;\n            function addRange(ranges, newRange) {\n                var i = 0, l = ranges.length;\n                for (; i < l; ++i) {\n                    var range = ranges[i];\n                    if (cmp(newRange[0], range[1]) < 0 && cmp(newRange[1], range[0]) > 0) {\n                        range[0] = min(range[0], newRange[0]);\n                        range[1] = max(range[1], newRange[1]);\n                        break;\n                    }\n                }\n                if (i === l)\n                    ranges.push(newRange);\n                return ranges;\n            }\n            var sortDirection = ascending;\n            function rangeSorter(a, b) { return sortDirection(a[0], b[0]); }\n            var set;\n            try {\n                set = ranges.reduce(addRange, []);\n                set.sort(rangeSorter);\n            }\n            catch (ex) {\n                return fail(this, INVALID_KEY_ARGUMENT);\n            }\n            var rangePos = 0;\n            var keyIsBeyondCurrentEntry = includeUppers ?\n                function (key) { return ascending(key, set[rangePos][1]) > 0; } :\n                function (key) { return ascending(key, set[rangePos][1]) >= 0; };\n            var keyIsBeforeCurrentEntry = includeLowers ?\n                function (key) { return descending(key, set[rangePos][0]) > 0; } :\n                function (key) { return descending(key, set[rangePos][0]) >= 0; };\n            function keyWithinCurrentRange(key) {\n                return !keyIsBeyondCurrentEntry(key) && !keyIsBeforeCurrentEntry(key);\n            }\n            var checkKey = keyIsBeyondCurrentEntry;\n            var c = new this.Collection(this, function () { return createRange(set[0][0], set[set.length - 1][1], !includeLowers, !includeUppers); });\n            c._ondirectionchange = function (direction) {\n                if (direction === \"next\") {\n                    checkKey = keyIsBeyondCurrentEntry;\n                    sortDirection = ascending;\n                }\n                else {\n                    checkKey = keyIsBeforeCurrentEntry;\n                    sortDirection = descending;\n                }\n                set.sort(rangeSorter);\n            };\n            c._addAlgorithm(function (cursor, advance, resolve) {\n                var key = cursor.key;\n                while (checkKey(key)) {\n                    ++rangePos;\n                    if (rangePos === set.length) {\n                        advance(resolve);\n                        return false;\n                    }\n                }\n                if (keyWithinCurrentRange(key)) {\n                    return true;\n                }\n                else if (_this._cmp(key, set[rangePos][1]) === 0 || _this._cmp(key, set[rangePos][0]) === 0) {\n                    return false;\n                }\n                else {\n                    advance(function () {\n                        if (sortDirection === ascending)\n                            cursor.continue(set[rangePos][0]);\n                        else\n                            cursor.continue(set[rangePos][1]);\n                    });\n                    return false;\n                }\n            });\n            return c;\n        };\n        WhereClause.prototype.startsWithAnyOf = function () {\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            if (!set.every(function (s) { return typeof s === 'string'; })) {\n                return fail(this, \"startsWithAnyOf() only works with strings\");\n            }\n            if (set.length === 0)\n                return emptyCollection(this);\n            return this.inAnyRange(set.map(function (str) { return [str, str + maxString]; }));\n        };\n        return WhereClause;\n    }());\n\n    function createWhereClauseConstructor(db) {\n        return makeClassConstructor(WhereClause.prototype, function WhereClause(table, index, orCollection) {\n            this.db = db;\n            this._ctx = {\n                table: table,\n                index: index === \":id\" ? null : index,\n                or: orCollection\n            };\n            this._cmp = this._ascending = cmp;\n            this._descending = function (a, b) { return cmp(b, a); };\n            this._max = function (a, b) { return cmp(a, b) > 0 ? a : b; };\n            this._min = function (a, b) { return cmp(a, b) < 0 ? a : b; };\n            this._IDBKeyRange = db._deps.IDBKeyRange;\n            if (!this._IDBKeyRange)\n                throw new exceptions.MissingAPI();\n        });\n    }\n\n    function eventRejectHandler(reject) {\n        return wrap(function (event) {\n            preventDefault(event);\n            reject(event.target.error);\n            return false;\n        });\n    }\n    function preventDefault(event) {\n        if (event.stopPropagation)\n            event.stopPropagation();\n        if (event.preventDefault)\n            event.preventDefault();\n    }\n\n    var DEXIE_STORAGE_MUTATED_EVENT_NAME = 'storagemutated';\n    var STORAGE_MUTATED_DOM_EVENT_NAME = 'x-storagemutated-1';\n    var globalEvents = Events(null, DEXIE_STORAGE_MUTATED_EVENT_NAME);\n\n    var Transaction =  (function () {\n        function Transaction() {\n        }\n        Transaction.prototype._lock = function () {\n            assert(!PSD.global);\n            ++this._reculock;\n            if (this._reculock === 1 && !PSD.global)\n                PSD.lockOwnerFor = this;\n            return this;\n        };\n        Transaction.prototype._unlock = function () {\n            assert(!PSD.global);\n            if (--this._reculock === 0) {\n                if (!PSD.global)\n                    PSD.lockOwnerFor = null;\n                while (this._blockedFuncs.length > 0 && !this._locked()) {\n                    var fnAndPSD = this._blockedFuncs.shift();\n                    try {\n                        usePSD(fnAndPSD[1], fnAndPSD[0]);\n                    }\n                    catch (e) { }\n                }\n            }\n            return this;\n        };\n        Transaction.prototype._locked = function () {\n            return this._reculock && PSD.lockOwnerFor !== this;\n        };\n        Transaction.prototype.create = function (idbtrans) {\n            var _this = this;\n            if (!this.mode)\n                return this;\n            var idbdb = this.db.idbdb;\n            var dbOpenError = this.db._state.dbOpenError;\n            assert(!this.idbtrans);\n            if (!idbtrans && !idbdb) {\n                switch (dbOpenError && dbOpenError.name) {\n                    case \"DatabaseClosedError\":\n                        throw new exceptions.DatabaseClosed(dbOpenError);\n                    case \"MissingAPIError\":\n                        throw new exceptions.MissingAPI(dbOpenError.message, dbOpenError);\n                    default:\n                        throw new exceptions.OpenFailed(dbOpenError);\n                }\n            }\n            if (!this.active)\n                throw new exceptions.TransactionInactive();\n            assert(this._completion._state === null);\n            idbtrans = this.idbtrans = idbtrans ||\n                (this.db.core\n                    ? this.db.core.transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability })\n                    : idbdb.transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability }));\n            idbtrans.onerror = wrap(function (ev) {\n                preventDefault(ev);\n                _this._reject(idbtrans.error);\n            });\n            idbtrans.onabort = wrap(function (ev) {\n                preventDefault(ev);\n                _this.active && _this._reject(new exceptions.Abort(idbtrans.error));\n                _this.active = false;\n                _this.on(\"abort\").fire(ev);\n            });\n            idbtrans.oncomplete = wrap(function () {\n                _this.active = false;\n                _this._resolve();\n                if ('mutatedParts' in idbtrans) {\n                    globalEvents.storagemutated.fire(idbtrans[\"mutatedParts\"]);\n                }\n            });\n            return this;\n        };\n        Transaction.prototype._promise = function (mode, fn, bWriteLock) {\n            var _this = this;\n            if (mode === 'readwrite' && this.mode !== 'readwrite')\n                return rejection(new exceptions.ReadOnly(\"Transaction is readonly\"));\n            if (!this.active)\n                return rejection(new exceptions.TransactionInactive());\n            if (this._locked()) {\n                return new DexiePromise(function (resolve, reject) {\n                    _this._blockedFuncs.push([function () {\n                            _this._promise(mode, fn, bWriteLock).then(resolve, reject);\n                        }, PSD]);\n                });\n            }\n            else if (bWriteLock) {\n                return newScope(function () {\n                    var p = new DexiePromise(function (resolve, reject) {\n                        _this._lock();\n                        var rv = fn(resolve, reject, _this);\n                        if (rv && rv.then)\n                            rv.then(resolve, reject);\n                    });\n                    p.finally(function () { return _this._unlock(); });\n                    p._lib = true;\n                    return p;\n                });\n            }\n            else {\n                var p = new DexiePromise(function (resolve, reject) {\n                    var rv = fn(resolve, reject, _this);\n                    if (rv && rv.then)\n                        rv.then(resolve, reject);\n                });\n                p._lib = true;\n                return p;\n            }\n        };\n        Transaction.prototype._root = function () {\n            return this.parent ? this.parent._root() : this;\n        };\n        Transaction.prototype.waitFor = function (promiseLike) {\n            var root = this._root();\n            var promise = DexiePromise.resolve(promiseLike);\n            if (root._waitingFor) {\n                root._waitingFor = root._waitingFor.then(function () { return promise; });\n            }\n            else {\n                root._waitingFor = promise;\n                root._waitingQueue = [];\n                var store = root.idbtrans.objectStore(root.storeNames[0]);\n                (function spin() {\n                    ++root._spinCount;\n                    while (root._waitingQueue.length)\n                        (root._waitingQueue.shift())();\n                    if (root._waitingFor)\n                        store.get(-Infinity).onsuccess = spin;\n                }());\n            }\n            var currentWaitPromise = root._waitingFor;\n            return new DexiePromise(function (resolve, reject) {\n                promise.then(function (res) { return root._waitingQueue.push(wrap(resolve.bind(null, res))); }, function (err) { return root._waitingQueue.push(wrap(reject.bind(null, err))); }).finally(function () {\n                    if (root._waitingFor === currentWaitPromise) {\n                        root._waitingFor = null;\n                    }\n                });\n            });\n        };\n        Transaction.prototype.abort = function () {\n            if (this.active) {\n                this.active = false;\n                if (this.idbtrans)\n                    this.idbtrans.abort();\n                this._reject(new exceptions.Abort());\n            }\n        };\n        Transaction.prototype.table = function (tableName) {\n            var memoizedTables = (this._memoizedTables || (this._memoizedTables = {}));\n            if (hasOwn(memoizedTables, tableName))\n                return memoizedTables[tableName];\n            var tableSchema = this.schema[tableName];\n            if (!tableSchema) {\n                throw new exceptions.NotFound(\"Table \" + tableName + \" not part of transaction\");\n            }\n            var transactionBoundTable = new this.db.Table(tableName, tableSchema, this);\n            transactionBoundTable.core = this.db.core.table(tableName);\n            memoizedTables[tableName] = transactionBoundTable;\n            return transactionBoundTable;\n        };\n        return Transaction;\n    }());\n\n    function createTransactionConstructor(db) {\n        return makeClassConstructor(Transaction.prototype, function Transaction(mode, storeNames, dbschema, chromeTransactionDurability, parent) {\n            var _this = this;\n            this.db = db;\n            this.mode = mode;\n            this.storeNames = storeNames;\n            this.schema = dbschema;\n            this.chromeTransactionDurability = chromeTransactionDurability;\n            this.idbtrans = null;\n            this.on = Events(this, \"complete\", \"error\", \"abort\");\n            this.parent = parent || null;\n            this.active = true;\n            this._reculock = 0;\n            this._blockedFuncs = [];\n            this._resolve = null;\n            this._reject = null;\n            this._waitingFor = null;\n            this._waitingQueue = null;\n            this._spinCount = 0;\n            this._completion = new DexiePromise(function (resolve, reject) {\n                _this._resolve = resolve;\n                _this._reject = reject;\n            });\n            this._completion.then(function () {\n                _this.active = false;\n                _this.on.complete.fire();\n            }, function (e) {\n                var wasActive = _this.active;\n                _this.active = false;\n                _this.on.error.fire(e);\n                _this.parent ?\n                    _this.parent._reject(e) :\n                    wasActive && _this.idbtrans && _this.idbtrans.abort();\n                return rejection(e);\n            });\n        });\n    }\n\n    function createIndexSpec(name, keyPath, unique, multi, auto, compound, isPrimKey) {\n        return {\n            name: name,\n            keyPath: keyPath,\n            unique: unique,\n            multi: multi,\n            auto: auto,\n            compound: compound,\n            src: (unique && !isPrimKey ? '&' : '') + (multi ? '*' : '') + (auto ? \"++\" : \"\") + nameFromKeyPath(keyPath)\n        };\n    }\n    function nameFromKeyPath(keyPath) {\n        return typeof keyPath === 'string' ?\n            keyPath :\n            keyPath ? ('[' + [].join.call(keyPath, '+') + ']') : \"\";\n    }\n\n    function createTableSchema(name, primKey, indexes) {\n        return {\n            name: name,\n            primKey: primKey,\n            indexes: indexes,\n            mappedClass: null,\n            idxByName: arrayToObject(indexes, function (index) { return [index.name, index]; })\n        };\n    }\n\n    function safariMultiStoreFix(storeNames) {\n        return storeNames.length === 1 ? storeNames[0] : storeNames;\n    }\n    var getMaxKey = function (IdbKeyRange) {\n        try {\n            IdbKeyRange.only([[]]);\n            getMaxKey = function () { return [[]]; };\n            return [[]];\n        }\n        catch (e) {\n            getMaxKey = function () { return maxString; };\n            return maxString;\n        }\n    };\n\n    function getKeyExtractor(keyPath) {\n        if (keyPath == null) {\n            return function () { return undefined; };\n        }\n        else if (typeof keyPath === 'string') {\n            return getSinglePathKeyExtractor(keyPath);\n        }\n        else {\n            return function (obj) { return getByKeyPath(obj, keyPath); };\n        }\n    }\n    function getSinglePathKeyExtractor(keyPath) {\n        var split = keyPath.split('.');\n        if (split.length === 1) {\n            return function (obj) { return obj[keyPath]; };\n        }\n        else {\n            return function (obj) { return getByKeyPath(obj, keyPath); };\n        }\n    }\n\n    function arrayify(arrayLike) {\n        return [].slice.call(arrayLike);\n    }\n    var _id_counter = 0;\n    function getKeyPathAlias(keyPath) {\n        return keyPath == null ?\n            \":id\" :\n            typeof keyPath === 'string' ?\n                keyPath :\n                \"[\".concat(keyPath.join('+'), \"]\");\n    }\n    function createDBCore(db, IdbKeyRange, tmpTrans) {\n        function extractSchema(db, trans) {\n            var tables = arrayify(db.objectStoreNames);\n            return {\n                schema: {\n                    name: db.name,\n                    tables: tables.map(function (table) { return trans.objectStore(table); }).map(function (store) {\n                        var keyPath = store.keyPath, autoIncrement = store.autoIncrement;\n                        var compound = isArray(keyPath);\n                        var outbound = keyPath == null;\n                        var indexByKeyPath = {};\n                        var result = {\n                            name: store.name,\n                            primaryKey: {\n                                name: null,\n                                isPrimaryKey: true,\n                                outbound: outbound,\n                                compound: compound,\n                                keyPath: keyPath,\n                                autoIncrement: autoIncrement,\n                                unique: true,\n                                extractKey: getKeyExtractor(keyPath)\n                            },\n                            indexes: arrayify(store.indexNames).map(function (indexName) { return store.index(indexName); })\n                                .map(function (index) {\n                                var name = index.name, unique = index.unique, multiEntry = index.multiEntry, keyPath = index.keyPath;\n                                var compound = isArray(keyPath);\n                                var result = {\n                                    name: name,\n                                    compound: compound,\n                                    keyPath: keyPath,\n                                    unique: unique,\n                                    multiEntry: multiEntry,\n                                    extractKey: getKeyExtractor(keyPath)\n                                };\n                                indexByKeyPath[getKeyPathAlias(keyPath)] = result;\n                                return result;\n                            }),\n                            getIndexByKeyPath: function (keyPath) { return indexByKeyPath[getKeyPathAlias(keyPath)]; }\n                        };\n                        indexByKeyPath[\":id\"] = result.primaryKey;\n                        if (keyPath != null) {\n                            indexByKeyPath[getKeyPathAlias(keyPath)] = result.primaryKey;\n                        }\n                        return result;\n                    })\n                },\n                hasGetAll: tables.length > 0 && ('getAll' in trans.objectStore(tables[0])) &&\n                    !(typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) &&\n                        !/(Chrome\\/|Edge\\/)/.test(navigator.userAgent) &&\n                        [].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1] < 604)\n            };\n        }\n        function makeIDBKeyRange(range) {\n            if (range.type === 3 )\n                return null;\n            if (range.type === 4 )\n                throw new Error(\"Cannot convert never type to IDBKeyRange\");\n            var lower = range.lower, upper = range.upper, lowerOpen = range.lowerOpen, upperOpen = range.upperOpen;\n            var idbRange = lower === undefined ?\n                upper === undefined ?\n                    null :\n                    IdbKeyRange.upperBound(upper, !!upperOpen) :\n                upper === undefined ?\n                    IdbKeyRange.lowerBound(lower, !!lowerOpen) :\n                    IdbKeyRange.bound(lower, upper, !!lowerOpen, !!upperOpen);\n            return idbRange;\n        }\n        function createDbCoreTable(tableSchema) {\n            var tableName = tableSchema.name;\n            function mutate(_a) {\n                var trans = _a.trans, type = _a.type, keys = _a.keys, values = _a.values, range = _a.range;\n                return new Promise(function (resolve, reject) {\n                    resolve = wrap(resolve);\n                    var store = trans.objectStore(tableName);\n                    var outbound = store.keyPath == null;\n                    var isAddOrPut = type === \"put\" || type === \"add\";\n                    if (!isAddOrPut && type !== 'delete' && type !== 'deleteRange')\n                        throw new Error(\"Invalid operation type: \" + type);\n                    var length = (keys || values || { length: 1 }).length;\n                    if (keys && values && keys.length !== values.length) {\n                        throw new Error(\"Given keys array must have same length as given values array.\");\n                    }\n                    if (length === 0)\n                        return resolve({ numFailures: 0, failures: {}, results: [], lastResult: undefined });\n                    var req;\n                    var reqs = [];\n                    var failures = [];\n                    var numFailures = 0;\n                    var errorHandler = function (event) {\n                        ++numFailures;\n                        preventDefault(event);\n                    };\n                    if (type === 'deleteRange') {\n                        if (range.type === 4 )\n                            return resolve({ numFailures: numFailures, failures: failures, results: [], lastResult: undefined });\n                        if (range.type === 3 )\n                            reqs.push(req = store.clear());\n                        else\n                            reqs.push(req = store.delete(makeIDBKeyRange(range)));\n                    }\n                    else {\n                        var _a = isAddOrPut ?\n                            outbound ?\n                                [values, keys] :\n                                [values, null] :\n                            [keys, null], args1 = _a[0], args2 = _a[1];\n                        if (isAddOrPut) {\n                            for (var i = 0; i < length; ++i) {\n                                reqs.push(req = (args2 && args2[i] !== undefined ?\n                                    store[type](args1[i], args2[i]) :\n                                    store[type](args1[i])));\n                                req.onerror = errorHandler;\n                            }\n                        }\n                        else {\n                            for (var i = 0; i < length; ++i) {\n                                reqs.push(req = store[type](args1[i]));\n                                req.onerror = errorHandler;\n                            }\n                        }\n                    }\n                    var done = function (event) {\n                        var lastResult = event.target.result;\n                        reqs.forEach(function (req, i) { return req.error != null && (failures[i] = req.error); });\n                        resolve({\n                            numFailures: numFailures,\n                            failures: failures,\n                            results: type === \"delete\" ? keys : reqs.map(function (req) { return req.result; }),\n                            lastResult: lastResult\n                        });\n                    };\n                    req.onerror = function (event) {\n                        errorHandler(event);\n                        done(event);\n                    };\n                    req.onsuccess = done;\n                });\n            }\n            function openCursor(_a) {\n                var trans = _a.trans, values = _a.values, query = _a.query, reverse = _a.reverse, unique = _a.unique;\n                return new Promise(function (resolve, reject) {\n                    resolve = wrap(resolve);\n                    var index = query.index, range = query.range;\n                    var store = trans.objectStore(tableName);\n                    var source = index.isPrimaryKey ?\n                        store :\n                        store.index(index.name);\n                    var direction = reverse ?\n                        unique ?\n                            \"prevunique\" :\n                            \"prev\" :\n                        unique ?\n                            \"nextunique\" :\n                            \"next\";\n                    var req = values || !('openKeyCursor' in source) ?\n                        source.openCursor(makeIDBKeyRange(range), direction) :\n                        source.openKeyCursor(makeIDBKeyRange(range), direction);\n                    req.onerror = eventRejectHandler(reject);\n                    req.onsuccess = wrap(function (ev) {\n                        var cursor = req.result;\n                        if (!cursor) {\n                            resolve(null);\n                            return;\n                        }\n                        cursor.___id = ++_id_counter;\n                        cursor.done = false;\n                        var _cursorContinue = cursor.continue.bind(cursor);\n                        var _cursorContinuePrimaryKey = cursor.continuePrimaryKey;\n                        if (_cursorContinuePrimaryKey)\n                            _cursorContinuePrimaryKey = _cursorContinuePrimaryKey.bind(cursor);\n                        var _cursorAdvance = cursor.advance.bind(cursor);\n                        var doThrowCursorIsNotStarted = function () { throw new Error(\"Cursor not started\"); };\n                        var doThrowCursorIsStopped = function () { throw new Error(\"Cursor not stopped\"); };\n                        cursor.trans = trans;\n                        cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsNotStarted;\n                        cursor.fail = wrap(reject);\n                        cursor.next = function () {\n                            var _this = this;\n                            var gotOne = 1;\n                            return this.start(function () { return gotOne-- ? _this.continue() : _this.stop(); }).then(function () { return _this; });\n                        };\n                        cursor.start = function (callback) {\n                            var iterationPromise = new Promise(function (resolveIteration, rejectIteration) {\n                                resolveIteration = wrap(resolveIteration);\n                                req.onerror = eventRejectHandler(rejectIteration);\n                                cursor.fail = rejectIteration;\n                                cursor.stop = function (value) {\n                                    cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsStopped;\n                                    resolveIteration(value);\n                                };\n                            });\n                            var guardedCallback = function () {\n                                if (req.result) {\n                                    try {\n                                        callback();\n                                    }\n                                    catch (err) {\n                                        cursor.fail(err);\n                                    }\n                                }\n                                else {\n                                    cursor.done = true;\n                                    cursor.start = function () { throw new Error(\"Cursor behind last entry\"); };\n                                    cursor.stop();\n                                }\n                            };\n                            req.onsuccess = wrap(function (ev) {\n                                req.onsuccess = guardedCallback;\n                                guardedCallback();\n                            });\n                            cursor.continue = _cursorContinue;\n                            cursor.continuePrimaryKey = _cursorContinuePrimaryKey;\n                            cursor.advance = _cursorAdvance;\n                            guardedCallback();\n                            return iterationPromise;\n                        };\n                        resolve(cursor);\n                    }, reject);\n                });\n            }\n            function query(hasGetAll) {\n                return function (request) {\n                    return new Promise(function (resolve, reject) {\n                        resolve = wrap(resolve);\n                        var trans = request.trans, values = request.values, limit = request.limit, query = request.query;\n                        var nonInfinitLimit = limit === Infinity ? undefined : limit;\n                        var index = query.index, range = query.range;\n                        var store = trans.objectStore(tableName);\n                        var source = index.isPrimaryKey ? store : store.index(index.name);\n                        var idbKeyRange = makeIDBKeyRange(range);\n                        if (limit === 0)\n                            return resolve({ result: [] });\n                        if (hasGetAll) {\n                            var req = values ?\n                                source.getAll(idbKeyRange, nonInfinitLimit) :\n                                source.getAllKeys(idbKeyRange, nonInfinitLimit);\n                            req.onsuccess = function (event) { return resolve({ result: event.target.result }); };\n                            req.onerror = eventRejectHandler(reject);\n                        }\n                        else {\n                            var count_1 = 0;\n                            var req_1 = values || !('openKeyCursor' in source) ?\n                                source.openCursor(idbKeyRange) :\n                                source.openKeyCursor(idbKeyRange);\n                            var result_1 = [];\n                            req_1.onsuccess = function (event) {\n                                var cursor = req_1.result;\n                                if (!cursor)\n                                    return resolve({ result: result_1 });\n                                result_1.push(values ? cursor.value : cursor.primaryKey);\n                                if (++count_1 === limit)\n                                    return resolve({ result: result_1 });\n                                cursor.continue();\n                            };\n                            req_1.onerror = eventRejectHandler(reject);\n                        }\n                    });\n                };\n            }\n            return {\n                name: tableName,\n                schema: tableSchema,\n                mutate: mutate,\n                getMany: function (_a) {\n                    var trans = _a.trans, keys = _a.keys;\n                    return new Promise(function (resolve, reject) {\n                        resolve = wrap(resolve);\n                        var store = trans.objectStore(tableName);\n                        var length = keys.length;\n                        var result = new Array(length);\n                        var keyCount = 0;\n                        var callbackCount = 0;\n                        var req;\n                        var successHandler = function (event) {\n                            var req = event.target;\n                            if ((result[req._pos] = req.result) != null)\n                                ;\n                            if (++callbackCount === keyCount)\n                                resolve(result);\n                        };\n                        var errorHandler = eventRejectHandler(reject);\n                        for (var i = 0; i < length; ++i) {\n                            var key = keys[i];\n                            if (key != null) {\n                                req = store.get(keys[i]);\n                                req._pos = i;\n                                req.onsuccess = successHandler;\n                                req.onerror = errorHandler;\n                                ++keyCount;\n                            }\n                        }\n                        if (keyCount === 0)\n                            resolve(result);\n                    });\n                },\n                get: function (_a) {\n                    var trans = _a.trans, key = _a.key;\n                    return new Promise(function (resolve, reject) {\n                        resolve = wrap(resolve);\n                        var store = trans.objectStore(tableName);\n                        var req = store.get(key);\n                        req.onsuccess = function (event) { return resolve(event.target.result); };\n                        req.onerror = eventRejectHandler(reject);\n                    });\n                },\n                query: query(hasGetAll),\n                openCursor: openCursor,\n                count: function (_a) {\n                    var query = _a.query, trans = _a.trans;\n                    var index = query.index, range = query.range;\n                    return new Promise(function (resolve, reject) {\n                        var store = trans.objectStore(tableName);\n                        var source = index.isPrimaryKey ? store : store.index(index.name);\n                        var idbKeyRange = makeIDBKeyRange(range);\n                        var req = idbKeyRange ? source.count(idbKeyRange) : source.count();\n                        req.onsuccess = wrap(function (ev) { return resolve(ev.target.result); });\n                        req.onerror = eventRejectHandler(reject);\n                    });\n                }\n            };\n        }\n        var _a = extractSchema(db, tmpTrans), schema = _a.schema, hasGetAll = _a.hasGetAll;\n        var tables = schema.tables.map(function (tableSchema) { return createDbCoreTable(tableSchema); });\n        var tableMap = {};\n        tables.forEach(function (table) { return tableMap[table.name] = table; });\n        return {\n            stack: \"dbcore\",\n            transaction: db.transaction.bind(db),\n            table: function (name) {\n                var result = tableMap[name];\n                if (!result)\n                    throw new Error(\"Table '\".concat(name, \"' not found\"));\n                return tableMap[name];\n            },\n            MIN_KEY: -Infinity,\n            MAX_KEY: getMaxKey(IdbKeyRange),\n            schema: schema\n        };\n    }\n\n    function createMiddlewareStack(stackImpl, middlewares) {\n        return middlewares.reduce(function (down, _a) {\n            var create = _a.create;\n            return (__assign(__assign({}, down), create(down)));\n        }, stackImpl);\n    }\n    function createMiddlewareStacks(middlewares, idbdb, _a, tmpTrans) {\n        var IDBKeyRange = _a.IDBKeyRange; _a.indexedDB;\n        var dbcore = createMiddlewareStack(createDBCore(idbdb, IDBKeyRange, tmpTrans), middlewares.dbcore);\n        return {\n            dbcore: dbcore\n        };\n    }\n    function generateMiddlewareStacks(db, tmpTrans) {\n        var idbdb = tmpTrans.db;\n        var stacks = createMiddlewareStacks(db._middlewares, idbdb, db._deps, tmpTrans);\n        db.core = stacks.dbcore;\n        db.tables.forEach(function (table) {\n            var tableName = table.name;\n            if (db.core.schema.tables.some(function (tbl) { return tbl.name === tableName; })) {\n                table.core = db.core.table(tableName);\n                if (db[tableName] instanceof db.Table) {\n                    db[tableName].core = table.core;\n                }\n            }\n        });\n    }\n\n    function setApiOnPlace(db, objs, tableNames, dbschema) {\n        tableNames.forEach(function (tableName) {\n            var schema = dbschema[tableName];\n            objs.forEach(function (obj) {\n                var propDesc = getPropertyDescriptor(obj, tableName);\n                if (!propDesc || (\"value\" in propDesc && propDesc.value === undefined)) {\n                    if (obj === db.Transaction.prototype || obj instanceof db.Transaction) {\n                        setProp(obj, tableName, {\n                            get: function () { return this.table(tableName); },\n                            set: function (value) {\n                                defineProperty(this, tableName, { value: value, writable: true, configurable: true, enumerable: true });\n                            }\n                        });\n                    }\n                    else {\n                        obj[tableName] = new db.Table(tableName, schema);\n                    }\n                }\n            });\n        });\n    }\n    function removeTablesApi(db, objs) {\n        objs.forEach(function (obj) {\n            for (var key in obj) {\n                if (obj[key] instanceof db.Table)\n                    delete obj[key];\n            }\n        });\n    }\n    function lowerVersionFirst(a, b) {\n        return a._cfg.version - b._cfg.version;\n    }\n    function runUpgraders(db, oldVersion, idbUpgradeTrans, reject) {\n        var globalSchema = db._dbSchema;\n        if (idbUpgradeTrans.objectStoreNames.contains('$meta') && !globalSchema.$meta) {\n            globalSchema.$meta = createTableSchema(\"$meta\", parseIndexSyntax(\"\")[0], []);\n            db._storeNames.push('$meta');\n        }\n        var trans = db._createTransaction('readwrite', db._storeNames, globalSchema);\n        trans.create(idbUpgradeTrans);\n        trans._completion.catch(reject);\n        var rejectTransaction = trans._reject.bind(trans);\n        var transless = PSD.transless || PSD;\n        newScope(function () {\n            PSD.trans = trans;\n            PSD.transless = transless;\n            if (oldVersion === 0) {\n                keys(globalSchema).forEach(function (tableName) {\n                    createTable(idbUpgradeTrans, tableName, globalSchema[tableName].primKey, globalSchema[tableName].indexes);\n                });\n                generateMiddlewareStacks(db, idbUpgradeTrans);\n                DexiePromise.follow(function () { return db.on.populate.fire(trans); }).catch(rejectTransaction);\n            }\n            else {\n                generateMiddlewareStacks(db, idbUpgradeTrans);\n                return getExistingVersion(db, trans, oldVersion)\n                    .then(function (oldVersion) { return updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans); })\n                    .catch(rejectTransaction);\n            }\n        });\n    }\n    function patchCurrentVersion(db, idbUpgradeTrans) {\n        createMissingTables(db._dbSchema, idbUpgradeTrans);\n        if (idbUpgradeTrans.db.version % 10 === 0 && !idbUpgradeTrans.objectStoreNames.contains('$meta')) {\n            idbUpgradeTrans.db.createObjectStore('$meta').add(Math.ceil((idbUpgradeTrans.db.version / 10) - 1), 'version');\n        }\n        var globalSchema = buildGlobalSchema(db, db.idbdb, idbUpgradeTrans);\n        adjustToExistingIndexNames(db, db._dbSchema, idbUpgradeTrans);\n        var diff = getSchemaDiff(globalSchema, db._dbSchema);\n        var _loop_1 = function (tableChange) {\n            if (tableChange.change.length || tableChange.recreate) {\n                console.warn(\"Unable to patch indexes of table \".concat(tableChange.name, \" because it has changes on the type of index or primary key.\"));\n                return { value: void 0 };\n            }\n            var store = idbUpgradeTrans.objectStore(tableChange.name);\n            tableChange.add.forEach(function (idx) {\n                if (debug)\n                    console.debug(\"Dexie upgrade patch: Creating missing index \".concat(tableChange.name, \".\").concat(idx.src));\n                addIndex(store, idx);\n            });\n        };\n        for (var _i = 0, _a = diff.change; _i < _a.length; _i++) {\n            var tableChange = _a[_i];\n            var state_1 = _loop_1(tableChange);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n    }\n    function getExistingVersion(db, trans, oldVersion) {\n        if (trans.storeNames.includes('$meta')) {\n            return trans.table('$meta').get('version').then(function (metaVersion) {\n                return metaVersion != null ? metaVersion : oldVersion;\n            });\n        }\n        else {\n            return DexiePromise.resolve(oldVersion);\n        }\n    }\n    function updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans) {\n        var queue = [];\n        var versions = db._versions;\n        var globalSchema = db._dbSchema = buildGlobalSchema(db, db.idbdb, idbUpgradeTrans);\n        var versToRun = versions.filter(function (v) { return v._cfg.version >= oldVersion; });\n        if (versToRun.length === 0) {\n            return DexiePromise.resolve();\n        }\n        versToRun.forEach(function (version) {\n            queue.push(function () {\n                var oldSchema = globalSchema;\n                var newSchema = version._cfg.dbschema;\n                adjustToExistingIndexNames(db, oldSchema, idbUpgradeTrans);\n                adjustToExistingIndexNames(db, newSchema, idbUpgradeTrans);\n                globalSchema = db._dbSchema = newSchema;\n                var diff = getSchemaDiff(oldSchema, newSchema);\n                diff.add.forEach(function (tuple) {\n                    createTable(idbUpgradeTrans, tuple[0], tuple[1].primKey, tuple[1].indexes);\n                });\n                diff.change.forEach(function (change) {\n                    if (change.recreate) {\n                        throw new exceptions.Upgrade(\"Not yet support for changing primary key\");\n                    }\n                    else {\n                        var store_1 = idbUpgradeTrans.objectStore(change.name);\n                        change.add.forEach(function (idx) { return addIndex(store_1, idx); });\n                        change.change.forEach(function (idx) {\n                            store_1.deleteIndex(idx.name);\n                            addIndex(store_1, idx);\n                        });\n                        change.del.forEach(function (idxName) { return store_1.deleteIndex(idxName); });\n                    }\n                });\n                var contentUpgrade = version._cfg.contentUpgrade;\n                if (contentUpgrade && version._cfg.version > oldVersion) {\n                    generateMiddlewareStacks(db, idbUpgradeTrans);\n                    trans._memoizedTables = {};\n                    var upgradeSchema_1 = shallowClone(newSchema);\n                    diff.del.forEach(function (table) {\n                        upgradeSchema_1[table] = oldSchema[table];\n                    });\n                    removeTablesApi(db, [db.Transaction.prototype]);\n                    setApiOnPlace(db, [db.Transaction.prototype], keys(upgradeSchema_1), upgradeSchema_1);\n                    trans.schema = upgradeSchema_1;\n                    var contentUpgradeIsAsync_1 = isAsyncFunction(contentUpgrade);\n                    if (contentUpgradeIsAsync_1) {\n                        incrementExpectedAwaits();\n                    }\n                    var returnValue_1;\n                    var promiseFollowed = DexiePromise.follow(function () {\n                        returnValue_1 = contentUpgrade(trans);\n                        if (returnValue_1) {\n                            if (contentUpgradeIsAsync_1) {\n                                var decrementor = decrementExpectedAwaits.bind(null, null);\n                                returnValue_1.then(decrementor, decrementor);\n                            }\n                        }\n                    });\n                    return (returnValue_1 && typeof returnValue_1.then === 'function' ?\n                        DexiePromise.resolve(returnValue_1) : promiseFollowed.then(function () { return returnValue_1; }));\n                }\n            });\n            queue.push(function (idbtrans) {\n                var newSchema = version._cfg.dbschema;\n                deleteRemovedTables(newSchema, idbtrans);\n                removeTablesApi(db, [db.Transaction.prototype]);\n                setApiOnPlace(db, [db.Transaction.prototype], db._storeNames, db._dbSchema);\n                trans.schema = db._dbSchema;\n            });\n            queue.push(function (idbtrans) {\n                if (db.idbdb.objectStoreNames.contains('$meta')) {\n                    if (Math.ceil(db.idbdb.version / 10) === version._cfg.version) {\n                        db.idbdb.deleteObjectStore('$meta');\n                        delete db._dbSchema.$meta;\n                        db._storeNames = db._storeNames.filter(function (name) { return name !== '$meta'; });\n                    }\n                    else {\n                        idbtrans.objectStore('$meta').put(version._cfg.version, 'version');\n                    }\n                }\n            });\n        });\n        function runQueue() {\n            return queue.length ? DexiePromise.resolve(queue.shift()(trans.idbtrans)).then(runQueue) :\n                DexiePromise.resolve();\n        }\n        return runQueue().then(function () {\n            createMissingTables(globalSchema, idbUpgradeTrans);\n        });\n    }\n    function getSchemaDiff(oldSchema, newSchema) {\n        var diff = {\n            del: [],\n            add: [],\n            change: []\n        };\n        var table;\n        for (table in oldSchema) {\n            if (!newSchema[table])\n                diff.del.push(table);\n        }\n        for (table in newSchema) {\n            var oldDef = oldSchema[table], newDef = newSchema[table];\n            if (!oldDef) {\n                diff.add.push([table, newDef]);\n            }\n            else {\n                var change = {\n                    name: table,\n                    def: newDef,\n                    recreate: false,\n                    del: [],\n                    add: [],\n                    change: []\n                };\n                if ((\n                '' + (oldDef.primKey.keyPath || '')) !== ('' + (newDef.primKey.keyPath || '')) ||\n                    (oldDef.primKey.auto !== newDef.primKey.auto)) {\n                    change.recreate = true;\n                    diff.change.push(change);\n                }\n                else {\n                    var oldIndexes = oldDef.idxByName;\n                    var newIndexes = newDef.idxByName;\n                    var idxName = void 0;\n                    for (idxName in oldIndexes) {\n                        if (!newIndexes[idxName])\n                            change.del.push(idxName);\n                    }\n                    for (idxName in newIndexes) {\n                        var oldIdx = oldIndexes[idxName], newIdx = newIndexes[idxName];\n                        if (!oldIdx)\n                            change.add.push(newIdx);\n                        else if (oldIdx.src !== newIdx.src)\n                            change.change.push(newIdx);\n                    }\n                    if (change.del.length > 0 || change.add.length > 0 || change.change.length > 0) {\n                        diff.change.push(change);\n                    }\n                }\n            }\n        }\n        return diff;\n    }\n    function createTable(idbtrans, tableName, primKey, indexes) {\n        var store = idbtrans.db.createObjectStore(tableName, primKey.keyPath ?\n            { keyPath: primKey.keyPath, autoIncrement: primKey.auto } :\n            { autoIncrement: primKey.auto });\n        indexes.forEach(function (idx) { return addIndex(store, idx); });\n        return store;\n    }\n    function createMissingTables(newSchema, idbtrans) {\n        keys(newSchema).forEach(function (tableName) {\n            if (!idbtrans.db.objectStoreNames.contains(tableName)) {\n                if (debug)\n                    console.debug('Dexie: Creating missing table', tableName);\n                createTable(idbtrans, tableName, newSchema[tableName].primKey, newSchema[tableName].indexes);\n            }\n        });\n    }\n    function deleteRemovedTables(newSchema, idbtrans) {\n        [].slice.call(idbtrans.db.objectStoreNames).forEach(function (storeName) {\n            return newSchema[storeName] == null && idbtrans.db.deleteObjectStore(storeName);\n        });\n    }\n    function addIndex(store, idx) {\n        store.createIndex(idx.name, idx.keyPath, { unique: idx.unique, multiEntry: idx.multi });\n    }\n    function buildGlobalSchema(db, idbdb, tmpTrans) {\n        var globalSchema = {};\n        var dbStoreNames = slice(idbdb.objectStoreNames, 0);\n        dbStoreNames.forEach(function (storeName) {\n            var store = tmpTrans.objectStore(storeName);\n            var keyPath = store.keyPath;\n            var primKey = createIndexSpec(nameFromKeyPath(keyPath), keyPath || \"\", true, false, !!store.autoIncrement, keyPath && typeof keyPath !== \"string\", true);\n            var indexes = [];\n            for (var j = 0; j < store.indexNames.length; ++j) {\n                var idbindex = store.index(store.indexNames[j]);\n                keyPath = idbindex.keyPath;\n                var index = createIndexSpec(idbindex.name, keyPath, !!idbindex.unique, !!idbindex.multiEntry, false, keyPath && typeof keyPath !== \"string\", false);\n                indexes.push(index);\n            }\n            globalSchema[storeName] = createTableSchema(storeName, primKey, indexes);\n        });\n        return globalSchema;\n    }\n    function readGlobalSchema(db, idbdb, tmpTrans) {\n        db.verno = idbdb.version / 10;\n        var globalSchema = db._dbSchema = buildGlobalSchema(db, idbdb, tmpTrans);\n        db._storeNames = slice(idbdb.objectStoreNames, 0);\n        setApiOnPlace(db, [db._allTables], keys(globalSchema), globalSchema);\n    }\n    function verifyInstalledSchema(db, tmpTrans) {\n        var installedSchema = buildGlobalSchema(db, db.idbdb, tmpTrans);\n        var diff = getSchemaDiff(installedSchema, db._dbSchema);\n        return !(diff.add.length || diff.change.some(function (ch) { return ch.add.length || ch.change.length; }));\n    }\n    function adjustToExistingIndexNames(db, schema, idbtrans) {\n        var storeNames = idbtrans.db.objectStoreNames;\n        for (var i = 0; i < storeNames.length; ++i) {\n            var storeName = storeNames[i];\n            var store = idbtrans.objectStore(storeName);\n            db._hasGetAll = 'getAll' in store;\n            for (var j = 0; j < store.indexNames.length; ++j) {\n                var indexName = store.indexNames[j];\n                var keyPath = store.index(indexName).keyPath;\n                var dexieName = typeof keyPath === 'string' ? keyPath : \"[\" + slice(keyPath).join('+') + \"]\";\n                if (schema[storeName]) {\n                    var indexSpec = schema[storeName].idxByName[dexieName];\n                    if (indexSpec) {\n                        indexSpec.name = indexName;\n                        delete schema[storeName].idxByName[dexieName];\n                        schema[storeName].idxByName[indexName] = indexSpec;\n                    }\n                }\n            }\n        }\n        if (typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) &&\n            !/(Chrome\\/|Edge\\/)/.test(navigator.userAgent) &&\n            _global.WorkerGlobalScope && _global instanceof _global.WorkerGlobalScope &&\n            [].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1] < 604) {\n            db._hasGetAll = false;\n        }\n    }\n    function parseIndexSyntax(primKeyAndIndexes) {\n        return primKeyAndIndexes.split(',').map(function (index, indexNum) {\n            index = index.trim();\n            var name = index.replace(/([&*]|\\+\\+)/g, \"\");\n            var keyPath = /^\\[/.test(name) ? name.match(/^\\[(.*)\\]$/)[1].split('+') : name;\n            return createIndexSpec(name, keyPath || null, /\\&/.test(index), /\\*/.test(index), /\\+\\+/.test(index), isArray(keyPath), indexNum === 0);\n        });\n    }\n\n    var Version =  (function () {\n        function Version() {\n        }\n        Version.prototype._parseStoresSpec = function (stores, outSchema) {\n            keys(stores).forEach(function (tableName) {\n                if (stores[tableName] !== null) {\n                    var indexes = parseIndexSyntax(stores[tableName]);\n                    var primKey = indexes.shift();\n                    primKey.unique = true;\n                    if (primKey.multi)\n                        throw new exceptions.Schema(\"Primary key cannot be multi-valued\");\n                    indexes.forEach(function (idx) {\n                        if (idx.auto)\n                            throw new exceptions.Schema(\"Only primary key can be marked as autoIncrement (++)\");\n                        if (!idx.keyPath)\n                            throw new exceptions.Schema(\"Index must have a name and cannot be an empty string\");\n                    });\n                    outSchema[tableName] = createTableSchema(tableName, primKey, indexes);\n                }\n            });\n        };\n        Version.prototype.stores = function (stores) {\n            var db = this.db;\n            this._cfg.storesSource = this._cfg.storesSource ?\n                extend(this._cfg.storesSource, stores) :\n                stores;\n            var versions = db._versions;\n            var storesSpec = {};\n            var dbschema = {};\n            versions.forEach(function (version) {\n                extend(storesSpec, version._cfg.storesSource);\n                dbschema = (version._cfg.dbschema = {});\n                version._parseStoresSpec(storesSpec, dbschema);\n            });\n            db._dbSchema = dbschema;\n            removeTablesApi(db, [db._allTables, db, db.Transaction.prototype]);\n            setApiOnPlace(db, [db._allTables, db, db.Transaction.prototype, this._cfg.tables], keys(dbschema), dbschema);\n            db._storeNames = keys(dbschema);\n            return this;\n        };\n        Version.prototype.upgrade = function (upgradeFunction) {\n            this._cfg.contentUpgrade = promisableChain(this._cfg.contentUpgrade || nop, upgradeFunction);\n            return this;\n        };\n        return Version;\n    }());\n\n    function createVersionConstructor(db) {\n        return makeClassConstructor(Version.prototype, function Version(versionNumber) {\n            this.db = db;\n            this._cfg = {\n                version: versionNumber,\n                storesSource: null,\n                dbschema: {},\n                tables: {},\n                contentUpgrade: null\n            };\n        });\n    }\n\n    function getDbNamesTable(indexedDB, IDBKeyRange) {\n        var dbNamesDB = indexedDB[\"_dbNamesDB\"];\n        if (!dbNamesDB) {\n            dbNamesDB = indexedDB[\"_dbNamesDB\"] = new Dexie$1(DBNAMES_DB, {\n                addons: [],\n                indexedDB: indexedDB,\n                IDBKeyRange: IDBKeyRange,\n            });\n            dbNamesDB.version(1).stores({ dbnames: \"name\" });\n        }\n        return dbNamesDB.table(\"dbnames\");\n    }\n    function hasDatabasesNative(indexedDB) {\n        return indexedDB && typeof indexedDB.databases === \"function\";\n    }\n    function getDatabaseNames(_a) {\n        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;\n        return hasDatabasesNative(indexedDB)\n            ? Promise.resolve(indexedDB.databases()).then(function (infos) {\n                return infos\n                    .map(function (info) { return info.name; })\n                    .filter(function (name) { return name !== DBNAMES_DB; });\n            })\n            : getDbNamesTable(indexedDB, IDBKeyRange).toCollection().primaryKeys();\n    }\n    function _onDatabaseCreated(_a, name) {\n        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;\n        !hasDatabasesNative(indexedDB) &&\n            name !== DBNAMES_DB &&\n            getDbNamesTable(indexedDB, IDBKeyRange).put({ name: name }).catch(nop);\n    }\n    function _onDatabaseDeleted(_a, name) {\n        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;\n        !hasDatabasesNative(indexedDB) &&\n            name !== DBNAMES_DB &&\n            getDbNamesTable(indexedDB, IDBKeyRange).delete(name).catch(nop);\n    }\n\n    function vip(fn) {\n        return newScope(function () {\n            PSD.letThrough = true;\n            return fn();\n        });\n    }\n\n    function idbReady() {\n        var isSafari = !navigator.userAgentData &&\n            /Safari\\//.test(navigator.userAgent) &&\n            !/Chrom(e|ium)\\//.test(navigator.userAgent);\n        if (!isSafari || !indexedDB.databases)\n            return Promise.resolve();\n        var intervalId;\n        return new Promise(function (resolve) {\n            var tryIdb = function () { return indexedDB.databases().finally(resolve); };\n            intervalId = setInterval(tryIdb, 100);\n            tryIdb();\n        }).finally(function () { return clearInterval(intervalId); });\n    }\n\n    var _a;\n    function isEmptyRange(node) {\n        return !(\"from\" in node);\n    }\n    var RangeSet = function (fromOrTree, to) {\n        if (this) {\n            extend(this, arguments.length ? { d: 1, from: fromOrTree, to: arguments.length > 1 ? to : fromOrTree } : { d: 0 });\n        }\n        else {\n            var rv = new RangeSet();\n            if (fromOrTree && (\"d\" in fromOrTree)) {\n                extend(rv, fromOrTree);\n            }\n            return rv;\n        }\n    };\n    props(RangeSet.prototype, (_a = {\n            add: function (rangeSet) {\n                mergeRanges(this, rangeSet);\n                return this;\n            },\n            addKey: function (key) {\n                addRange(this, key, key);\n                return this;\n            },\n            addKeys: function (keys) {\n                var _this = this;\n                keys.forEach(function (key) { return addRange(_this, key, key); });\n                return this;\n            }\n        },\n        _a[iteratorSymbol] = function () {\n            return getRangeSetIterator(this);\n        },\n        _a));\n    function addRange(target, from, to) {\n        var diff = cmp(from, to);\n        if (isNaN(diff))\n            return;\n        if (diff > 0)\n            throw RangeError();\n        if (isEmptyRange(target))\n            return extend(target, { from: from, to: to, d: 1 });\n        var left = target.l;\n        var right = target.r;\n        if (cmp(to, target.from) < 0) {\n            left\n                ? addRange(left, from, to)\n                : (target.l = { from: from, to: to, d: 1, l: null, r: null });\n            return rebalance(target);\n        }\n        if (cmp(from, target.to) > 0) {\n            right\n                ? addRange(right, from, to)\n                : (target.r = { from: from, to: to, d: 1, l: null, r: null });\n            return rebalance(target);\n        }\n        if (cmp(from, target.from) < 0) {\n            target.from = from;\n            target.l = null;\n            target.d = right ? right.d + 1 : 1;\n        }\n        if (cmp(to, target.to) > 0) {\n            target.to = to;\n            target.r = null;\n            target.d = target.l ? target.l.d + 1 : 1;\n        }\n        var rightWasCutOff = !target.r;\n        if (left && !target.l) {\n            mergeRanges(target, left);\n        }\n        if (right && rightWasCutOff) {\n            mergeRanges(target, right);\n        }\n    }\n    function mergeRanges(target, newSet) {\n        function _addRangeSet(target, _a) {\n            var from = _a.from, to = _a.to, l = _a.l, r = _a.r;\n            addRange(target, from, to);\n            if (l)\n                _addRangeSet(target, l);\n            if (r)\n                _addRangeSet(target, r);\n        }\n        if (!isEmptyRange(newSet))\n            _addRangeSet(target, newSet);\n    }\n    function rangesOverlap(rangeSet1, rangeSet2) {\n        var i1 = getRangeSetIterator(rangeSet2);\n        var nextResult1 = i1.next();\n        if (nextResult1.done)\n            return false;\n        var a = nextResult1.value;\n        var i2 = getRangeSetIterator(rangeSet1);\n        var nextResult2 = i2.next(a.from);\n        var b = nextResult2.value;\n        while (!nextResult1.done && !nextResult2.done) {\n            if (cmp(b.from, a.to) <= 0 && cmp(b.to, a.from) >= 0)\n                return true;\n            cmp(a.from, b.from) < 0\n                ? (a = (nextResult1 = i1.next(b.from)).value)\n                : (b = (nextResult2 = i2.next(a.from)).value);\n        }\n        return false;\n    }\n    function getRangeSetIterator(node) {\n        var state = isEmptyRange(node) ? null : { s: 0, n: node };\n        return {\n            next: function (key) {\n                var keyProvided = arguments.length > 0;\n                while (state) {\n                    switch (state.s) {\n                        case 0:\n                            state.s = 1;\n                            if (keyProvided) {\n                                while (state.n.l && cmp(key, state.n.from) < 0)\n                                    state = { up: state, n: state.n.l, s: 1 };\n                            }\n                            else {\n                                while (state.n.l)\n                                    state = { up: state, n: state.n.l, s: 1 };\n                            }\n                        case 1:\n                            state.s = 2;\n                            if (!keyProvided || cmp(key, state.n.to) <= 0)\n                                return { value: state.n, done: false };\n                        case 2:\n                            if (state.n.r) {\n                                state.s = 3;\n                                state = { up: state, n: state.n.r, s: 0 };\n                                continue;\n                            }\n                        case 3:\n                            state = state.up;\n                    }\n                }\n                return { done: true };\n            },\n        };\n    }\n    function rebalance(target) {\n        var _a, _b;\n        var diff = (((_a = target.r) === null || _a === void 0 ? void 0 : _a.d) || 0) - (((_b = target.l) === null || _b === void 0 ? void 0 : _b.d) || 0);\n        var r = diff > 1 ? \"r\" : diff < -1 ? \"l\" : \"\";\n        if (r) {\n            var l = r === \"r\" ? \"l\" : \"r\";\n            var rootClone = __assign({}, target);\n            var oldRootRight = target[r];\n            target.from = oldRootRight.from;\n            target.to = oldRootRight.to;\n            target[r] = oldRootRight[r];\n            rootClone[r] = oldRootRight[l];\n            target[l] = rootClone;\n            rootClone.d = computeDepth(rootClone);\n        }\n        target.d = computeDepth(target);\n    }\n    function computeDepth(_a) {\n        var r = _a.r, l = _a.l;\n        return (r ? (l ? Math.max(r.d, l.d) : r.d) : l ? l.d : 0) + 1;\n    }\n\n    function extendObservabilitySet(target, newSet) {\n        keys(newSet).forEach(function (part) {\n            if (target[part])\n                mergeRanges(target[part], newSet[part]);\n            else\n                target[part] = cloneSimpleObjectTree(newSet[part]);\n        });\n        return target;\n    }\n\n    function obsSetsOverlap(os1, os2) {\n        return os1.all || os2.all || Object.keys(os1).some(function (key) { return os2[key] && rangesOverlap(os2[key], os1[key]); });\n    }\n\n    var cache = {};\n\n    var unsignaledParts = {};\n    var isTaskEnqueued = false;\n    function signalSubscribersLazily(part, optimistic) {\n        extendObservabilitySet(unsignaledParts, part);\n        if (!isTaskEnqueued) {\n            isTaskEnqueued = true;\n            setTimeout(function () {\n                isTaskEnqueued = false;\n                var parts = unsignaledParts;\n                unsignaledParts = {};\n                signalSubscribersNow(parts, false);\n            }, 0);\n        }\n    }\n    function signalSubscribersNow(updatedParts, deleteAffectedCacheEntries) {\n        if (deleteAffectedCacheEntries === void 0) { deleteAffectedCacheEntries = false; }\n        var queriesToSignal = new Set();\n        if (updatedParts.all) {\n            for (var _i = 0, _a = Object.values(cache); _i < _a.length; _i++) {\n                var tblCache = _a[_i];\n                collectTableSubscribers(tblCache, updatedParts, queriesToSignal, deleteAffectedCacheEntries);\n            }\n        }\n        else {\n            for (var key in updatedParts) {\n                var parts = /^idb\\:\\/\\/(.*)\\/(.*)\\//.exec(key);\n                if (parts) {\n                    var dbName = parts[1], tableName = parts[2];\n                    var tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(tableName)];\n                    if (tblCache)\n                        collectTableSubscribers(tblCache, updatedParts, queriesToSignal, deleteAffectedCacheEntries);\n                }\n            }\n        }\n        queriesToSignal.forEach(function (requery) { return requery(); });\n    }\n    function collectTableSubscribers(tblCache, updatedParts, outQueriesToSignal, deleteAffectedCacheEntries) {\n        var updatedEntryLists = [];\n        for (var _i = 0, _a = Object.entries(tblCache.queries.query); _i < _a.length; _i++) {\n            var _b = _a[_i], indexName = _b[0], entries = _b[1];\n            var filteredEntries = [];\n            for (var _c = 0, entries_1 = entries; _c < entries_1.length; _c++) {\n                var entry = entries_1[_c];\n                if (obsSetsOverlap(updatedParts, entry.obsSet)) {\n                    entry.subscribers.forEach(function (requery) { return outQueriesToSignal.add(requery); });\n                }\n                else if (deleteAffectedCacheEntries) {\n                    filteredEntries.push(entry);\n                }\n            }\n            if (deleteAffectedCacheEntries)\n                updatedEntryLists.push([indexName, filteredEntries]);\n        }\n        if (deleteAffectedCacheEntries) {\n            for (var _d = 0, updatedEntryLists_1 = updatedEntryLists; _d < updatedEntryLists_1.length; _d++) {\n                var _e = updatedEntryLists_1[_d], indexName = _e[0], filteredEntries = _e[1];\n                tblCache.queries.query[indexName] = filteredEntries;\n            }\n        }\n    }\n\n    function dexieOpen(db) {\n        var state = db._state;\n        var indexedDB = db._deps.indexedDB;\n        if (state.isBeingOpened || db.idbdb)\n            return state.dbReadyPromise.then(function () { return state.dbOpenError ?\n                rejection(state.dbOpenError) :\n                db; });\n        state.isBeingOpened = true;\n        state.dbOpenError = null;\n        state.openComplete = false;\n        var openCanceller = state.openCanceller;\n        var nativeVerToOpen = Math.round(db.verno * 10);\n        var schemaPatchMode = false;\n        function throwIfCancelled() {\n            if (state.openCanceller !== openCanceller)\n                throw new exceptions.DatabaseClosed('db.open() was cancelled');\n        }\n        var resolveDbReady = state.dbReadyResolve,\n        upgradeTransaction = null, wasCreated = false;\n        var tryOpenDB = function () { return new DexiePromise(function (resolve, reject) {\n            throwIfCancelled();\n            if (!indexedDB)\n                throw new exceptions.MissingAPI();\n            var dbName = db.name;\n            var req = state.autoSchema || !nativeVerToOpen ?\n                indexedDB.open(dbName) :\n                indexedDB.open(dbName, nativeVerToOpen);\n            if (!req)\n                throw new exceptions.MissingAPI();\n            req.onerror = eventRejectHandler(reject);\n            req.onblocked = wrap(db._fireOnBlocked);\n            req.onupgradeneeded = wrap(function (e) {\n                upgradeTransaction = req.transaction;\n                if (state.autoSchema && !db._options.allowEmptyDB) {\n                    req.onerror = preventDefault;\n                    upgradeTransaction.abort();\n                    req.result.close();\n                    var delreq = indexedDB.deleteDatabase(dbName);\n                    delreq.onsuccess = delreq.onerror = wrap(function () {\n                        reject(new exceptions.NoSuchDatabase(\"Database \".concat(dbName, \" doesnt exist\")));\n                    });\n                }\n                else {\n                    upgradeTransaction.onerror = eventRejectHandler(reject);\n                    var oldVer = e.oldVersion > Math.pow(2, 62) ? 0 : e.oldVersion;\n                    wasCreated = oldVer < 1;\n                    db.idbdb = req.result;\n                    if (schemaPatchMode) {\n                        patchCurrentVersion(db, upgradeTransaction);\n                    }\n                    runUpgraders(db, oldVer / 10, upgradeTransaction, reject);\n                }\n            }, reject);\n            req.onsuccess = wrap(function () {\n                upgradeTransaction = null;\n                var idbdb = db.idbdb = req.result;\n                var objectStoreNames = slice(idbdb.objectStoreNames);\n                if (objectStoreNames.length > 0)\n                    try {\n                        var tmpTrans = idbdb.transaction(safariMultiStoreFix(objectStoreNames), 'readonly');\n                        if (state.autoSchema)\n                            readGlobalSchema(db, idbdb, tmpTrans);\n                        else {\n                            adjustToExistingIndexNames(db, db._dbSchema, tmpTrans);\n                            if (!verifyInstalledSchema(db, tmpTrans) && !schemaPatchMode) {\n                                console.warn(\"Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this.\");\n                                idbdb.close();\n                                nativeVerToOpen = idbdb.version + 1;\n                                schemaPatchMode = true;\n                                return resolve(tryOpenDB());\n                            }\n                        }\n                        generateMiddlewareStacks(db, tmpTrans);\n                    }\n                    catch (e) {\n                    }\n                connections.push(db);\n                idbdb.onversionchange = wrap(function (ev) {\n                    state.vcFired = true;\n                    db.on(\"versionchange\").fire(ev);\n                });\n                idbdb.onclose = wrap(function (ev) {\n                    db.on(\"close\").fire(ev);\n                });\n                if (wasCreated)\n                    _onDatabaseCreated(db._deps, dbName);\n                resolve();\n            }, reject);\n        }).catch(function (err) {\n            switch (err === null || err === void 0 ? void 0 : err.name) {\n                case \"UnknownError\":\n                    if (state.PR1398_maxLoop > 0) {\n                        state.PR1398_maxLoop--;\n                        console.warn('Dexie: Workaround for Chrome UnknownError on open()');\n                        return tryOpenDB();\n                    }\n                    break;\n                case \"VersionError\":\n                    if (nativeVerToOpen > 0) {\n                        nativeVerToOpen = 0;\n                        return tryOpenDB();\n                    }\n                    break;\n            }\n            return DexiePromise.reject(err);\n        }); };\n        return DexiePromise.race([\n            openCanceller,\n            (typeof navigator === 'undefined' ? DexiePromise.resolve() : idbReady()).then(tryOpenDB)\n        ]).then(function () {\n            throwIfCancelled();\n            state.onReadyBeingFired = [];\n            return DexiePromise.resolve(vip(function () { return db.on.ready.fire(db.vip); })).then(function fireRemainders() {\n                if (state.onReadyBeingFired.length > 0) {\n                    var remainders_1 = state.onReadyBeingFired.reduce(promisableChain, nop);\n                    state.onReadyBeingFired = [];\n                    return DexiePromise.resolve(vip(function () { return remainders_1(db.vip); })).then(fireRemainders);\n                }\n            });\n        }).finally(function () {\n            if (state.openCanceller === openCanceller) {\n                state.onReadyBeingFired = null;\n                state.isBeingOpened = false;\n            }\n        }).catch(function (err) {\n            state.dbOpenError = err;\n            try {\n                upgradeTransaction && upgradeTransaction.abort();\n            }\n            catch (_a) { }\n            if (openCanceller === state.openCanceller) {\n                db._close();\n            }\n            return rejection(err);\n        }).finally(function () {\n            state.openComplete = true;\n            resolveDbReady();\n        }).then(function () {\n            if (wasCreated) {\n                var everything_1 = {};\n                db.tables.forEach(function (table) {\n                    table.schema.indexes.forEach(function (idx) {\n                        if (idx.name)\n                            everything_1[\"idb://\".concat(db.name, \"/\").concat(table.name, \"/\").concat(idx.name)] = new RangeSet(-Infinity, [[[]]]);\n                    });\n                    everything_1[\"idb://\".concat(db.name, \"/\").concat(table.name, \"/\")] = everything_1[\"idb://\".concat(db.name, \"/\").concat(table.name, \"/:dels\")] = new RangeSet(-Infinity, [[[]]]);\n                });\n                globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME).fire(everything_1);\n                signalSubscribersNow(everything_1, true);\n            }\n            return db;\n        });\n    }\n\n    function awaitIterator(iterator) {\n        var callNext = function (result) { return iterator.next(result); }, doThrow = function (error) { return iterator.throw(error); }, onSuccess = step(callNext), onError = step(doThrow);\n        function step(getNext) {\n            return function (val) {\n                var next = getNext(val), value = next.value;\n                return next.done ? value :\n                    (!value || typeof value.then !== 'function' ?\n                        isArray(value) ? Promise.all(value).then(onSuccess, onError) : onSuccess(value) :\n                        value.then(onSuccess, onError));\n            };\n        }\n        return step(callNext)();\n    }\n\n    function extractTransactionArgs(mode, _tableArgs_, scopeFunc) {\n        var i = arguments.length;\n        if (i < 2)\n            throw new exceptions.InvalidArgument(\"Too few arguments\");\n        var args = new Array(i - 1);\n        while (--i)\n            args[i - 1] = arguments[i];\n        scopeFunc = args.pop();\n        var tables = flatten(args);\n        return [mode, tables, scopeFunc];\n    }\n    function enterTransactionScope(db, mode, storeNames, parentTransaction, scopeFunc) {\n        return DexiePromise.resolve().then(function () {\n            var transless = PSD.transless || PSD;\n            var trans = db._createTransaction(mode, storeNames, db._dbSchema, parentTransaction);\n            trans.explicit = true;\n            var zoneProps = {\n                trans: trans,\n                transless: transless\n            };\n            if (parentTransaction) {\n                trans.idbtrans = parentTransaction.idbtrans;\n            }\n            else {\n                try {\n                    trans.create();\n                    trans.idbtrans._explicit = true;\n                    db._state.PR1398_maxLoop = 3;\n                }\n                catch (ex) {\n                    if (ex.name === errnames.InvalidState && db.isOpen() && --db._state.PR1398_maxLoop > 0) {\n                        console.warn('Dexie: Need to reopen db');\n                        db.close({ disableAutoOpen: false });\n                        return db.open().then(function () { return enterTransactionScope(db, mode, storeNames, null, scopeFunc); });\n                    }\n                    return rejection(ex);\n                }\n            }\n            var scopeFuncIsAsync = isAsyncFunction(scopeFunc);\n            if (scopeFuncIsAsync) {\n                incrementExpectedAwaits();\n            }\n            var returnValue;\n            var promiseFollowed = DexiePromise.follow(function () {\n                returnValue = scopeFunc.call(trans, trans);\n                if (returnValue) {\n                    if (scopeFuncIsAsync) {\n                        var decrementor = decrementExpectedAwaits.bind(null, null);\n                        returnValue.then(decrementor, decrementor);\n                    }\n                    else if (typeof returnValue.next === 'function' && typeof returnValue.throw === 'function') {\n                        returnValue = awaitIterator(returnValue);\n                    }\n                }\n            }, zoneProps);\n            return (returnValue && typeof returnValue.then === 'function' ?\n                DexiePromise.resolve(returnValue).then(function (x) { return trans.active ?\n                    x\n                    : rejection(new exceptions.PrematureCommit(\"Transaction committed too early. See http://bit.ly/2kdckMn\")); })\n                : promiseFollowed.then(function () { return returnValue; })).then(function (x) {\n                if (parentTransaction)\n                    trans._resolve();\n                return trans._completion.then(function () { return x; });\n            }).catch(function (e) {\n                trans._reject(e);\n                return rejection(e);\n            });\n        });\n    }\n\n    function pad(a, value, count) {\n        var result = isArray(a) ? a.slice() : [a];\n        for (var i = 0; i < count; ++i)\n            result.push(value);\n        return result;\n    }\n    function createVirtualIndexMiddleware(down) {\n        return __assign(__assign({}, down), { table: function (tableName) {\n                var table = down.table(tableName);\n                var schema = table.schema;\n                var indexLookup = {};\n                var allVirtualIndexes = [];\n                function addVirtualIndexes(keyPath, keyTail, lowLevelIndex) {\n                    var keyPathAlias = getKeyPathAlias(keyPath);\n                    var indexList = (indexLookup[keyPathAlias] = indexLookup[keyPathAlias] || []);\n                    var keyLength = keyPath == null ? 0 : typeof keyPath === 'string' ? 1 : keyPath.length;\n                    var isVirtual = keyTail > 0;\n                    var virtualIndex = __assign(__assign({}, lowLevelIndex), { name: isVirtual\n                            ? \"\".concat(keyPathAlias, \"(virtual-from:\").concat(lowLevelIndex.name, \")\")\n                            : lowLevelIndex.name, lowLevelIndex: lowLevelIndex, isVirtual: isVirtual, keyTail: keyTail, keyLength: keyLength, extractKey: getKeyExtractor(keyPath), unique: !isVirtual && lowLevelIndex.unique });\n                    indexList.push(virtualIndex);\n                    if (!virtualIndex.isPrimaryKey) {\n                        allVirtualIndexes.push(virtualIndex);\n                    }\n                    if (keyLength > 1) {\n                        var virtualKeyPath = keyLength === 2 ?\n                            keyPath[0] :\n                            keyPath.slice(0, keyLength - 1);\n                        addVirtualIndexes(virtualKeyPath, keyTail + 1, lowLevelIndex);\n                    }\n                    indexList.sort(function (a, b) { return a.keyTail - b.keyTail; });\n                    return virtualIndex;\n                }\n                var primaryKey = addVirtualIndexes(schema.primaryKey.keyPath, 0, schema.primaryKey);\n                indexLookup[\":id\"] = [primaryKey];\n                for (var _i = 0, _a = schema.indexes; _i < _a.length; _i++) {\n                    var index = _a[_i];\n                    addVirtualIndexes(index.keyPath, 0, index);\n                }\n                function findBestIndex(keyPath) {\n                    var result = indexLookup[getKeyPathAlias(keyPath)];\n                    return result && result[0];\n                }\n                function translateRange(range, keyTail) {\n                    return {\n                        type: range.type === 1  ?\n                            2  :\n                            range.type,\n                        lower: pad(range.lower, range.lowerOpen ? down.MAX_KEY : down.MIN_KEY, keyTail),\n                        lowerOpen: true,\n                        upper: pad(range.upper, range.upperOpen ? down.MIN_KEY : down.MAX_KEY, keyTail),\n                        upperOpen: true\n                    };\n                }\n                function translateRequest(req) {\n                    var index = req.query.index;\n                    return index.isVirtual ? __assign(__assign({}, req), { query: {\n                            index: index.lowLevelIndex,\n                            range: translateRange(req.query.range, index.keyTail)\n                        } }) : req;\n                }\n                var result = __assign(__assign({}, table), { schema: __assign(__assign({}, schema), { primaryKey: primaryKey, indexes: allVirtualIndexes, getIndexByKeyPath: findBestIndex }), count: function (req) {\n                        return table.count(translateRequest(req));\n                    }, query: function (req) {\n                        return table.query(translateRequest(req));\n                    }, openCursor: function (req) {\n                        var _a = req.query.index, keyTail = _a.keyTail, isVirtual = _a.isVirtual, keyLength = _a.keyLength;\n                        if (!isVirtual)\n                            return table.openCursor(req);\n                        function createVirtualCursor(cursor) {\n                            function _continue(key) {\n                                key != null ?\n                                    cursor.continue(pad(key, req.reverse ? down.MAX_KEY : down.MIN_KEY, keyTail)) :\n                                    req.unique ?\n                                        cursor.continue(cursor.key.slice(0, keyLength)\n                                            .concat(req.reverse\n                                            ? down.MIN_KEY\n                                            : down.MAX_KEY, keyTail)) :\n                                        cursor.continue();\n                            }\n                            var virtualCursor = Object.create(cursor, {\n                                continue: { value: _continue },\n                                continuePrimaryKey: {\n                                    value: function (key, primaryKey) {\n                                        cursor.continuePrimaryKey(pad(key, down.MAX_KEY, keyTail), primaryKey);\n                                    }\n                                },\n                                primaryKey: {\n                                    get: function () {\n                                        return cursor.primaryKey;\n                                    }\n                                },\n                                key: {\n                                    get: function () {\n                                        var key = cursor.key;\n                                        return keyLength === 1 ?\n                                            key[0] :\n                                            key.slice(0, keyLength);\n                                    }\n                                },\n                                value: {\n                                    get: function () {\n                                        return cursor.value;\n                                    }\n                                }\n                            });\n                            return virtualCursor;\n                        }\n                        return table.openCursor(translateRequest(req))\n                            .then(function (cursor) { return cursor && createVirtualCursor(cursor); });\n                    } });\n                return result;\n            } });\n    }\n    var virtualIndexMiddleware = {\n        stack: \"dbcore\",\n        name: \"VirtualIndexMiddleware\",\n        level: 1,\n        create: createVirtualIndexMiddleware\n    };\n\n    function getObjectDiff(a, b, rv, prfx) {\n        rv = rv || {};\n        prfx = prfx || '';\n        keys(a).forEach(function (prop) {\n            if (!hasOwn(b, prop)) {\n                rv[prfx + prop] = undefined;\n            }\n            else {\n                var ap = a[prop], bp = b[prop];\n                if (typeof ap === 'object' && typeof bp === 'object' && ap && bp) {\n                    var apTypeName = toStringTag(ap);\n                    var bpTypeName = toStringTag(bp);\n                    if (apTypeName !== bpTypeName) {\n                        rv[prfx + prop] = b[prop];\n                    }\n                    else if (apTypeName === 'Object') {\n                        getObjectDiff(ap, bp, rv, prfx + prop + '.');\n                    }\n                    else if (ap !== bp) {\n                        rv[prfx + prop] = b[prop];\n                    }\n                }\n                else if (ap !== bp)\n                    rv[prfx + prop] = b[prop];\n            }\n        });\n        keys(b).forEach(function (prop) {\n            if (!hasOwn(a, prop)) {\n                rv[prfx + prop] = b[prop];\n            }\n        });\n        return rv;\n    }\n\n    function getEffectiveKeys(primaryKey, req) {\n        if (req.type === 'delete')\n            return req.keys;\n        return req.keys || req.values.map(primaryKey.extractKey);\n    }\n\n    var hooksMiddleware = {\n        stack: \"dbcore\",\n        name: \"HooksMiddleware\",\n        level: 2,\n        create: function (downCore) { return (__assign(__assign({}, downCore), { table: function (tableName) {\n                var downTable = downCore.table(tableName);\n                var primaryKey = downTable.schema.primaryKey;\n                var tableMiddleware = __assign(__assign({}, downTable), { mutate: function (req) {\n                        var dxTrans = PSD.trans;\n                        var _a = dxTrans.table(tableName).hook, deleting = _a.deleting, creating = _a.creating, updating = _a.updating;\n                        switch (req.type) {\n                            case 'add':\n                                if (creating.fire === nop)\n                                    break;\n                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);\n                            case 'put':\n                                if (creating.fire === nop && updating.fire === nop)\n                                    break;\n                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);\n                            case 'delete':\n                                if (deleting.fire === nop)\n                                    break;\n                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);\n                            case 'deleteRange':\n                                if (deleting.fire === nop)\n                                    break;\n                                return dxTrans._promise('readwrite', function () { return deleteRange(req); }, true);\n                        }\n                        return downTable.mutate(req);\n                        function addPutOrDelete(req) {\n                            var dxTrans = PSD.trans;\n                            var keys = req.keys || getEffectiveKeys(primaryKey, req);\n                            if (!keys)\n                                throw new Error(\"Keys missing\");\n                            req = req.type === 'add' || req.type === 'put' ? __assign(__assign({}, req), { keys: keys }) : __assign({}, req);\n                            if (req.type !== 'delete')\n                                req.values = __spreadArray([], req.values, true);\n                            if (req.keys)\n                                req.keys = __spreadArray([], req.keys, true);\n                            return getExistingValues(downTable, req, keys).then(function (existingValues) {\n                                var contexts = keys.map(function (key, i) {\n                                    var existingValue = existingValues[i];\n                                    var ctx = { onerror: null, onsuccess: null };\n                                    if (req.type === 'delete') {\n                                        deleting.fire.call(ctx, key, existingValue, dxTrans);\n                                    }\n                                    else if (req.type === 'add' || existingValue === undefined) {\n                                        var generatedPrimaryKey = creating.fire.call(ctx, key, req.values[i], dxTrans);\n                                        if (key == null && generatedPrimaryKey != null) {\n                                            key = generatedPrimaryKey;\n                                            req.keys[i] = key;\n                                            if (!primaryKey.outbound) {\n                                                setByKeyPath(req.values[i], primaryKey.keyPath, key);\n                                            }\n                                        }\n                                    }\n                                    else {\n                                        var objectDiff = getObjectDiff(existingValue, req.values[i]);\n                                        var additionalChanges_1 = updating.fire.call(ctx, objectDiff, key, existingValue, dxTrans);\n                                        if (additionalChanges_1) {\n                                            var requestedValue_1 = req.values[i];\n                                            Object.keys(additionalChanges_1).forEach(function (keyPath) {\n                                                if (hasOwn(requestedValue_1, keyPath)) {\n                                                    requestedValue_1[keyPath] = additionalChanges_1[keyPath];\n                                                }\n                                                else {\n                                                    setByKeyPath(requestedValue_1, keyPath, additionalChanges_1[keyPath]);\n                                                }\n                                            });\n                                        }\n                                    }\n                                    return ctx;\n                                });\n                                return downTable.mutate(req).then(function (_a) {\n                                    var failures = _a.failures, results = _a.results, numFailures = _a.numFailures, lastResult = _a.lastResult;\n                                    for (var i = 0; i < keys.length; ++i) {\n                                        var primKey = results ? results[i] : keys[i];\n                                        var ctx = contexts[i];\n                                        if (primKey == null) {\n                                            ctx.onerror && ctx.onerror(failures[i]);\n                                        }\n                                        else {\n                                            ctx.onsuccess && ctx.onsuccess(req.type === 'put' && existingValues[i] ?\n                                                req.values[i] :\n                                                primKey\n                                            );\n                                        }\n                                    }\n                                    return { failures: failures, results: results, numFailures: numFailures, lastResult: lastResult };\n                                }).catch(function (error) {\n                                    contexts.forEach(function (ctx) { return ctx.onerror && ctx.onerror(error); });\n                                    return Promise.reject(error);\n                                });\n                            });\n                        }\n                        function deleteRange(req) {\n                            return deleteNextChunk(req.trans, req.range, 10000);\n                        }\n                        function deleteNextChunk(trans, range, limit) {\n                            return downTable.query({ trans: trans, values: false, query: { index: primaryKey, range: range }, limit: limit })\n                                .then(function (_a) {\n                                var result = _a.result;\n                                return addPutOrDelete({ type: 'delete', keys: result, trans: trans }).then(function (res) {\n                                    if (res.numFailures > 0)\n                                        return Promise.reject(res.failures[0]);\n                                    if (result.length < limit) {\n                                        return { failures: [], numFailures: 0, lastResult: undefined };\n                                    }\n                                    else {\n                                        return deleteNextChunk(trans, __assign(__assign({}, range), { lower: result[result.length - 1], lowerOpen: true }), limit);\n                                    }\n                                });\n                            });\n                        }\n                    } });\n                return tableMiddleware;\n            } })); }\n    };\n    function getExistingValues(table, req, effectiveKeys) {\n        return req.type === \"add\"\n            ? Promise.resolve([])\n            : table.getMany({ trans: req.trans, keys: effectiveKeys, cache: \"immutable\" });\n    }\n\n    function getFromTransactionCache(keys, cache, clone) {\n        try {\n            if (!cache)\n                return null;\n            if (cache.keys.length < keys.length)\n                return null;\n            var result = [];\n            for (var i = 0, j = 0; i < cache.keys.length && j < keys.length; ++i) {\n                if (cmp(cache.keys[i], keys[j]) !== 0)\n                    continue;\n                result.push(clone ? deepClone(cache.values[i]) : cache.values[i]);\n                ++j;\n            }\n            return result.length === keys.length ? result : null;\n        }\n        catch (_a) {\n            return null;\n        }\n    }\n    var cacheExistingValuesMiddleware = {\n        stack: \"dbcore\",\n        level: -1,\n        create: function (core) {\n            return {\n                table: function (tableName) {\n                    var table = core.table(tableName);\n                    return __assign(__assign({}, table), { getMany: function (req) {\n                            if (!req.cache) {\n                                return table.getMany(req);\n                            }\n                            var cachedResult = getFromTransactionCache(req.keys, req.trans[\"_cache\"], req.cache === \"clone\");\n                            if (cachedResult) {\n                                return DexiePromise.resolve(cachedResult);\n                            }\n                            return table.getMany(req).then(function (res) {\n                                req.trans[\"_cache\"] = {\n                                    keys: req.keys,\n                                    values: req.cache === \"clone\" ? deepClone(res) : res,\n                                };\n                                return res;\n                            });\n                        }, mutate: function (req) {\n                            if (req.type !== \"add\")\n                                req.trans[\"_cache\"] = null;\n                            return table.mutate(req);\n                        } });\n                },\n            };\n        },\n    };\n\n    function isCachableContext(ctx, table) {\n        return (ctx.trans.mode === 'readonly' &&\n            !!ctx.subscr &&\n            !ctx.trans.explicit &&\n            ctx.trans.db._options.cache !== 'disabled' &&\n            !table.schema.primaryKey.outbound);\n    }\n\n    function isCachableRequest(type, req) {\n        switch (type) {\n            case 'query':\n                return req.values && !req.unique;\n            case 'get':\n                return false;\n            case 'getMany':\n                return false;\n            case 'count':\n                return false;\n            case 'openCursor':\n                return false;\n        }\n    }\n\n    var observabilityMiddleware = {\n        stack: \"dbcore\",\n        level: 0,\n        name: \"Observability\",\n        create: function (core) {\n            var dbName = core.schema.name;\n            var FULL_RANGE = new RangeSet(core.MIN_KEY, core.MAX_KEY);\n            return __assign(__assign({}, core), { transaction: function (stores, mode, options) {\n                    if (PSD.subscr && mode !== 'readonly') {\n                        throw new exceptions.ReadOnly(\"Readwrite transaction in liveQuery context. Querier source: \".concat(PSD.querier));\n                    }\n                    return core.transaction(stores, mode, options);\n                }, table: function (tableName) {\n                    var table = core.table(tableName);\n                    var schema = table.schema;\n                    var primaryKey = schema.primaryKey;\n                    var extractKey = primaryKey.extractKey, outbound = primaryKey.outbound;\n                    var tableClone = __assign(__assign({}, table), { mutate: function (req) {\n                            var trans = req.trans;\n                            var mutatedParts = req.mutatedParts || (req.mutatedParts = {});\n                            var getRangeSet = function (indexName) {\n                                var part = \"idb://\".concat(dbName, \"/\").concat(tableName, \"/\").concat(indexName);\n                                return (mutatedParts[part] ||\n                                    (mutatedParts[part] = new RangeSet()));\n                            };\n                            var pkRangeSet = getRangeSet(\"\");\n                            var delsRangeSet = getRangeSet(\":dels\");\n                            var type = req.type;\n                            var _a = req.type === \"deleteRange\"\n                                ? [req.range]\n                                : req.type === \"delete\"\n                                    ? [req.keys]\n                                    : req.values.length < 50\n                                        ? [getEffectiveKeys(primaryKey, req).filter(function (id) { return id; }), req.values]\n                                        : [], keys = _a[0], newObjs = _a[1];\n                            var oldCache = req.trans[\"_cache\"];\n                            if (isArray(keys)) {\n                                pkRangeSet.addKeys(keys);\n                                var oldObjs = type === 'delete' || keys.length === newObjs.length ? getFromTransactionCache(keys, oldCache) : null;\n                                if (!oldObjs) {\n                                    delsRangeSet.addKeys(keys);\n                                }\n                                if (oldObjs || newObjs) {\n                                    trackAffectedIndexes(getRangeSet, schema, oldObjs, newObjs);\n                                }\n                            }\n                            else if (keys) {\n                                var range = { from: keys.lower, to: keys.upper };\n                                delsRangeSet.add(range);\n                                pkRangeSet.add(range);\n                            }\n                            else {\n                                pkRangeSet.add(FULL_RANGE);\n                                delsRangeSet.add(FULL_RANGE);\n                                schema.indexes.forEach(function (idx) { return getRangeSet(idx.name).add(FULL_RANGE); });\n                            }\n                            return table.mutate(req).then(function (res) {\n                                if (keys && (req.type === 'add' || req.type === 'put')) {\n                                    pkRangeSet.addKeys(res.results);\n                                }\n                                trans.mutatedParts = extendObservabilitySet(trans.mutatedParts || {}, mutatedParts);\n                                return res;\n                            });\n                        } });\n                    var getRange = function (_a) {\n                        var _b, _c;\n                        var _d = _a.query, index = _d.index, range = _d.range;\n                        return [\n                            index,\n                            new RangeSet((_b = range.lower) !== null && _b !== void 0 ? _b : core.MIN_KEY, (_c = range.upper) !== null && _c !== void 0 ? _c : core.MAX_KEY),\n                        ];\n                    };\n                    var readSubscribers = {\n                        get: function (req) { return [primaryKey, new RangeSet(req.key)]; },\n                        getMany: function (req) { return [primaryKey, new RangeSet().addKeys(req.keys)]; },\n                        count: getRange,\n                        query: getRange,\n                        openCursor: getRange,\n                    };\n                    keys(readSubscribers).forEach(function (method) {\n                        tableClone[method] = function (req) {\n                            var subscr = PSD.subscr;\n                            var isLiveQuery = !!subscr;\n                            var cachable = isCachableContext(PSD, table) && isCachableRequest(method, req);\n                            var obsSet = cachable\n                                ? req.obsSet = {}\n                                : subscr;\n                            if (isLiveQuery) {\n                                var getRangeSet = function (indexName) {\n                                    var part = \"idb://\".concat(dbName, \"/\").concat(tableName, \"/\").concat(indexName);\n                                    return (obsSet[part] ||\n                                        (obsSet[part] = new RangeSet()));\n                                };\n                                var pkRangeSet_1 = getRangeSet(\"\");\n                                var delsRangeSet_1 = getRangeSet(\":dels\");\n                                var _a = readSubscribers[method](req), queriedIndex = _a[0], queriedRanges = _a[1];\n                                if (method === 'query' && queriedIndex.isPrimaryKey && !req.values) {\n                                    delsRangeSet_1.add(queriedRanges);\n                                }\n                                else {\n                                    getRangeSet(queriedIndex.name || \"\").add(queriedRanges);\n                                }\n                                if (!queriedIndex.isPrimaryKey) {\n                                    if (method === \"count\") {\n                                        delsRangeSet_1.add(FULL_RANGE);\n                                    }\n                                    else {\n                                        var keysPromise_1 = method === \"query\" &&\n                                            outbound &&\n                                            req.values &&\n                                            table.query(__assign(__assign({}, req), { values: false }));\n                                        return table[method].apply(this, arguments).then(function (res) {\n                                            if (method === \"query\") {\n                                                if (outbound && req.values) {\n                                                    return keysPromise_1.then(function (_a) {\n                                                        var resultingKeys = _a.result;\n                                                        pkRangeSet_1.addKeys(resultingKeys);\n                                                        return res;\n                                                    });\n                                                }\n                                                var pKeys = req.values\n                                                    ? res.result.map(extractKey)\n                                                    : res.result;\n                                                if (req.values) {\n                                                    pkRangeSet_1.addKeys(pKeys);\n                                                }\n                                                else {\n                                                    delsRangeSet_1.addKeys(pKeys);\n                                                }\n                                            }\n                                            else if (method === \"openCursor\") {\n                                                var cursor_1 = res;\n                                                var wantValues_1 = req.values;\n                                                return (cursor_1 &&\n                                                    Object.create(cursor_1, {\n                                                        key: {\n                                                            get: function () {\n                                                                delsRangeSet_1.addKey(cursor_1.primaryKey);\n                                                                return cursor_1.key;\n                                                            },\n                                                        },\n                                                        primaryKey: {\n                                                            get: function () {\n                                                                var pkey = cursor_1.primaryKey;\n                                                                delsRangeSet_1.addKey(pkey);\n                                                                return pkey;\n                                                            },\n                                                        },\n                                                        value: {\n                                                            get: function () {\n                                                                wantValues_1 && pkRangeSet_1.addKey(cursor_1.primaryKey);\n                                                                return cursor_1.value;\n                                                            },\n                                                        },\n                                                    }));\n                                            }\n                                            return res;\n                                        });\n                                    }\n                                }\n                            }\n                            return table[method].apply(this, arguments);\n                        };\n                    });\n                    return tableClone;\n                } });\n        },\n    };\n    function trackAffectedIndexes(getRangeSet, schema, oldObjs, newObjs) {\n        function addAffectedIndex(ix) {\n            var rangeSet = getRangeSet(ix.name || \"\");\n            function extractKey(obj) {\n                return obj != null ? ix.extractKey(obj) : null;\n            }\n            var addKeyOrKeys = function (key) { return ix.multiEntry && isArray(key)\n                ? key.forEach(function (key) { return rangeSet.addKey(key); })\n                : rangeSet.addKey(key); };\n            (oldObjs || newObjs).forEach(function (_, i) {\n                var oldKey = oldObjs && extractKey(oldObjs[i]);\n                var newKey = newObjs && extractKey(newObjs[i]);\n                if (cmp(oldKey, newKey) !== 0) {\n                    if (oldKey != null)\n                        addKeyOrKeys(oldKey);\n                    if (newKey != null)\n                        addKeyOrKeys(newKey);\n                }\n            });\n        }\n        schema.indexes.forEach(addAffectedIndex);\n    }\n\n    function adjustOptimisticFromFailures(tblCache, req, res) {\n        if (res.numFailures === 0)\n            return req;\n        if (req.type === 'deleteRange') {\n            return null;\n        }\n        var numBulkOps = req.keys\n            ? req.keys.length\n            : 'values' in req && req.values\n                ? req.values.length\n                : 1;\n        if (res.numFailures === numBulkOps) {\n            return null;\n        }\n        var clone = __assign({}, req);\n        if (isArray(clone.keys)) {\n            clone.keys = clone.keys.filter(function (_, i) { return !(i in res.failures); });\n        }\n        if ('values' in clone && isArray(clone.values)) {\n            clone.values = clone.values.filter(function (_, i) { return !(i in res.failures); });\n        }\n        return clone;\n    }\n\n    function isAboveLower(key, range) {\n        return range.lower === undefined\n            ? true\n            : range.lowerOpen\n                ? cmp(key, range.lower) > 0\n                : cmp(key, range.lower) >= 0;\n    }\n    function isBelowUpper(key, range) {\n        return range.upper === undefined\n            ? true\n            : range.upperOpen\n                ? cmp(key, range.upper) < 0\n                : cmp(key, range.upper) <= 0;\n    }\n    function isWithinRange(key, range) {\n        return isAboveLower(key, range) && isBelowUpper(key, range);\n    }\n\n    function applyOptimisticOps(result, req, ops, table, cacheEntry, immutable) {\n        if (!ops || ops.length === 0)\n            return result;\n        var index = req.query.index;\n        var multiEntry = index.multiEntry;\n        var queryRange = req.query.range;\n        var primaryKey = table.schema.primaryKey;\n        var extractPrimKey = primaryKey.extractKey;\n        var extractIndex = index.extractKey;\n        var extractLowLevelIndex = (index.lowLevelIndex || index).extractKey;\n        var finalResult = ops.reduce(function (result, op) {\n            var modifedResult = result;\n            var includedValues = op.type === 'add' || op.type === 'put'\n                ? op.values.filter(function (v) {\n                    var key = extractIndex(v);\n                    return multiEntry && isArray(key)\n                        ? key.some(function (k) { return isWithinRange(k, queryRange); })\n                        : isWithinRange(key, queryRange);\n                }).map(function (v) {\n                    v = deepClone(v);\n                    if (immutable)\n                        Object.freeze(v);\n                    return v;\n                })\n                : [];\n            switch (op.type) {\n                case 'add':\n                    modifedResult = result.concat(req.values\n                        ? includedValues\n                        : includedValues.map(function (v) { return extractPrimKey(v); }));\n                    break;\n                case 'put':\n                    var keySet_1 = new RangeSet().addKeys(op.values.map(function (v) { return extractPrimKey(v); }));\n                    modifedResult = result\n                        .filter(function (item) {\n                        var key = req.values ? extractPrimKey(item) : item;\n                        return !rangesOverlap(new RangeSet(key), keySet_1);\n                    })\n                        .concat(req.values\n                        ? includedValues\n                        : includedValues.map(function (v) { return extractPrimKey(v); }));\n                    break;\n                case 'delete':\n                    var keysToDelete_1 = new RangeSet().addKeys(op.keys);\n                    modifedResult = result.filter(function (item) {\n                        var key = req.values ? extractPrimKey(item) : item;\n                        return !rangesOverlap(new RangeSet(key), keysToDelete_1);\n                    });\n                    break;\n                case 'deleteRange':\n                    var range_1 = op.range;\n                    modifedResult = result.filter(function (item) { return !isWithinRange(extractPrimKey(item), range_1); });\n                    break;\n            }\n            return modifedResult;\n        }, result);\n        if (finalResult === result)\n            return result;\n        finalResult.sort(function (a, b) {\n            return cmp(extractLowLevelIndex(a), extractLowLevelIndex(b)) ||\n                cmp(extractPrimKey(a), extractPrimKey(b));\n        });\n        if (req.limit && req.limit < Infinity) {\n            if (finalResult.length > req.limit) {\n                finalResult.length = req.limit;\n            }\n            else if (result.length === req.limit && finalResult.length < req.limit) {\n                cacheEntry.dirty = true;\n            }\n        }\n        return immutable ? Object.freeze(finalResult) : finalResult;\n    }\n\n    function areRangesEqual(r1, r2) {\n        return (cmp(r1.lower, r2.lower) === 0 &&\n            cmp(r1.upper, r2.upper) === 0 &&\n            !!r1.lowerOpen === !!r2.lowerOpen &&\n            !!r1.upperOpen === !!r2.upperOpen);\n    }\n\n    function compareLowers(lower1, lower2, lowerOpen1, lowerOpen2) {\n        if (lower1 === undefined)\n            return lower2 !== undefined ? -1 : 0;\n        if (lower2 === undefined)\n            return 1;\n        var c = cmp(lower1, lower2);\n        if (c === 0) {\n            if (lowerOpen1 && lowerOpen2)\n                return 0;\n            if (lowerOpen1)\n                return 1;\n            if (lowerOpen2)\n                return -1;\n        }\n        return c;\n    }\n    function compareUppers(upper1, upper2, upperOpen1, upperOpen2) {\n        if (upper1 === undefined)\n            return upper2 !== undefined ? 1 : 0;\n        if (upper2 === undefined)\n            return -1;\n        var c = cmp(upper1, upper2);\n        if (c === 0) {\n            if (upperOpen1 && upperOpen2)\n                return 0;\n            if (upperOpen1)\n                return -1;\n            if (upperOpen2)\n                return 1;\n        }\n        return c;\n    }\n    function isSuperRange(r1, r2) {\n        return (compareLowers(r1.lower, r2.lower, r1.lowerOpen, r2.lowerOpen) <= 0 &&\n            compareUppers(r1.upper, r2.upper, r1.upperOpen, r2.upperOpen) >= 0);\n    }\n\n    function findCompatibleQuery(dbName, tableName, type, req) {\n        var tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(tableName)];\n        if (!tblCache)\n            return [];\n        var queries = tblCache.queries[type];\n        if (!queries)\n            return [null, false, tblCache, null];\n        var indexName = req.query ? req.query.index.name : null;\n        var entries = queries[indexName || ''];\n        if (!entries)\n            return [null, false, tblCache, null];\n        switch (type) {\n            case 'query':\n                var equalEntry = entries.find(function (entry) {\n                    return entry.req.limit === req.limit &&\n                        entry.req.values === req.values &&\n                        areRangesEqual(entry.req.query.range, req.query.range);\n                });\n                if (equalEntry)\n                    return [\n                        equalEntry,\n                        true,\n                        tblCache,\n                        entries,\n                    ];\n                var superEntry = entries.find(function (entry) {\n                    var limit = 'limit' in entry.req ? entry.req.limit : Infinity;\n                    return (limit >= req.limit &&\n                        (req.values ? entry.req.values : true) &&\n                        isSuperRange(entry.req.query.range, req.query.range));\n                });\n                return [superEntry, false, tblCache, entries];\n            case 'count':\n                var countQuery = entries.find(function (entry) {\n                    return areRangesEqual(entry.req.query.range, req.query.range);\n                });\n                return [countQuery, !!countQuery, tblCache, entries];\n        }\n    }\n\n    function subscribeToCacheEntry(cacheEntry, container, requery, signal) {\n        cacheEntry.subscribers.add(requery);\n        signal.addEventListener(\"abort\", function () {\n            cacheEntry.subscribers.delete(requery);\n            if (cacheEntry.subscribers.size === 0) {\n                enqueForDeletion(cacheEntry, container);\n            }\n        });\n    }\n    function enqueForDeletion(cacheEntry, container) {\n        setTimeout(function () {\n            if (cacheEntry.subscribers.size === 0) {\n                delArrayItem(container, cacheEntry);\n            }\n        }, 3000);\n    }\n\n    var cacheMiddleware = {\n        stack: 'dbcore',\n        level: 0,\n        name: 'Cache',\n        create: function (core) {\n            var dbName = core.schema.name;\n            var coreMW = __assign(__assign({}, core), { transaction: function (stores, mode, options) {\n                    var idbtrans = core.transaction(stores, mode, options);\n                    if (mode === 'readwrite') {\n                        var ac_1 = new AbortController();\n                        var signal = ac_1.signal;\n                        var endTransaction = function (wasCommitted) { return function () {\n                            ac_1.abort();\n                            if (mode === 'readwrite') {\n                                var affectedSubscribers_1 = new Set();\n                                for (var _i = 0, stores_1 = stores; _i < stores_1.length; _i++) {\n                                    var storeName = stores_1[_i];\n                                    var tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(storeName)];\n                                    if (tblCache) {\n                                        var table = core.table(storeName);\n                                        var ops = tblCache.optimisticOps.filter(function (op) { return op.trans === idbtrans; });\n                                        if (idbtrans._explicit && wasCommitted && idbtrans.mutatedParts) {\n                                            for (var _a = 0, _b = Object.values(tblCache.queries.query); _a < _b.length; _a++) {\n                                                var entries = _b[_a];\n                                                for (var _c = 0, _d = entries.slice(); _c < _d.length; _c++) {\n                                                    var entry = _d[_c];\n                                                    if (obsSetsOverlap(entry.obsSet, idbtrans.mutatedParts)) {\n                                                        delArrayItem(entries, entry);\n                                                        entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });\n                                                    }\n                                                }\n                                            }\n                                        }\n                                        else if (ops.length > 0) {\n                                            tblCache.optimisticOps = tblCache.optimisticOps.filter(function (op) { return op.trans !== idbtrans; });\n                                            for (var _e = 0, _f = Object.values(tblCache.queries.query); _e < _f.length; _e++) {\n                                                var entries = _f[_e];\n                                                for (var _g = 0, _h = entries.slice(); _g < _h.length; _g++) {\n                                                    var entry = _h[_g];\n                                                    if (entry.res != null &&\n                                                        idbtrans.mutatedParts\n    ) {\n                                                        if (wasCommitted && !entry.dirty) {\n                                                            var freezeResults = Object.isFrozen(entry.res);\n                                                            var modRes = applyOptimisticOps(entry.res, entry.req, ops, table, entry, freezeResults);\n                                                            if (entry.dirty) {\n                                                                delArrayItem(entries, entry);\n                                                                entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });\n                                                            }\n                                                            else if (modRes !== entry.res) {\n                                                                entry.res = modRes;\n                                                                entry.promise = DexiePromise.resolve({ result: modRes });\n                                                            }\n                                                        }\n                                                        else {\n                                                            if (entry.dirty) {\n                                                                delArrayItem(entries, entry);\n                                                            }\n                                                            entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });\n                                                        }\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    }\n                                }\n                                affectedSubscribers_1.forEach(function (requery) { return requery(); });\n                            }\n                        }; };\n                        idbtrans.addEventListener('abort', endTransaction(false), {\n                            signal: signal,\n                        });\n                        idbtrans.addEventListener('error', endTransaction(false), {\n                            signal: signal,\n                        });\n                        idbtrans.addEventListener('complete', endTransaction(true), {\n                            signal: signal,\n                        });\n                    }\n                    return idbtrans;\n                }, table: function (tableName) {\n                    var downTable = core.table(tableName);\n                    var primKey = downTable.schema.primaryKey;\n                    var tableMW = __assign(__assign({}, downTable), { mutate: function (req) {\n                            var trans = PSD.trans;\n                            if (primKey.outbound ||\n                                trans.db._options.cache === 'disabled' ||\n                                trans.explicit\n                            ) {\n                                return downTable.mutate(req);\n                            }\n                            var tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(tableName)];\n                            if (!tblCache)\n                                return downTable.mutate(req);\n                            var promise = downTable.mutate(req);\n                            if ((req.type === 'add' || req.type === 'put') && (req.values.length >= 50 || getEffectiveKeys(primKey, req).some(function (key) { return key == null; }))) {\n                                promise.then(function (res) {\n                                    var reqWithResolvedKeys = __assign(__assign({}, req), { values: req.values.map(function (value, i) {\n                                            var _a;\n                                            var valueWithKey = ((_a = primKey.keyPath) === null || _a === void 0 ? void 0 : _a.includes('.'))\n                                                ? deepClone(value)\n                                                : __assign({}, value);\n                                            setByKeyPath(valueWithKey, primKey.keyPath, res.results[i]);\n                                            return valueWithKey;\n                                        }) });\n                                    var adjustedReq = adjustOptimisticFromFailures(tblCache, reqWithResolvedKeys, res);\n                                    tblCache.optimisticOps.push(adjustedReq);\n                                    queueMicrotask(function () { return req.mutatedParts && signalSubscribersLazily(req.mutatedParts); });\n                                });\n                            }\n                            else {\n                                tblCache.optimisticOps.push(req);\n                                req.mutatedParts && signalSubscribersLazily(req.mutatedParts);\n                                promise.then(function (res) {\n                                    if (res.numFailures > 0) {\n                                        delArrayItem(tblCache.optimisticOps, req);\n                                        var adjustedReq = adjustOptimisticFromFailures(tblCache, req, res);\n                                        if (adjustedReq) {\n                                            tblCache.optimisticOps.push(adjustedReq);\n                                        }\n                                        req.mutatedParts && signalSubscribersLazily(req.mutatedParts);\n                                    }\n                                });\n                                promise.catch(function () {\n                                    delArrayItem(tblCache.optimisticOps, req);\n                                    req.mutatedParts && signalSubscribersLazily(req.mutatedParts);\n                                });\n                            }\n                            return promise;\n                        }, query: function (req) {\n                            var _a;\n                            if (!isCachableContext(PSD, downTable) || !isCachableRequest(\"query\", req))\n                                return downTable.query(req);\n                            var freezeResults = ((_a = PSD.trans) === null || _a === void 0 ? void 0 : _a.db._options.cache) === 'immutable';\n                            var _b = PSD, requery = _b.requery, signal = _b.signal;\n                            var _c = findCompatibleQuery(dbName, tableName, 'query', req), cacheEntry = _c[0], exactMatch = _c[1], tblCache = _c[2], container = _c[3];\n                            if (cacheEntry && exactMatch) {\n                                cacheEntry.obsSet = req.obsSet;\n                            }\n                            else {\n                                var promise = downTable.query(req).then(function (res) {\n                                    var result = res.result;\n                                    if (cacheEntry)\n                                        cacheEntry.res = result;\n                                    if (freezeResults) {\n                                        for (var i = 0, l = result.length; i < l; ++i) {\n                                            Object.freeze(result[i]);\n                                        }\n                                        Object.freeze(result);\n                                    }\n                                    else {\n                                        res.result = deepClone(result);\n                                    }\n                                    return res;\n                                }).catch(function (error) {\n                                    if (container && cacheEntry)\n                                        delArrayItem(container, cacheEntry);\n                                    return Promise.reject(error);\n                                });\n                                cacheEntry = {\n                                    obsSet: req.obsSet,\n                                    promise: promise,\n                                    subscribers: new Set(),\n                                    type: 'query',\n                                    req: req,\n                                    dirty: false,\n                                };\n                                if (container) {\n                                    container.push(cacheEntry);\n                                }\n                                else {\n                                    container = [cacheEntry];\n                                    if (!tblCache) {\n                                        tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(tableName)] = {\n                                            queries: {\n                                                query: {},\n                                                count: {},\n                                            },\n                                            objs: new Map(),\n                                            optimisticOps: [],\n                                            unsignaledParts: {}\n                                        };\n                                    }\n                                    tblCache.queries.query[req.query.index.name || ''] = container;\n                                }\n                            }\n                            subscribeToCacheEntry(cacheEntry, container, requery, signal);\n                            return cacheEntry.promise.then(function (res) {\n                                return {\n                                    result: applyOptimisticOps(res.result, req, tblCache === null || tblCache === void 0 ? void 0 : tblCache.optimisticOps, downTable, cacheEntry, freezeResults),\n                                };\n                            });\n                        } });\n                    return tableMW;\n                } });\n            return coreMW;\n        },\n    };\n\n    function vipify(target, vipDb) {\n        return new Proxy(target, {\n            get: function (target, prop, receiver) {\n                if (prop === 'db')\n                    return vipDb;\n                return Reflect.get(target, prop, receiver);\n            }\n        });\n    }\n\n    var Dexie$1 =  (function () {\n        function Dexie(name, options) {\n            var _this = this;\n            this._middlewares = {};\n            this.verno = 0;\n            var deps = Dexie.dependencies;\n            this._options = options = __assign({\n                addons: Dexie.addons, autoOpen: true,\n                indexedDB: deps.indexedDB, IDBKeyRange: deps.IDBKeyRange, cache: 'cloned' }, options);\n            this._deps = {\n                indexedDB: options.indexedDB,\n                IDBKeyRange: options.IDBKeyRange\n            };\n            var addons = options.addons;\n            this._dbSchema = {};\n            this._versions = [];\n            this._storeNames = [];\n            this._allTables = {};\n            this.idbdb = null;\n            this._novip = this;\n            var state = {\n                dbOpenError: null,\n                isBeingOpened: false,\n                onReadyBeingFired: null,\n                openComplete: false,\n                dbReadyResolve: nop,\n                dbReadyPromise: null,\n                cancelOpen: nop,\n                openCanceller: null,\n                autoSchema: true,\n                PR1398_maxLoop: 3,\n                autoOpen: options.autoOpen,\n            };\n            state.dbReadyPromise = new DexiePromise(function (resolve) {\n                state.dbReadyResolve = resolve;\n            });\n            state.openCanceller = new DexiePromise(function (_, reject) {\n                state.cancelOpen = reject;\n            });\n            this._state = state;\n            this.name = name;\n            this.on = Events(this, \"populate\", \"blocked\", \"versionchange\", \"close\", { ready: [promisableChain, nop] });\n            this.on.ready.subscribe = override(this.on.ready.subscribe, function (subscribe) {\n                return function (subscriber, bSticky) {\n                    Dexie.vip(function () {\n                        var state = _this._state;\n                        if (state.openComplete) {\n                            if (!state.dbOpenError)\n                                DexiePromise.resolve().then(subscriber);\n                            if (bSticky)\n                                subscribe(subscriber);\n                        }\n                        else if (state.onReadyBeingFired) {\n                            state.onReadyBeingFired.push(subscriber);\n                            if (bSticky)\n                                subscribe(subscriber);\n                        }\n                        else {\n                            subscribe(subscriber);\n                            var db_1 = _this;\n                            if (!bSticky)\n                                subscribe(function unsubscribe() {\n                                    db_1.on.ready.unsubscribe(subscriber);\n                                    db_1.on.ready.unsubscribe(unsubscribe);\n                                });\n                        }\n                    });\n                };\n            });\n            this.Collection = createCollectionConstructor(this);\n            this.Table = createTableConstructor(this);\n            this.Transaction = createTransactionConstructor(this);\n            this.Version = createVersionConstructor(this);\n            this.WhereClause = createWhereClauseConstructor(this);\n            this.on(\"versionchange\", function (ev) {\n                if (ev.newVersion > 0)\n                    console.warn(\"Another connection wants to upgrade database '\".concat(_this.name, \"'. Closing db now to resume the upgrade.\"));\n                else\n                    console.warn(\"Another connection wants to delete database '\".concat(_this.name, \"'. Closing db now to resume the delete request.\"));\n                _this.close({ disableAutoOpen: false });\n            });\n            this.on(\"blocked\", function (ev) {\n                if (!ev.newVersion || ev.newVersion < ev.oldVersion)\n                    console.warn(\"Dexie.delete('\".concat(_this.name, \"') was blocked\"));\n                else\n                    console.warn(\"Upgrade '\".concat(_this.name, \"' blocked by other connection holding version \").concat(ev.oldVersion / 10));\n            });\n            this._maxKey = getMaxKey(options.IDBKeyRange);\n            this._createTransaction = function (mode, storeNames, dbschema, parentTransaction) { return new _this.Transaction(mode, storeNames, dbschema, _this._options.chromeTransactionDurability, parentTransaction); };\n            this._fireOnBlocked = function (ev) {\n                _this.on(\"blocked\").fire(ev);\n                connections\n                    .filter(function (c) { return c.name === _this.name && c !== _this && !c._state.vcFired; })\n                    .map(function (c) { return c.on(\"versionchange\").fire(ev); });\n            };\n            this.use(cacheExistingValuesMiddleware);\n            this.use(cacheMiddleware);\n            this.use(observabilityMiddleware);\n            this.use(virtualIndexMiddleware);\n            this.use(hooksMiddleware);\n            var vipDB = new Proxy(this, {\n                get: function (_, prop, receiver) {\n                    if (prop === '_vip')\n                        return true;\n                    if (prop === 'table')\n                        return function (tableName) { return vipify(_this.table(tableName), vipDB); };\n                    var rv = Reflect.get(_, prop, receiver);\n                    if (rv instanceof Table)\n                        return vipify(rv, vipDB);\n                    if (prop === 'tables')\n                        return rv.map(function (t) { return vipify(t, vipDB); });\n                    if (prop === '_createTransaction')\n                        return function () {\n                            var tx = rv.apply(this, arguments);\n                            return vipify(tx, vipDB);\n                        };\n                    return rv;\n                }\n            });\n            this.vip = vipDB;\n            addons.forEach(function (addon) { return addon(_this); });\n        }\n        Dexie.prototype.version = function (versionNumber) {\n            if (isNaN(versionNumber) || versionNumber < 0.1)\n                throw new exceptions.Type(\"Given version is not a positive number\");\n            versionNumber = Math.round(versionNumber * 10) / 10;\n            if (this.idbdb || this._state.isBeingOpened)\n                throw new exceptions.Schema(\"Cannot add version when database is open\");\n            this.verno = Math.max(this.verno, versionNumber);\n            var versions = this._versions;\n            var versionInstance = versions.filter(function (v) { return v._cfg.version === versionNumber; })[0];\n            if (versionInstance)\n                return versionInstance;\n            versionInstance = new this.Version(versionNumber);\n            versions.push(versionInstance);\n            versions.sort(lowerVersionFirst);\n            versionInstance.stores({});\n            this._state.autoSchema = false;\n            return versionInstance;\n        };\n        Dexie.prototype._whenReady = function (fn) {\n            var _this = this;\n            return (this.idbdb && (this._state.openComplete || PSD.letThrough || this._vip)) ? fn() : new DexiePromise(function (resolve, reject) {\n                if (_this._state.openComplete) {\n                    return reject(new exceptions.DatabaseClosed(_this._state.dbOpenError));\n                }\n                if (!_this._state.isBeingOpened) {\n                    if (!_this._state.autoOpen) {\n                        reject(new exceptions.DatabaseClosed());\n                        return;\n                    }\n                    _this.open().catch(nop);\n                }\n                _this._state.dbReadyPromise.then(resolve, reject);\n            }).then(fn);\n        };\n        Dexie.prototype.use = function (_a) {\n            var stack = _a.stack, create = _a.create, level = _a.level, name = _a.name;\n            if (name)\n                this.unuse({ stack: stack, name: name });\n            var middlewares = this._middlewares[stack] || (this._middlewares[stack] = []);\n            middlewares.push({ stack: stack, create: create, level: level == null ? 10 : level, name: name });\n            middlewares.sort(function (a, b) { return a.level - b.level; });\n            return this;\n        };\n        Dexie.prototype.unuse = function (_a) {\n            var stack = _a.stack, name = _a.name, create = _a.create;\n            if (stack && this._middlewares[stack]) {\n                this._middlewares[stack] = this._middlewares[stack].filter(function (mw) {\n                    return create ? mw.create !== create :\n                        name ? mw.name !== name :\n                            false;\n                });\n            }\n            return this;\n        };\n        Dexie.prototype.open = function () {\n            var _this = this;\n            return usePSD(globalPSD,\n            function () { return dexieOpen(_this); });\n        };\n        Dexie.prototype._close = function () {\n            var state = this._state;\n            var idx = connections.indexOf(this);\n            if (idx >= 0)\n                connections.splice(idx, 1);\n            if (this.idbdb) {\n                try {\n                    this.idbdb.close();\n                }\n                catch (e) { }\n                this.idbdb = null;\n            }\n            if (!state.isBeingOpened) {\n                state.dbReadyPromise = new DexiePromise(function (resolve) {\n                    state.dbReadyResolve = resolve;\n                });\n                state.openCanceller = new DexiePromise(function (_, reject) {\n                    state.cancelOpen = reject;\n                });\n            }\n        };\n        Dexie.prototype.close = function (_a) {\n            var _b = _a === void 0 ? { disableAutoOpen: true } : _a, disableAutoOpen = _b.disableAutoOpen;\n            var state = this._state;\n            if (disableAutoOpen) {\n                if (state.isBeingOpened) {\n                    state.cancelOpen(new exceptions.DatabaseClosed());\n                }\n                this._close();\n                state.autoOpen = false;\n                state.dbOpenError = new exceptions.DatabaseClosed();\n            }\n            else {\n                this._close();\n                state.autoOpen = this._options.autoOpen ||\n                    state.isBeingOpened;\n                state.openComplete = false;\n                state.dbOpenError = null;\n            }\n        };\n        Dexie.prototype.delete = function (closeOptions) {\n            var _this = this;\n            if (closeOptions === void 0) { closeOptions = { disableAutoOpen: true }; }\n            var hasInvalidArguments = arguments.length > 0 && typeof arguments[0] !== 'object';\n            var state = this._state;\n            return new DexiePromise(function (resolve, reject) {\n                var doDelete = function () {\n                    _this.close(closeOptions);\n                    var req = _this._deps.indexedDB.deleteDatabase(_this.name);\n                    req.onsuccess = wrap(function () {\n                        _onDatabaseDeleted(_this._deps, _this.name);\n                        resolve();\n                    });\n                    req.onerror = eventRejectHandler(reject);\n                    req.onblocked = _this._fireOnBlocked;\n                };\n                if (hasInvalidArguments)\n                    throw new exceptions.InvalidArgument(\"Invalid closeOptions argument to db.delete()\");\n                if (state.isBeingOpened) {\n                    state.dbReadyPromise.then(doDelete);\n                }\n                else {\n                    doDelete();\n                }\n            });\n        };\n        Dexie.prototype.backendDB = function () {\n            return this.idbdb;\n        };\n        Dexie.prototype.isOpen = function () {\n            return this.idbdb !== null;\n        };\n        Dexie.prototype.hasBeenClosed = function () {\n            var dbOpenError = this._state.dbOpenError;\n            return dbOpenError && (dbOpenError.name === 'DatabaseClosed');\n        };\n        Dexie.prototype.hasFailed = function () {\n            return this._state.dbOpenError !== null;\n        };\n        Dexie.prototype.dynamicallyOpened = function () {\n            return this._state.autoSchema;\n        };\n        Object.defineProperty(Dexie.prototype, \"tables\", {\n            get: function () {\n                var _this = this;\n                return keys(this._allTables).map(function (name) { return _this._allTables[name]; });\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Dexie.prototype.transaction = function () {\n            var args = extractTransactionArgs.apply(this, arguments);\n            return this._transaction.apply(this, args);\n        };\n        Dexie.prototype._transaction = function (mode, tables, scopeFunc) {\n            var _this = this;\n            var parentTransaction = PSD.trans;\n            if (!parentTransaction || parentTransaction.db !== this || mode.indexOf('!') !== -1)\n                parentTransaction = null;\n            var onlyIfCompatible = mode.indexOf('?') !== -1;\n            mode = mode.replace('!', '').replace('?', '');\n            var idbMode, storeNames;\n            try {\n                storeNames = tables.map(function (table) {\n                    var storeName = table instanceof _this.Table ? table.name : table;\n                    if (typeof storeName !== 'string')\n                        throw new TypeError(\"Invalid table argument to Dexie.transaction(). Only Table or String are allowed\");\n                    return storeName;\n                });\n                if (mode == \"r\" || mode === READONLY)\n                    idbMode = READONLY;\n                else if (mode == \"rw\" || mode == READWRITE)\n                    idbMode = READWRITE;\n                else\n                    throw new exceptions.InvalidArgument(\"Invalid transaction mode: \" + mode);\n                if (parentTransaction) {\n                    if (parentTransaction.mode === READONLY && idbMode === READWRITE) {\n                        if (onlyIfCompatible) {\n                            parentTransaction = null;\n                        }\n                        else\n                            throw new exceptions.SubTransaction(\"Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY\");\n                    }\n                    if (parentTransaction) {\n                        storeNames.forEach(function (storeName) {\n                            if (parentTransaction && parentTransaction.storeNames.indexOf(storeName) === -1) {\n                                if (onlyIfCompatible) {\n                                    parentTransaction = null;\n                                }\n                                else\n                                    throw new exceptions.SubTransaction(\"Table \" + storeName +\n                                        \" not included in parent transaction.\");\n                            }\n                        });\n                    }\n                    if (onlyIfCompatible && parentTransaction && !parentTransaction.active) {\n                        parentTransaction = null;\n                    }\n                }\n            }\n            catch (e) {\n                return parentTransaction ?\n                    parentTransaction._promise(null, function (_, reject) { reject(e); }) :\n                    rejection(e);\n            }\n            var enterTransaction = enterTransactionScope.bind(null, this, idbMode, storeNames, parentTransaction, scopeFunc);\n            return (parentTransaction ?\n                parentTransaction._promise(idbMode, enterTransaction, \"lock\") :\n                PSD.trans ?\n                    usePSD(PSD.transless, function () { return _this._whenReady(enterTransaction); }) :\n                    this._whenReady(enterTransaction));\n        };\n        Dexie.prototype.table = function (tableName) {\n            if (!hasOwn(this._allTables, tableName)) {\n                throw new exceptions.InvalidTable(\"Table \".concat(tableName, \" does not exist\"));\n            }\n            return this._allTables[tableName];\n        };\n        return Dexie;\n    }());\n\n    var symbolObservable = typeof Symbol !== \"undefined\" && \"observable\" in Symbol\n        ? Symbol.observable\n        : \"@@observable\";\n    var Observable =  (function () {\n        function Observable(subscribe) {\n            this._subscribe = subscribe;\n        }\n        Observable.prototype.subscribe = function (x, error, complete) {\n            return this._subscribe(!x || typeof x === \"function\" ? { next: x, error: error, complete: complete } : x);\n        };\n        Observable.prototype[symbolObservable] = function () {\n            return this;\n        };\n        return Observable;\n    }());\n\n    var domDeps;\n    try {\n        domDeps = {\n            indexedDB: _global.indexedDB || _global.mozIndexedDB || _global.webkitIndexedDB || _global.msIndexedDB,\n            IDBKeyRange: _global.IDBKeyRange || _global.webkitIDBKeyRange\n        };\n    }\n    catch (e) {\n        domDeps = { indexedDB: null, IDBKeyRange: null };\n    }\n\n    function liveQuery(querier) {\n        var hasValue = false;\n        var currentValue;\n        var observable = new Observable(function (observer) {\n            var scopeFuncIsAsync = isAsyncFunction(querier);\n            function execute(ctx) {\n                var wasRootExec = beginMicroTickScope();\n                try {\n                    if (scopeFuncIsAsync) {\n                        incrementExpectedAwaits();\n                    }\n                    var rv = newScope(querier, ctx);\n                    if (scopeFuncIsAsync) {\n                        rv = rv.finally(decrementExpectedAwaits);\n                    }\n                    return rv;\n                }\n                finally {\n                    wasRootExec && endMicroTickScope();\n                }\n            }\n            var closed = false;\n            var abortController;\n            var accumMuts = {};\n            var currentObs = {};\n            var subscription = {\n                get closed() {\n                    return closed;\n                },\n                unsubscribe: function () {\n                    if (closed)\n                        return;\n                    closed = true;\n                    if (abortController)\n                        abortController.abort();\n                    if (startedListening)\n                        globalEvents.storagemutated.unsubscribe(mutationListener);\n                },\n            };\n            observer.start && observer.start(subscription);\n            var startedListening = false;\n            var doQuery = function () { return execInGlobalContext(_doQuery); };\n            function shouldNotify() {\n                return obsSetsOverlap(currentObs, accumMuts);\n            }\n            var mutationListener = function (parts) {\n                extendObservabilitySet(accumMuts, parts);\n                if (shouldNotify()) {\n                    doQuery();\n                }\n            };\n            var _doQuery = function () {\n                if (closed ||\n                    !domDeps.indexedDB)\n                 {\n                    return;\n                }\n                accumMuts = {};\n                var subscr = {};\n                if (abortController)\n                    abortController.abort();\n                abortController = new AbortController();\n                var ctx = {\n                    subscr: subscr,\n                    signal: abortController.signal,\n                    requery: doQuery,\n                    querier: querier,\n                    trans: null\n                };\n                var ret = execute(ctx);\n                Promise.resolve(ret).then(function (result) {\n                    hasValue = true;\n                    currentValue = result;\n                    if (closed || ctx.signal.aborted) {\n                        return;\n                    }\n                    accumMuts = {};\n                    currentObs = subscr;\n                    if (!objectIsEmpty(currentObs) && !startedListening) {\n                        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, mutationListener);\n                        startedListening = true;\n                    }\n                    execInGlobalContext(function () { return !closed && observer.next && observer.next(result); });\n                }, function (err) {\n                    hasValue = false;\n                    if (!['DatabaseClosedError', 'AbortError'].includes(err === null || err === void 0 ? void 0 : err.name)) {\n                        if (!closed)\n                            execInGlobalContext(function () {\n                                if (closed)\n                                    return;\n                                observer.error && observer.error(err);\n                            });\n                    }\n                });\n            };\n            setTimeout(doQuery, 0);\n            return subscription;\n        });\n        observable.hasValue = function () { return hasValue; };\n        observable.getValue = function () { return currentValue; };\n        return observable;\n    }\n\n    var Dexie = Dexie$1;\n    props(Dexie, __assign(__assign({}, fullNameExceptions), {\n        delete: function (databaseName) {\n            var db = new Dexie(databaseName, { addons: [] });\n            return db.delete();\n        },\n        exists: function (name) {\n            return new Dexie(name, { addons: [] }).open().then(function (db) {\n                db.close();\n                return true;\n            }).catch('NoSuchDatabaseError', function () { return false; });\n        },\n        getDatabaseNames: function (cb) {\n            try {\n                return getDatabaseNames(Dexie.dependencies).then(cb);\n            }\n            catch (_a) {\n                return rejection(new exceptions.MissingAPI());\n            }\n        },\n        defineClass: function () {\n            function Class(content) {\n                extend(this, content);\n            }\n            return Class;\n        }, ignoreTransaction: function (scopeFunc) {\n            return PSD.trans ?\n                usePSD(PSD.transless, scopeFunc) :\n                scopeFunc();\n        }, vip: vip, async: function (generatorFn) {\n            return function () {\n                try {\n                    var rv = awaitIterator(generatorFn.apply(this, arguments));\n                    if (!rv || typeof rv.then !== 'function')\n                        return DexiePromise.resolve(rv);\n                    return rv;\n                }\n                catch (e) {\n                    return rejection(e);\n                }\n            };\n        }, spawn: function (generatorFn, args, thiz) {\n            try {\n                var rv = awaitIterator(generatorFn.apply(thiz, args || []));\n                if (!rv || typeof rv.then !== 'function')\n                    return DexiePromise.resolve(rv);\n                return rv;\n            }\n            catch (e) {\n                return rejection(e);\n            }\n        },\n        currentTransaction: {\n            get: function () { return PSD.trans || null; }\n        }, waitFor: function (promiseOrFunction, optionalTimeout) {\n            var promise = DexiePromise.resolve(typeof promiseOrFunction === 'function' ?\n                Dexie.ignoreTransaction(promiseOrFunction) :\n                promiseOrFunction)\n                .timeout(optionalTimeout || 60000);\n            return PSD.trans ?\n                PSD.trans.waitFor(promise) :\n                promise;\n        },\n        Promise: DexiePromise,\n        debug: {\n            get: function () { return debug; },\n            set: function (value) {\n                setDebug(value);\n            }\n        },\n        derive: derive, extend: extend, props: props, override: override,\n        Events: Events, on: globalEvents, liveQuery: liveQuery, extendObservabilitySet: extendObservabilitySet,\n        getByKeyPath: getByKeyPath, setByKeyPath: setByKeyPath, delByKeyPath: delByKeyPath, shallowClone: shallowClone, deepClone: deepClone, getObjectDiff: getObjectDiff, cmp: cmp, asap: asap$1,\n        minKey: minKey,\n        addons: [],\n        connections: connections,\n        errnames: errnames,\n        dependencies: domDeps, cache: cache,\n        semVer: DEXIE_VERSION, version: DEXIE_VERSION.split('.')\n            .map(function (n) { return parseInt(n); })\n            .reduce(function (p, c, i) { return p + (c / Math.pow(10, i * 2)); }) }));\n    Dexie.maxKey = getMaxKey(Dexie.dependencies.IDBKeyRange);\n\n    if (typeof dispatchEvent !== 'undefined' && typeof addEventListener !== 'undefined') {\n        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, function (updatedParts) {\n            if (!propagatingLocally) {\n                var event_1;\n                event_1 = new CustomEvent(STORAGE_MUTATED_DOM_EVENT_NAME, {\n                    detail: updatedParts\n                });\n                propagatingLocally = true;\n                dispatchEvent(event_1);\n                propagatingLocally = false;\n            }\n        });\n        addEventListener(STORAGE_MUTATED_DOM_EVENT_NAME, function (_a) {\n            var detail = _a.detail;\n            if (!propagatingLocally) {\n                propagateLocally(detail);\n            }\n        });\n    }\n    function propagateLocally(updateParts) {\n        var wasMe = propagatingLocally;\n        try {\n            propagatingLocally = true;\n            globalEvents.storagemutated.fire(updateParts);\n            signalSubscribersNow(updateParts, true);\n        }\n        finally {\n            propagatingLocally = wasMe;\n        }\n    }\n    var propagatingLocally = false;\n\n    var bc;\n    var createBC = function () { };\n    if (typeof BroadcastChannel !== 'undefined') {\n        createBC = function () {\n            bc = new BroadcastChannel(STORAGE_MUTATED_DOM_EVENT_NAME);\n            bc.onmessage = function (ev) { return ev.data && propagateLocally(ev.data); };\n        };\n        createBC();\n        if (typeof bc.unref === 'function') {\n            bc.unref();\n        }\n        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, function (changedParts) {\n            if (!propagatingLocally) {\n                bc.postMessage(changedParts);\n            }\n        });\n    }\n\n    if (typeof addEventListener !== 'undefined') {\n        addEventListener('pagehide', function (event) {\n            if (!Dexie$1.disableBfCache && event.persisted) {\n                if (debug)\n                    console.debug('Dexie: handling persisted pagehide');\n                bc === null || bc === void 0 ? void 0 : bc.close();\n                for (var _i = 0, connections_1 = connections; _i < connections_1.length; _i++) {\n                    var db = connections_1[_i];\n                    db.close({ disableAutoOpen: false });\n                }\n            }\n        });\n        addEventListener('pageshow', function (event) {\n            if (!Dexie$1.disableBfCache && event.persisted) {\n                if (debug)\n                    console.debug('Dexie: handling persisted pageshow');\n                createBC();\n                propagateLocally({ all: new RangeSet(-Infinity, [[]]) });\n            }\n        });\n    }\n\n    function replacePrefix(a, b) {\n        return new PropModification({ replacePrefix: [a, b] });\n    }\n\n    DexiePromise.rejectionMapper = mapError;\n    setDebug(debug);\n\n    var namedExports = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        Dexie: Dexie$1,\n        liveQuery: liveQuery,\n        Entity: Entity,\n        cmp: cmp,\n        PropModSymbol: PropModSymbol,\n        PropModification: PropModification,\n        replacePrefix: replacePrefix,\n        'default': Dexie$1,\n        RangeSet: RangeSet,\n        mergeRanges: mergeRanges,\n        rangesOverlap: rangesOverlap\n    });\n\n    __assign(Dexie$1, namedExports, { default: Dexie$1 });\n\n    return Dexie$1;\n\n}));\n//# sourceMappingURL=dexie.js.map\n","/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),ca=require(\"scheduler\");function p(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var da=new Set,ea={};function fa(a,b){ha(a,b);ha(a+\"Capture\",b)}\nfunction ha(a,b){ea[a]=b;for(a=0;a<b.length;a++)da.add(b[a])}\nvar ia=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,la=\n{},ma={};function oa(a){if(ja.call(ma,a))return!0;if(ja.call(la,a))return!1;if(ka.test(a))return ma[a]=!0;la[a]=!0;return!1}function pa(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction qa(a,b,c,d){if(null===b||\"undefined\"===typeof b||pa(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function v(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var z={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){z[a]=new v(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];z[b]=new v(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){z[a]=new v(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){z[a]=new v(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){z[a]=new v(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){z[a]=new v(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){z[a]=new v(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){z[a]=new v(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){z[a]=new v(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(ra,\nsa);z[b]=new v(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!1,!1)});\nz.xlinkHref=new v(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction ta(a,b,c,d){var e=z.hasOwnProperty(b)?z[b]:null;if(null!==e?0!==e.type:d||!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1])qa(b,c,e,d)&&(c=null),d||null===e?oa(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c)))}\nvar ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for(\"react.element\"),wa=Symbol.for(\"react.portal\"),ya=Symbol.for(\"react.fragment\"),za=Symbol.for(\"react.strict_mode\"),Aa=Symbol.for(\"react.profiler\"),Ba=Symbol.for(\"react.provider\"),Ca=Symbol.for(\"react.context\"),Da=Symbol.for(\"react.forward_ref\"),Ea=Symbol.for(\"react.suspense\"),Fa=Symbol.for(\"react.suspense_list\"),Ga=Symbol.for(\"react.memo\"),Ha=Symbol.for(\"react.lazy\");Symbol.for(\"react.scope\");Symbol.for(\"react.debug_trace_mode\");\nvar Ia=Symbol.for(\"react.offscreen\");Symbol.for(\"react.legacy_hidden\");Symbol.for(\"react.cache\");Symbol.for(\"react.tracing_marker\");var Ja=Symbol.iterator;function Ka(a){if(null===a||\"object\"!==typeof a)return null;a=Ja&&a[Ja]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var A=Object.assign,La;function Ma(a){if(void 0===La)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);La=b&&b[1]||\"\"}return\"\\n\"+La+a}var Na=!1;\nfunction Oa(a,b){if(!a||Na)return\"\";Na=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(l){var d=l}Reflect.construct(a,[],b)}else{try{b.call()}catch(l){d=l}a.call(b.prototype)}else{try{throw Error();}catch(l){d=l}a()}}catch(l){if(l&&d&&\"string\"===typeof l.stack){for(var e=l.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h]){var k=\"\\n\"+e[g].replace(\" at new \",\" at \");a.displayName&&k.includes(\"<anonymous>\")&&(k=k.replace(\"<anonymous>\",a.displayName));return k}while(1<=g&&0<=h)}break}}}finally{Na=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Ma(a):\"\"}\nfunction Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma(\"Lazy\");case 13:return Ma(\"Suspense\");case 19:return Ma(\"SuspenseList\");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return\"\"}}\nfunction Qa(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ya:return\"Fragment\";case wa:return\"Portal\";case Aa:return\"Profiler\";case za:return\"StrictMode\";case Ea:return\"Suspense\";case Fa:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case Ca:return(a.displayName||\"Context\")+\".Consumer\";case Ba:return(a._context.displayName||\"Context\")+\".Provider\";case Da:var b=a.render;a=a.displayName;a||(a=b.displayName||\nb.name||\"\",a=\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");return a;case Ga:return b=a.displayName||null,null!==b?b:Qa(a.type)||\"Memo\";case Ha:b=a._payload;a=a._init;try{return Qa(a(b))}catch(c){}}return null}\nfunction Ra(a){var b=a.type;switch(a.tag){case 24:return\"Cache\";case 9:return(b.displayName||\"Context\")+\".Consumer\";case 10:return(b._context.displayName||\"Context\")+\".Provider\";case 18:return\"DehydratedFragment\";case 11:return a=b.render,a=a.displayName||a.name||\"\",b.displayName||(\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");case 7:return\"Fragment\";case 5:return b;case 4:return\"Portal\";case 3:return\"Root\";case 6:return\"Text\";case 16:return Qa(b);case 8:return b===za?\"StrictMode\":\"Mode\";case 22:return\"Offscreen\";\ncase 12:return\"Profiler\";case 21:return\"Scope\";case 13:return\"Suspense\";case 19:return\"SuspenseList\";case 25:return\"TracingMarker\";case 1:case 0:case 17:case 2:case 14:case 15:if(\"function\"===typeof b)return b.displayName||b.name||null;if(\"string\"===typeof b)return b}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"string\":case \"undefined\":return a;case \"object\":return a;default:return\"\"}}\nfunction Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return A({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function ab(a,b){b=b.checked;null!=b&&ta(a,\"checked\",b,!1)}\nfunction bb(a,b){ab(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?cb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&cb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction db(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction cb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}var eb=Array.isArray;\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(p(91));return A({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(p(92));if(eb(c)){if(1<c.length)throw Error(p(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}function kb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}\nfunction lb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?kb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar mb,nb=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(\"http://www.w3.org/2000/svg\"!==a.namespaceURI||\"innerHTML\"in a)a.innerHTML=b;else{mb=mb||document.createElement(\"div\");mb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction ob(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,\nzoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(pb).forEach(function(a){qb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);pb[b]=pb[a]})});function rb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||pb.hasOwnProperty(a)&&pb[a]?(\"\"+b).trim():b+\"px\"}\nfunction sb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=rb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction ub(a,b){if(b){if(tb[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(p(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(p(60));if(\"object\"!==typeof b.dangerouslySetInnerHTML||!(\"__html\"in b.dangerouslySetInnerHTML))throw Error(p(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(p(62));}}\nfunction vb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}var wb=null;function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(p(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(){}var Ib=!1;function Jb(a,b,c){if(Ib)return a(b,c);Ib=!0;try{return Gb(a,b,c)}finally{if(Ib=!1,null!==zb||null!==Ab)Hb(),Fb()}}\nfunction Kb(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(p(231,b,typeof c));return c}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,\"passive\",{get:function(){Lb=!0}});window.addEventListener(\"test\",Mb,Mb);window.removeEventListener(\"test\",Mb,Mb)}catch(a){Lb=!1}function Nb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this.onError(m)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0;Pb=a}};function Tb(a,b,c,d,e,f,g,h,k){Ob=!1;Pb=null;Nb.apply(Sb,arguments)}\nfunction Ub(a,b,c,d,e,f,g,h,k){Tb.apply(this,arguments);if(Ob){if(Ob){var l=Pb;Ob=!1;Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=l)}}function Vb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&4098)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function Wb(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p(188));}\nfunction Yb(a){var b=a.alternate;if(!b){b=Vb(a);if(null===b)throw Error(p(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return Xb(e),a;if(f===d)return Xb(e),b;f=f.sibling}throw Error(p(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(p(189));}}if(c.alternate!==d)throw Error(p(190));}if(3!==c.tag)throw Error(p(188));return c.stateNode.current===c?a:b}function Zb(a){a=Yb(a);return null!==a?$b(a):null}function $b(a){if(5===a.tag||6===a.tag)return a;for(a=a.child;null!==a;){var b=$b(a);if(null!==b)return b;a=a.sibling}return null}\nvar ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&\"function\"===typeof lc.onCommitFiberRoot)try{lc.onCommitFiberRoot(kc,a,void 0,128===(a.current.flags&128))}catch(b){}}\nvar oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){a>>>=0;return 0===a?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;\nfunction tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;\ndefault:return a}}function uc(a,b){var c=a.pendingLanes;if(0===c)return 0;var d=0,e=a.suspendedLanes,f=a.pingedLanes,g=c&268435455;if(0!==g){var h=g&~e;0!==h?d=tc(h):(f&=g,0!==f&&(d=tc(f)))}else g=c&~e,0!==g?d=tc(g):0!==f&&(d=tc(f));if(0===d)return 0;if(0!==b&&b!==d&&0===(b&e)&&(e=d&-d,f=b&-b,e>=f||16===e&&0!==(f&4194240)))return b;0!==(d&4)&&(d|=c&16);b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-oc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction vc(a,b){switch(a){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}\nfunction wc(a,b){for(var c=a.suspendedLanes,d=a.pingedLanes,e=a.expirationTimes,f=a.pendingLanes;0<f;){var g=31-oc(f),h=1<<g,k=e[g];if(-1===k){if(0===(h&c)||0!==(h&d))e[g]=vc(h,b)}else k<=b&&(a.expiredLanes|=h);f&=~h}}function xc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function yc(){var a=rc;rc<<=1;0===(rc&4194240)&&(rc=64);return a}function zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction Ac(a,b,c){a.pendingLanes|=b;536870912!==b&&(a.suspendedLanes=0,a.pingedLanes=0);a=a.eventTimes;b=31-oc(b);a[b]=c}function Bc(a,b){var c=a.pendingLanes&~b;a.pendingLanes=b;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=b;a.mutableReadLanes&=b;a.entangledLanes&=b;b=a.entanglements;var d=a.eventTimes;for(a=a.expirationTimes;0<c;){var e=31-oc(c),f=1<<e;b[e]=0;d[e]=-1;a[e]=-1;c&=~f}}\nfunction Cc(a,b){var c=a.entangledLanes|=b;for(a=a.entanglements;c;){var d=31-oc(c),e=1<<d;e&b|a[d]&b&&(a[d]|=b);c&=~e}}var C=0;function Dc(a){a&=-a;return 1<a?4<a?0!==(a&268435455)?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction Sc(a,b){switch(a){case \"focusin\":case \"focusout\":Lc=null;break;case \"dragenter\":case \"dragleave\":Mc=null;break;case \"mouseover\":case \"mouseout\":Nc=null;break;case \"pointerover\":case \"pointerout\":Oc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":Pc.delete(b.pointerId)}}\nfunction Tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a={blockedOn:b,domEventName:c,eventSystemFlags:d,nativeEvent:f,targetContainers:[e]},null!==b&&(b=Cb(b),null!==b&&Fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction Uc(a,b,c,d,e){switch(b){case \"focusin\":return Lc=Tc(Lc,a,b,c,d,e),!0;case \"dragenter\":return Mc=Tc(Mc,a,b,c,d,e),!0;case \"mouseover\":return Nc=Tc(Nc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;Oc.set(f,Tc(Oc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,Pc.set(f,Tc(Pc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction Vc(a){var b=Wc(a.target);if(null!==b){var c=Vb(b);if(null!==c)if(b=c.tag,13===b){if(b=Wb(c),null!==b){a.blockedOn=b;Ic(a.priority,function(){Gc(c)});return}}else if(3===b&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction Xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=Yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null===c){c=a.nativeEvent;var d=new c.constructor(c.type,c);wb=d;c.target.dispatchEvent(d);wb=null}else return b=Cb(c),null!==b&&Fc(b),a.blockedOn=c,!1;b.shift()}return!0}function Zc(a,b,c){Xc(a)&&c.delete(b)}function $c(){Jc=!1;null!==Lc&&Xc(Lc)&&(Lc=null);null!==Mc&&Xc(Mc)&&(Mc=null);null!==Nc&&Xc(Nc)&&(Nc=null);Oc.forEach(Zc);Pc.forEach(Zc)}\nfunction ad(a,b){a.blockedOn===b&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}\nfunction bd(a){function b(b){return ad(b,a)}if(0<Kc.length){ad(Kc[0],a);for(var c=1;c<Kc.length;c++){var d=Kc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==Lc&&ad(Lc,a);null!==Mc&&ad(Mc,a);null!==Nc&&ad(Nc,a);Oc.forEach(b);Pc.forEach(b);for(c=0;c<Qc.length;c++)d=Qc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<Qc.length&&(c=Qc[0],null===c.blockedOn);)Vc(c),null===c.blockedOn&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;\nfunction ed(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=1,fd(a,b,c,d)}finally{C=e,cd.transition=f}}function gd(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=4,fd(a,b,c,d)}finally{C=e,cd.transition=f}}\nfunction fd(a,b,c,d){if(dd){var e=Yc(a,b,c,d);if(null===e)hd(a,b,d,id,c),Sc(a,d);else if(Uc(e,a,b,c,d))d.stopPropagation();else if(Sc(a,d),b&4&&-1<Rc.indexOf(a)){for(;null!==e;){var f=Cb(e);null!==f&&Ec(f);f=Yc(a,b,c,d);null===f&&hd(a,b,d,id,c);if(f===e)break;e=f}null!==e&&d.stopPropagation()}else hd(a,b,d,null,c)}}var id=null;\nfunction Yc(a,b,c,d){id=null;a=xb(d);a=Wc(a);if(null!==a)if(b=Vb(a),null===b)a=null;else if(c=b.tag,13===c){a=Wb(b);if(null!==a)return a;a=null}else if(3===c){if(b.stateNode.current.memoizedState.isDehydrated)return 3===b.tag?b.stateNode.containerInfo:null;a=null}else b!==a&&(a=null);id=a;return null}\nfunction jd(a){switch(a){case \"cancel\":case \"click\":case \"close\":case \"contextmenu\":case \"copy\":case \"cut\":case \"auxclick\":case \"dblclick\":case \"dragend\":case \"dragstart\":case \"drop\":case \"focusin\":case \"focusout\":case \"input\":case \"invalid\":case \"keydown\":case \"keypress\":case \"keyup\":case \"mousedown\":case \"mouseup\":case \"paste\":case \"pause\":case \"play\":case \"pointercancel\":case \"pointerdown\":case \"pointerup\":case \"ratechange\":case \"reset\":case \"resize\":case \"seeked\":case \"submit\":case \"touchcancel\":case \"touchend\":case \"touchstart\":case \"volumechange\":case \"change\":case \"selectionchange\":case \"textInput\":case \"compositionstart\":case \"compositionend\":case \"compositionupdate\":case \"beforeblur\":case \"afterblur\":case \"beforeinput\":case \"blur\":case \"fullscreenchange\":case \"focus\":case \"hashchange\":case \"popstate\":case \"select\":case \"selectstart\":return 1;case \"drag\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"mousemove\":case \"mouseout\":case \"mouseover\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"scroll\":case \"toggle\":case \"touchmove\":case \"wheel\":case \"mouseenter\":case \"mouseleave\":case \"pointerenter\":case \"pointerleave\":return 4;\ncase \"message\":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}\nfunction od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}A(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=A({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&\"CompositionEvent\"in window,be=null;ia&&\"documentMode\"in document&&(be=document.documentMode);var ce=ia&&\"TextEvent\"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(ia){var xe;if(ia){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));Jb(re,b)}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge;\nfunction Ie(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var e=c[d];if(!ja.call(b,e)||!He(a[e],b[e]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Ke(a,b){var c=Je(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Je(c)}}function Le(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Le(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Me(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Ne(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nfunction Oe(a){var b=Me(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&c&&c.ownerDocument&&Le(c.ownerDocument.documentElement,c)){if(null!==d&&Ne(c))if(b=d.start,a=d.end,void 0===a&&(a=b),\"selectionStart\"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(a=(b=c.ownerDocument||document)&&b.defaultView||window,a.getSelection){a=a.getSelection();var e=c.textContent.length,f=Math.min(d.start,e);d=void 0===d.end?f:Math.min(d.end,e);!a.extend&&f>d&&(e=d,d=f,f=e);e=Ke(c,f);var g=Ke(c,\nd);e&&g&&(1!==a.rangeCount||a.anchorNode!==e.node||a.anchorOffset!==e.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(b=b.createRange(),b.setStart(e.node,e.offset),a.removeAllRanges(),f>d?(a.addRange(b),a.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),a.addRange(b)))}b=[];for(a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});\"function\"===typeof c.focus&&c.focus();for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}\nvar Pe=ia&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Ne(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Ie(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nfunction Ve(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var We={animationend:Ve(\"Animation\",\"AnimationEnd\"),animationiteration:Ve(\"Animation\",\"AnimationIteration\"),animationstart:Ve(\"Animation\",\"AnimationStart\"),transitionend:Ve(\"Transition\",\"TransitionEnd\")},Xe={},Ye={};\nia&&(Ye=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),\"TransitionEvent\"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var b=We[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Ye)return Xe[a]=b[c];return a}var $e=Ze(\"animationend\"),af=Ze(\"animationiteration\"),bf=Ze(\"animationstart\"),cf=Ze(\"transitionend\"),df=new Map,ef=\"abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");\nfunction ff(a,b){df.set(a,b);fa(b,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,\"on\"+kf)}ff($e,\"onAnimationEnd\");ff(af,\"onAnimationIteration\");ff(bf,\"onAnimationStart\");ff(\"dblclick\",\"onDoubleClick\");ff(\"focusin\",\"onFocus\");ff(\"focusout\",\"onBlur\");ff(cf,\"onTransitionEnd\");ha(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);ha(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ha(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);\nha(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);fa(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));fa(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));fa(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);fa(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));fa(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));\nfa(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var lf=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),mf=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(lf));\nfunction nf(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Ub(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a;}\nfunction D(a,b){var c=b[of];void 0===c&&(c=b[of]=new Set);var d=a+\"__bubble\";c.has(d)||(pf(b,a,2,!1),c.add(d))}function qf(a,b,c){var d=0;b&&(d|=4);pf(c,a,d,b)}var rf=\"_reactListening\"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0;da.forEach(function(b){\"selectionchange\"!==b&&(mf.has(b)||qf(b,!1,a),qf(b,!0,a))});var b=9===a.nodeType?a:a.ownerDocument;null===b||b[rf]||(b[rf]=!0,qf(\"selectionchange\",!1,b))}}\nfunction pf(a,b,c,d){switch(jd(b)){case 1:var e=ed;break;case 4:e=gd;break;default:e=fd}c=e.bind(null,b,c,a);e=void 0;!Lb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction hd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=Wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Jb(function(){var d=f,e=xb(c),g=[];\na:{var h=df.get(a);if(void 0!==h){var k=td,n=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":n=\"focus\";k=Fd;break;case \"focusout\":n=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case $e:case af:case bf:k=Hd;break;case cf:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var t=0!==(b&4),J=!t&&\"scroll\"===a,x=t?null!==h?h+\"Capture\":null:h;t=[];for(var w=d,u;null!==\nw;){u=w;var F=u.stateNode;5===u.tag&&null!==F&&(u=F,null!==x&&(F=Kb(w,x),null!=F&&t.push(tf(w,F,u))));if(J)break;w=w.return}0<t.length&&(h=new k(h,n,null,c,e),g.push({event:h,listeners:t}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&c!==wb&&(n=c.relatedTarget||c.fromElement)&&(Wc(n)||n[uf]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(n=c.relatedTarget||c.toElement,k=d,n=n?Wc(n):null,null!==\nn&&(J=Vb(n),n!==J||5!==n.tag&&6!==n.tag))n=null}else k=null,n=d;if(k!==n){t=Bd;F=\"onMouseLeave\";x=\"onMouseEnter\";w=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)t=Td,F=\"onPointerLeave\",x=\"onPointerEnter\",w=\"pointer\";J=null==k?h:ue(k);u=null==n?h:ue(n);h=new t(F,w+\"leave\",k,c,e);h.target=J;h.relatedTarget=u;F=null;Wc(e)===d&&(t=new t(x,w+\"enter\",n,c,e),t.target=u,t.relatedTarget=J,F=t);J=F;if(k&&n)b:{t=k;x=n;w=0;for(u=t;u;u=vf(u))w++;u=0;for(F=x;F;F=vf(F))u++;for(;0<w-u;)t=vf(t),w--;for(;0<u-w;)x=\nvf(x),u--;for(;w--;){if(t===x||null!==x&&t===x.alternate)break b;t=vf(t);x=vf(x)}t=null}else t=null;null!==k&&wf(g,h,k,t,!1);null!==n&&null!==J&&wf(g,J,n,t,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var na=ve;else if(me(h))if(we)na=Fe;else{na=De;var xa=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(na=Ee);if(na&&(na=na(a,d))){ne(g,na,c,e);break a}xa&&xa(a,h,d);\"focusout\"===a&&(xa=h._wrapperState)&&\nxa.controlled&&\"number\"===h.type&&cb(h,\"number\",h.value)}xa=d?ue(d):window;switch(a){case \"focusin\":if(me(xa)||\"true\"===xa.contentEditable)Qe=xa,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var $a;if(ae)b:{switch(a){case \"compositionstart\":var ba=\"onCompositionStart\";break b;case \"compositionend\":ba=\"onCompositionEnd\";\nbreak b;case \"compositionupdate\":ba=\"onCompositionUpdate\";break b}ba=void 0}else ie?ge(a,c)&&(ba=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(ba=\"onCompositionStart\");ba&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==ba?\"onCompositionEnd\"===ba&&ie&&($a=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),xa=oe(d,ba),0<xa.length&&(ba=new Ld(ba,a,null,c,e),g.push({event:ba,listeners:xa}),$a?ba.data=$a:($a=he(c),null!==$a&&(ba.data=$a))));if($a=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),\n0<d.length&&(e=new Ld(\"onBeforeInput\",\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=$a)}se(g,b)})}function tf(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Kb(a,c),null!=f&&d.unshift(tf(a,f,e)),f=Kb(a,b),null!=f&&d.push(tf(a,f,e)));a=a.return}return d}function vf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction wf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Kb(c,f),null!=k&&g.unshift(tf(c,k,h))):e||(k=Kb(c,f),null!=k&&g.push(tf(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}var xf=/\\r\\n?/g,yf=/\\u0000|\\uFFFD/g;function zf(a){return(\"string\"===typeof a?a:\"\"+a).replace(xf,\"\\n\").replace(yf,\"\")}function Af(a,b,c){b=zf(b);if(zf(a)!==b&&c)throw Error(p(425));}function Bf(){}\nvar Cf=null,Df=null;function Ef(a,b){return\"textarea\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}\nvar Ff=\"function\"===typeof setTimeout?setTimeout:void 0,Gf=\"function\"===typeof clearTimeout?clearTimeout:void 0,Hf=\"function\"===typeof Promise?Promise:void 0,Jf=\"function\"===typeof queueMicrotask?queueMicrotask:\"undefined\"!==typeof Hf?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a;})}\nfunction Kf(a,b){var c=b,d=0;do{var e=c.nextSibling;a.removeChild(c);if(e&&8===e.nodeType)if(c=e.data,\"/$\"===c){if(0===d){a.removeChild(e);bd(b);return}d--}else\"$\"!==c&&\"$?\"!==c&&\"$!\"!==c||d++;c=e}while(c);bd(b)}function Lf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break;if(8===b){b=a.data;if(\"$\"===b||\"$!\"===b||\"$?\"===b)break;if(\"/$\"===b)return null}}return a}\nfunction Mf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of=\"__reactFiber$\"+Nf,Pf=\"__reactProps$\"+Nf,uf=\"__reactContainer$\"+Nf,of=\"__reactEvents$\"+Nf,Qf=\"__reactListeners$\"+Nf,Rf=\"__reactHandles$\"+Nf;\nfunction Wc(a){var b=a[Of];if(b)return b;for(var c=a.parentNode;c;){if(b=c[uf]||c[Of]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=Mf(a);null!==a;){if(c=a[Of])return c;a=Mf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[Of]||a[uf];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(p(33));}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}\nfunction E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,b){Tf++;Sf[Tf]=a.current;a.current=b}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,b){var c=a.type.contextTypes;if(!c)return Vf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}\nfunction Zf(a){a=a.childContextTypes;return null!==a&&void 0!==a}function $f(){E(Wf);E(H)}function ag(a,b,c){if(H.current!==Vf)throw Error(p(168));G(H,b);G(Wf,c)}function bg(a,b,c){var d=a.stateNode;b=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in b))throw Error(p(108,Ra(a)||\"Unknown\",e));return A({},c,d)}\nfunction cg(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf;Xf=H.current;G(H,a);G(Wf,Wf.current);return!0}function dg(a,b,c){var d=a.stateNode;if(!d)throw Error(p(169));c?(a=bg(a,b,Xf),d.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H),G(H,a)):E(Wf);G(Wf,c)}var eg=null,fg=!1,gg=!1;function hg(a){null===eg?eg=[a]:eg.push(a)}function ig(a){fg=!0;hg(a)}\nfunction jg(){if(!gg&&null!==eg){gg=!0;var a=0,b=C;try{var c=eg;for(C=1;a<c.length;a++){var d=c[a];do d=d(!0);while(null!==d)}eg=null;fg=!1}catch(e){throw null!==eg&&(eg=eg.slice(a+1)),ac(fc,jg),e;}finally{C=b,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg=\"\";function tg(a,b){kg[lg++]=ng;kg[lg++]=mg;mg=a;ng=b}\nfunction ug(a,b,c){og[pg++]=rg;og[pg++]=sg;og[pg++]=qg;qg=a;var d=rg;a=sg;var e=32-oc(d)-1;d&=~(1<<e);c+=1;var f=32-oc(b)+e;if(30<f){var g=e-e%5;f=(d&(1<<g)-1).toString(32);d>>=g;e-=g;rg=1<<32-oc(b)+e|c<<e|d;sg=f+a}else rg=1<<f|c<<e|d,sg=a}function vg(a){null!==a.return&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;\nfunction Ag(a,b){var c=Bg(5,null,null,0);c.elementType=\"DELETED\";c.stateNode=b;c.return=a;b=a.deletions;null===b?(a.deletions=[c],a.flags|=16):b.push(c)}\nfunction Cg(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,xg=a,yg=Lf(b.firstChild),!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,xg=a,yg=null,!0):!1;case 13:return b=8!==b.nodeType?null:b,null!==b?(c=null!==qg?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:b,treeContext:c,retryLane:1073741824},c=Bg(18,null,null,0),c.stateNode=b,c.return=a,a.child=c,xg=a,yg=\nnull,!0):!1;default:return!1}}function Dg(a){return 0!==(a.mode&1)&&0===(a.flags&128)}function Eg(a){if(I){var b=yg;if(b){var c=b;if(!Cg(a,b)){if(Dg(a))throw Error(p(418));b=Lf(c.nextSibling);var d=xg;b&&Cg(a,b)?Ag(d,c):(a.flags=a.flags&-4097|2,I=!1,xg=a)}}else{if(Dg(a))throw Error(p(418));a.flags=a.flags&-4097|2;I=!1;xg=a}}}function Fg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;xg=a}\nfunction Gg(a){if(a!==xg)return!1;if(!I)return Fg(a),I=!0,!1;var b;(b=3!==a.tag)&&!(b=5!==a.tag)&&(b=a.type,b=\"head\"!==b&&\"body\"!==b&&!Ef(a.type,a.memoizedProps));if(b&&(b=yg)){if(Dg(a))throw Hg(),Error(p(418));for(;b;)Ag(a,b),b=Lf(b.nextSibling)}Fg(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(p(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){yg=Lf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}yg=\nnull}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null;I=!1}function Jg(a){null===zg?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;function Lg(a,b){if(a&&a.defaultProps){b=A({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(a){var b=Mg.current;E(Mg);a._currentValue=b}\nfunction Sg(a,b,c){for(;null!==a;){var d=a.alternate;(a.childLanes&b)!==b?(a.childLanes|=b,null!==d&&(d.childLanes|=b)):null!==d&&(d.childLanes&b)!==b&&(d.childLanes|=b);if(a===c)break;a=a.return}}function Tg(a,b){Ng=a;Pg=Og=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(Ug=!0),a.firstContext=null)}\nfunction Vg(a){var b=a._currentValue;if(Pg!==a)if(a={context:a,memoizedValue:b,next:null},null===Og){if(null===Ng)throw Error(p(308));Og=a;Ng.dependencies={lanes:0,firstContext:a}}else Og=Og.next=a;return b}var Wg=null;function Xg(a){null===Wg?Wg=[a]:Wg.push(a)}function Yg(a,b,c,d){var e=b.interleaved;null===e?(c.next=c,Xg(b)):(c.next=e.next,e.next=c);b.interleaved=c;return Zg(a,d)}\nfunction Zg(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}var $g=!1;function ah(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}\nfunction bh(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ch(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}\nfunction dh(a,b,c){var d=a.updateQueue;if(null===d)return null;d=d.shared;if(0!==(K&2)){var e=d.pending;null===e?b.next=b:(b.next=e.next,e.next=b);d.pending=b;return Zg(a,c)}e=d.interleaved;null===e?(b.next=b,Xg(d)):(b.next=e.next,e.next=b);d.interleaved=b;return Zg(a,c)}function eh(a,b,c){b=b.updateQueue;if(null!==b&&(b=b.shared,0!==(c&4194240))){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nfunction fh(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction gh(a,b,c,d){var e=a.updateQueue;$g=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var m=a.alternate;null!==m&&(m=m.updateQueue,h=m.lastBaseUpdate,h!==g&&(null===h?m.firstBaseUpdate=l:h.next=l,m.lastBaseUpdate=k))}if(null!==f){var q=e.baseState;g=0;m=l=k=null;h=f;do{var r=h.lane,y=h.eventTime;if((d&r)===r){null!==m&&(m=m.next={eventTime:y,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,\nnext:null});a:{var n=a,t=h;r=b;y=c;switch(t.tag){case 1:n=t.payload;if(\"function\"===typeof n){q=n.call(y,q,r);break a}q=n;break a;case 3:n.flags=n.flags&-65537|128;case 0:n=t.payload;r=\"function\"===typeof n?n.call(y,q,r):n;if(null===r||void 0===r)break a;q=A({},q,r);break a;case 2:$g=!0}}null!==h.callback&&0!==h.lane&&(a.flags|=64,r=e.effects,null===r?e.effects=[h]:r.push(h))}else y={eventTime:y,lane:r,tag:h.tag,payload:h.payload,callback:h.callback,next:null},null===m?(l=m=y,k=q):m=m.next=y,g|=r;\nh=h.next;if(null===h)if(h=e.shared.pending,null===h)break;else r=h,h=r.next,r.next=null,e.lastBaseUpdate=r,e.shared.pending=null}while(1);null===m&&(k=q);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=m;b=e.shared.interleaved;if(null!==b){e=b;do g|=e.lane,e=e.next;while(e!==b)}else null===f&&(e.shared.lanes=0);hh|=g;a.lanes=g;a.memoizedState=q}}\nfunction ih(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(p(191,e));e.call(d)}}}var jh=(new aa.Component).refs;function kh(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:A({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar nh={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=L(),e=lh(a),f=ch(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=dh(a,f,e);null!==b&&(mh(b,a,e,d),eh(b,a,e))},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=L(),e=lh(a),f=ch(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=dh(a,f,e);null!==b&&(mh(b,a,e,d),eh(b,a,e))},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=L(),d=\nlh(a),e=ch(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=b);b=dh(a,e,d);null!==b&&(mh(b,a,d,c),eh(b,a,d))}};function oh(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Ie(c,d)||!Ie(e,f):!0}\nfunction ph(a,b,c){var d=!1,e=Vf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=Vg(f):(e=Zf(b)?Xf:H.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Yf(a,e):Vf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=nh;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction qh(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&nh.enqueueReplaceState(b,b.state,null)}\nfunction rh(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=jh;ah(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=Vg(f):(f=Zf(b)?Xf:H.current,e.context=Yf(a,f));e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(kh(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||(b=e.state,\n\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&nh.enqueueReplaceState(e,e.state,null),gh(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4194308)}\nfunction sh(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(p(309));var d=c.stateNode}if(!d)throw Error(p(147,a));var e=d,f=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===f)return b.ref;b=function(a){var b=e.refs;b===jh&&(b=e.refs={});null===a?delete b[f]:b[f]=a};b._stringRef=f;return b}if(\"string\"!==typeof a)throw Error(p(284));if(!c._owner)throw Error(p(290,a));}return a}\nfunction th(a,b){a=Object.prototype.toString.call(b);throw Error(p(31,\"[object Object]\"===a?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":a));}function uh(a){var b=a._init;return b(a._payload)}\nfunction vh(a){function b(b,c){if(a){var d=b.deletions;null===d?(b.deletions=[c],b.flags|=16):d.push(c)}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=wh(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return b.flags|=1048576,c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags|=2,c):d;b.flags|=2;return c}function g(b){a&&\nnull===b.alternate&&(b.flags|=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=xh(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){var f=c.type;if(f===ya)return m(a,b,c.props.children,d,c.key);if(null!==b&&(b.elementType===f||\"object\"===typeof f&&null!==f&&f.$$typeof===Ha&&uh(f)===b.type))return d=e(b,c.props),d.ref=sh(a,b,c),d.return=a,d;d=yh(c.type,c.key,c.props,null,a.mode,d);d.ref=sh(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||\nb.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=zh(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function m(a,b,c,d,f){if(null===b||7!==b.tag)return b=Ah(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function q(a,b,c){if(\"string\"===typeof b&&\"\"!==b||\"number\"===typeof b)return b=xh(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case va:return c=yh(b.type,b.key,b.props,null,a.mode,c),\nc.ref=sh(a,null,b),c.return=a,c;case wa:return b=zh(b,a.mode,c),b.return=a,b;case Ha:var d=b._init;return q(a,d(b._payload),c)}if(eb(b)||Ka(b))return b=Ah(b,a.mode,c,null),b.return=a,b;th(a,b)}return null}function r(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c&&\"\"!==c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case va:return c.key===e?k(a,b,c,d):null;case wa:return c.key===e?l(a,b,c,d):null;case Ha:return e=c._init,r(a,\nb,e(c._payload),d)}if(eb(c)||Ka(c))return null!==e?null:m(a,b,c,d,null);th(a,c)}return null}function y(a,b,c,d,e){if(\"string\"===typeof d&&\"\"!==d||\"number\"===typeof d)return a=a.get(c)||null,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case va:return a=a.get(null===d.key?c:d.key)||null,k(b,a,d,e);case wa:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e);case Ha:var f=d._init;return y(a,b,c,f(d._payload),e)}if(eb(d)||Ka(d))return a=a.get(c)||null,m(b,a,d,e,null);th(b,d)}return null}\nfunction n(e,g,h,k){for(var l=null,m=null,u=g,w=g=0,x=null;null!==u&&w<h.length;w++){u.index>w?(x=u,u=null):x=u.sibling;var n=r(e,u,h[w],k);if(null===n){null===u&&(u=x);break}a&&u&&null===n.alternate&&b(e,u);g=f(n,g,w);null===m?l=n:m.sibling=n;m=n;u=x}if(w===h.length)return c(e,u),I&&tg(e,w),l;if(null===u){for(;w<h.length;w++)u=q(e,h[w],k),null!==u&&(g=f(u,g,w),null===m?l=u:m.sibling=u,m=u);I&&tg(e,w);return l}for(u=d(e,u);w<h.length;w++)x=y(u,e,w,h[w],k),null!==x&&(a&&null!==x.alternate&&u.delete(null===\nx.key?w:x.key),g=f(x,g,w),null===m?l=x:m.sibling=x,m=x);a&&u.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function t(e,g,h,k){var l=Ka(h);if(\"function\"!==typeof l)throw Error(p(150));h=l.call(h);if(null==h)throw Error(p(151));for(var u=l=null,m=g,w=g=0,x=null,n=h.next();null!==m&&!n.done;w++,n=h.next()){m.index>w?(x=m,m=null):x=m.sibling;var t=r(e,m,n.value,k);if(null===t){null===m&&(m=x);break}a&&m&&null===t.alternate&&b(e,m);g=f(t,g,w);null===u?l=t:u.sibling=t;u=t;m=x}if(n.done)return c(e,\nm),I&&tg(e,w),l;if(null===m){for(;!n.done;w++,n=h.next())n=q(e,n.value,k),null!==n&&(g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);I&&tg(e,w);return l}for(m=d(e,m);!n.done;w++,n=h.next())n=y(m,e,w,n.value,k),null!==n&&(a&&null!==n.alternate&&m.delete(null===n.key?w:n.key),g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);a&&m.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function J(a,d,f,h){\"object\"===typeof f&&null!==f&&f.type===ya&&null===f.key&&(f=f.props.children);if(\"object\"===typeof f&&null!==f){switch(f.$$typeof){case va:a:{for(var k=\nf.key,l=d;null!==l;){if(l.key===k){k=f.type;if(k===ya){if(7===l.tag){c(a,l.sibling);d=e(l,f.props.children);d.return=a;a=d;break a}}else if(l.elementType===k||\"object\"===typeof k&&null!==k&&k.$$typeof===Ha&&uh(k)===l.type){c(a,l.sibling);d=e(l,f.props);d.ref=sh(a,l,f);d.return=a;a=d;break a}c(a,l);break}else b(a,l);l=l.sibling}f.type===ya?(d=Ah(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=yh(f.type,f.key,f.props,null,a.mode,h),h.ref=sh(a,d,f),h.return=a,a=h)}return g(a);case wa:a:{for(l=f.key;null!==\nd;){if(d.key===l)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=zh(f,a.mode,h);d.return=a;a=d}return g(a);case Ha:return l=f._init,J(a,d,l(f._payload),h)}if(eb(f))return n(a,d,f,h);if(Ka(f))return t(a,d,f,h);th(a,f)}return\"string\"===typeof f&&\"\"!==f||\"number\"===typeof f?(f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):\n(c(a,d),d=xh(f,a.mode,h),d.return=a,a=d),g(a)):c(a,d)}return J}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(a){if(a===Dh)throw Error(p(174));return a}function Ih(a,b){G(Gh,b);G(Fh,a);G(Eh,Dh);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:lb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=lb(b,a)}E(Eh);G(Eh,b)}function Jh(){E(Eh);E(Fh);E(Gh)}\nfunction Kh(a){Hh(Gh.current);var b=Hh(Eh.current);var c=lb(b,a.type);b!==c&&(G(Fh,a),G(Eh,c))}function Lh(a){Fh.current===a&&(E(Eh),E(Fh))}var M=Uf(0);\nfunction Mh(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&128))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var Nh=[];\nfunction Oh(){for(var a=0;a<Nh.length;a++)Nh[a]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p(321));}function Wh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Xh(a,b,c,d,e,f){Rh=f;N=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;Ph.current=null===a||null===a.memoizedState?Yh:Zh;a=c(d,e);if(Th){f=0;do{Th=!1;Uh=0;if(25<=f)throw Error(p(301));f+=1;P=O=null;b.updateQueue=null;Ph.current=$h;a=c(d,e)}while(Th)}Ph.current=ai;b=null!==O&&null!==O.next;Rh=0;P=O=N=null;Sh=!1;if(b)throw Error(p(300));return a}function bi(){var a=0!==Uh;Uh=0;return a}\nfunction ci(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===P?N.memoizedState=P=a:P=P.next=a;return P}function di(){if(null===O){var a=N.alternate;a=null!==a?a.memoizedState:null}else a=O.next;var b=null===P?N.memoizedState:P.next;if(null!==b)P=b,O=a;else{if(null===a)throw Error(p(310));O=a;a={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null};null===P?N.memoizedState=P=a:P=P.next=a}return P}\nfunction ei(a,b){return\"function\"===typeof b?b(a):b}\nfunction fi(a){var b=di(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=O,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){f=e.next;d=d.baseState;var h=g=null,k=null,l=f;do{var m=l.lane;if((Rh&m)===m)null!==k&&(k=k.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),d=l.hasEagerState?l.eagerState:a(d,l.action);else{var q={lane:m,action:l.action,hasEagerState:l.hasEagerState,\neagerState:l.eagerState,next:null};null===k?(h=k=q,g=d):k=k.next=q;N.lanes|=m;hh|=m}l=l.next}while(null!==l&&l!==f);null===k?g=d:k.next=h;He(d,b.memoizedState)||(Ug=!0);b.memoizedState=d;b.baseState=g;b.baseQueue=k;c.lastRenderedState=d}a=c.interleaved;if(null!==a){e=a;do f=e.lane,N.lanes|=f,hh|=f,e=e.next;while(e!==a)}else null===e&&(c.lanes=0);return[b.memoizedState,c.dispatch]}\nfunction gi(a){var b=di(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(Ug=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}function hi(){}\nfunction ii(a,b){var c=N,d=di(),e=b(),f=!He(d.memoizedState,e);f&&(d.memoizedState=e,Ug=!0);d=d.queue;ji(ki.bind(null,c,d,a),[a]);if(d.getSnapshot!==b||f||null!==P&&P.memoizedState.tag&1){c.flags|=2048;li(9,mi.bind(null,c,d,e,b),void 0,null);if(null===R)throw Error(p(349));0!==(Rh&30)||ni(c,b,e)}return e}function ni(a,b,c){a.flags|=16384;a={getSnapshot:b,value:c};b=N.updateQueue;null===b?(b={lastEffect:null,stores:null},N.updateQueue=b,b.stores=[a]):(c=b.stores,null===c?b.stores=[a]:c.push(a))}\nfunction mi(a,b,c,d){b.value=c;b.getSnapshot=d;oi(b)&&pi(a)}function ki(a,b,c){return c(function(){oi(b)&&pi(a)})}function oi(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!He(a,c)}catch(d){return!0}}function pi(a){var b=Zg(a,1);null!==b&&mh(b,a,1,-1)}\nfunction qi(a){var b=ci();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:a};b.queue=a;a=a.dispatch=ri.bind(null,N,a);return[b.memoizedState,a]}\nfunction li(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=N.updateQueue;null===b?(b={lastEffect:null,stores:null},N.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function si(){return di().memoizedState}function ti(a,b,c,d){var e=ci();N.flags|=a;e.memoizedState=li(1|b,c,void 0,void 0===d?null:d)}\nfunction ui(a,b,c,d){var e=di();d=void 0===d?null:d;var f=void 0;if(null!==O){var g=O.memoizedState;f=g.destroy;if(null!==d&&Wh(d,g.deps)){e.memoizedState=li(b,c,f,d);return}}N.flags|=a;e.memoizedState=li(1|b,c,f,d)}function vi(a,b){return ti(8390656,8,a,b)}function ji(a,b){return ui(2048,8,a,b)}function wi(a,b){return ui(4,2,a,b)}function xi(a,b){return ui(4,4,a,b)}\nfunction yi(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function zi(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ui(4,4,yi.bind(null,b,a),c)}function Ai(){}function Bi(a,b){var c=di();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Wh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}\nfunction Ci(a,b){var c=di();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Wh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}function Di(a,b,c){if(0===(Rh&21))return a.baseState&&(a.baseState=!1,Ug=!0),a.memoizedState=c;He(c,b)||(c=yc(),N.lanes|=c,hh|=c,a.baseState=!0);return b}function Ei(a,b){var c=C;C=0!==c&&4>c?c:4;a(!0);var d=Qh.transition;Qh.transition={};try{a(!1),b()}finally{C=c,Qh.transition=d}}function Fi(){return di().memoizedState}\nfunction Gi(a,b,c){var d=lh(a);c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(Hi(a))Ii(b,c);else if(c=Yg(a,b,c,d),null!==c){var e=L();mh(c,a,d,e);Ji(c,b,d)}}\nfunction ri(a,b,c){var d=lh(a),e={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(Hi(a))Ii(b,e);else{var f=a.alternate;if(0===a.lanes&&(null===f||0===f.lanes)&&(f=b.lastRenderedReducer,null!==f))try{var g=b.lastRenderedState,h=f(g,c);e.hasEagerState=!0;e.eagerState=h;if(He(h,g)){var k=b.interleaved;null===k?(e.next=e,Xg(b)):(e.next=k.next,k.next=e);b.interleaved=e;return}}catch(l){}finally{}c=Yg(a,b,e,d);null!==c&&(e=L(),mh(c,a,d,e),Ji(c,b,d))}}\nfunction Hi(a){var b=a.alternate;return a===N||null!==b&&b===N}function Ii(a,b){Th=Sh=!0;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}function Ji(a,b,c){if(0!==(c&4194240)){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nvar ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(a,b){ci().memoizedState=[a,void 0===b?null:b];return a},useContext:Vg,useEffect:vi,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ti(4194308,\n4,yi.bind(null,b,a),c)},useLayoutEffect:function(a,b){return ti(4194308,4,a,b)},useInsertionEffect:function(a,b){return ti(4,2,a,b)},useMemo:function(a,b){var c=ci();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=ci();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};d.queue=a;a=a.dispatch=Gi.bind(null,N,a);return[d.memoizedState,a]},useRef:function(a){var b=\nci();a={current:a};return b.memoizedState=a},useState:qi,useDebugValue:Ai,useDeferredValue:function(a){return ci().memoizedState=a},useTransition:function(){var a=qi(!1),b=a[0];a=Ei.bind(null,a[1]);ci().memoizedState=a;return[b,a]},useMutableSource:function(){},useSyncExternalStore:function(a,b,c){var d=N,e=ci();if(I){if(void 0===c)throw Error(p(407));c=c()}else{c=b();if(null===R)throw Error(p(349));0!==(Rh&30)||ni(d,b,c)}e.memoizedState=c;var f={value:c,getSnapshot:b};e.queue=f;vi(ki.bind(null,d,\nf,a),[a]);d.flags|=2048;li(9,mi.bind(null,d,f,c,b),void 0,null);return c},useId:function(){var a=ci(),b=R.identifierPrefix;if(I){var c=sg;var d=rg;c=(d&~(1<<32-oc(d)-1)).toString(32)+c;b=\":\"+b+\"R\"+c;c=Uh++;0<c&&(b+=\"H\"+c.toString(32));b+=\":\"}else c=Vh++,b=\":\"+b+\"r\"+c.toString(32)+\":\";return a.memoizedState=b},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},\nuseDebugValue:Ai,useDeferredValue:function(a){var b=di();return Di(b,O.memoizedState,a)},useTransition:function(){var a=fi(ei)[0],b=di().memoizedState;return[a,b]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(a){var b=di();return null===\nO?b.memoizedState=a:Di(b,O.memoizedState,a)},useTransition:function(){var a=gi(ei)[0],b=di().memoizedState;return[a,b]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(a,b){try{var c=\"\",d=b;do c+=Pa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e,digest:null}}function Li(a,b,c){return{value:a,source:null,stack:null!=c?c:null,digest:null!=b?b:null}}\nfunction Mi(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Ni=\"function\"===typeof WeakMap?WeakMap:Map;function Oi(a,b,c){c=ch(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Pi||(Pi=!0,Qi=d);Mi(a,b)};return c}\nfunction Ri(a,b,c){c=ch(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){return d(e)};c.callback=function(){Mi(a,b)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){Mi(a,b);\"function\"!==typeof d&&(null===Si?Si=new Set([this]):Si.add(this));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}\nfunction Ti(a,b,c){var d=a.pingCache;if(null===d){d=a.pingCache=new Ni;var e=new Set;d.set(b,e)}else e=d.get(b),void 0===e&&(e=new Set,d.set(b,e));e.has(c)||(e.add(c),a=Ui.bind(null,a,b,c),b.then(a,a))}function Vi(a){do{var b;if(b=13===a.tag)b=a.memoizedState,b=null!==b?null!==b.dehydrated?!0:!1:!0;if(b)return a;a=a.return}while(null!==a);return null}\nfunction Wi(a,b,c,d,e){if(0===(a.mode&1))return a===b?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,1===c.tag&&(null===c.alternate?c.tag=17:(b=ch(-1,1),b.tag=2,dh(c,b,1))),c.lanes|=1),a;a.flags|=65536;a.lanes=e;return a}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(a,b,c,d){b.child=null===a?Ch(b,null,c,d):Bh(b,a.child,c,d)}\nfunction Zi(a,b,c,d,e){c=c.render;var f=b.ref;Tg(b,e);d=Xh(a,b,c,d,f,e);c=bi();if(null!==a&&!Ug)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,$i(a,b,e);I&&c&&vg(b);b.flags|=1;Yi(a,b,d,e);return b.child}\nfunction aj(a,b,c,d,e){if(null===a){var f=c.type;if(\"function\"===typeof f&&!bj(f)&&void 0===f.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=f,cj(a,b,f,d,e);a=yh(c.type,null,d,b,b.mode,e);a.ref=b.ref;a.return=b;return b.child=a}f=a.child;if(0===(a.lanes&e)){var g=f.memoizedProps;c=c.compare;c=null!==c?c:Ie;if(c(g,d)&&a.ref===b.ref)return $i(a,b,e)}b.flags|=1;a=wh(f,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction cj(a,b,c,d,e){if(null!==a){var f=a.memoizedProps;if(Ie(f,d)&&a.ref===b.ref)if(Ug=!1,b.pendingProps=d=f,0!==(a.lanes&e))0!==(a.flags&131072)&&(Ug=!0);else return b.lanes=a.lanes,$i(a,b,e)}return dj(a,b,c,d,e)}\nfunction ej(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode)if(0===(b.mode&1))b.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=c;else{if(0===(c&1073741824))return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a,cachePool:null,transitions:null},b.updateQueue=null,G(fj,gj),gj|=a,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null};d=null!==f?f.baseLanes:c;G(fj,gj);gj|=d}else null!==\nf?(d=f.baseLanes|c,b.memoizedState=null):d=c,G(fj,gj),gj|=d;Yi(a,b,e,c);return b.child}function hj(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=512,b.flags|=2097152}function dj(a,b,c,d,e){var f=Zf(c)?Xf:H.current;f=Yf(b,f);Tg(b,e);c=Xh(a,b,c,d,f,e);d=bi();if(null!==a&&!Ug)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,$i(a,b,e);I&&d&&vg(b);b.flags|=1;Yi(a,b,c,e);return b.child}\nfunction ij(a,b,c,d,e){if(Zf(c)){var f=!0;cg(b)}else f=!1;Tg(b,e);if(null===b.stateNode)jj(a,b),ph(b,c,d),rh(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=Vg(l):(l=Zf(c)?Xf:H.current,l=Yf(b,l));var m=c.getDerivedStateFromProps,q=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate;q||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||\n(h!==d||k!==l)&&qh(b,g,d,l);$g=!1;var r=b.memoizedState;g.state=r;gh(b,d,g,e);k=b.memoizedState;h!==d||r!==k||Wf.current||$g?(\"function\"===typeof m&&(kh(b,c,m,d),k=b.memoizedState),(h=$g||oh(b,c,h,d,r,k,l))?(q||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===typeof g.componentDidMount&&(b.flags|=4194308)):\n(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),d=!1)}else{g=b.stateNode;bh(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:Lg(b.type,h);g.props=l;q=b.pendingProps;r=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=Vg(k):(k=Zf(c)?Xf:H.current,k=Yf(b,k));var y=c.getDerivedStateFromProps;(m=\"function\"===typeof y||\"function\"===typeof g.getSnapshotBeforeUpdate)||\n\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==q||r!==k)&&qh(b,g,d,k);$g=!1;r=b.memoizedState;g.state=r;gh(b,d,g,e);var n=b.memoizedState;h!==q||r!==n||Wf.current||$g?(\"function\"===typeof y&&(kh(b,c,y,d),n=b.memoizedState),(l=$g||oh(b,c,l,d,r,n,k)||!1)?(m||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,n,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&\ng.UNSAFE_componentWillUpdate(d,n,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=1024)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),b.memoizedProps=d,b.memoizedState=n),g.props=d,g.state=n,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===\na.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),d=!1)}return kj(a,b,c,d,f,e)}\nfunction kj(a,b,c,d,e,f){hj(a,b);var g=0!==(b.flags&128);if(!d&&!g)return e&&dg(b,c,!1),$i(a,b,f);d=b.stateNode;Xi.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Bh(b,a.child,null,f),b.child=Bh(b,null,h,f)):Yi(a,b,h,f);b.memoizedState=d.state;e&&dg(b,c,!0);return b.child}function lj(a){var b=a.stateNode;b.pendingContext?ag(a,b.pendingContext,b.pendingContext!==b.context):b.context&&ag(a,b.context,!1);Ih(a,b.containerInfo)}\nfunction mj(a,b,c,d,e){Ig();Jg(e);b.flags|=256;Yi(a,b,c,d);return b.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(a){return{baseLanes:a,cachePool:null,transitions:null}}\nfunction pj(a,b,c){var d=b.pendingProps,e=M.current,f=!1,g=0!==(b.flags&128),h;(h=g)||(h=null!==a&&null===a.memoizedState?!1:0!==(e&2));if(h)f=!0,b.flags&=-129;else if(null===a||null!==a.memoizedState)e|=1;G(M,e&1);if(null===a){Eg(b);a=b.memoizedState;if(null!==a&&(a=a.dehydrated,null!==a))return 0===(b.mode&1)?b.lanes=1:\"$!\"===a.data?b.lanes=8:b.lanes=1073741824,null;g=d.children;a=d.fallback;return f?(d=b.mode,f=b.child,g={mode:\"hidden\",children:g},0===(d&1)&&null!==f?(f.childLanes=0,f.pendingProps=\ng):f=qj(g,d,0,null),a=Ah(a,d,c,null),f.return=b,a.return=b,f.sibling=a,b.child=f,b.child.memoizedState=oj(c),b.memoizedState=nj,a):rj(b,g)}e=a.memoizedState;if(null!==e&&(h=e.dehydrated,null!==h))return sj(a,b,g,d,h,e,c);if(f){f=d.fallback;g=b.mode;e=a.child;h=e.sibling;var k={mode:\"hidden\",children:d.children};0===(g&1)&&b.child!==e?(d=b.child,d.childLanes=0,d.pendingProps=k,b.deletions=null):(d=wh(e,k),d.subtreeFlags=e.subtreeFlags&14680064);null!==h?f=wh(h,f):(f=Ah(f,g,c,null),f.flags|=2);f.return=\nb;d.return=b;d.sibling=f;b.child=d;d=f;f=b.child;g=a.child.memoizedState;g=null===g?oj(c):{baseLanes:g.baseLanes|c,cachePool:null,transitions:g.transitions};f.memoizedState=g;f.childLanes=a.childLanes&~c;b.memoizedState=nj;return d}f=a.child;a=f.sibling;d=wh(f,{mode:\"visible\",children:d.children});0===(b.mode&1)&&(d.lanes=c);d.return=b;d.sibling=null;null!==a&&(c=b.deletions,null===c?(b.deletions=[a],b.flags|=16):c.push(a));b.child=d;b.memoizedState=null;return d}\nfunction rj(a,b){b=qj({mode:\"visible\",children:b},a.mode,0,null);b.return=a;return a.child=b}function tj(a,b,c,d){null!==d&&Jg(d);Bh(b,a.child,null,c);a=rj(b,b.pendingProps.children);a.flags|=2;b.memoizedState=null;return a}\nfunction sj(a,b,c,d,e,f,g){if(c){if(b.flags&256)return b.flags&=-257,d=Li(Error(p(422))),tj(a,b,g,d);if(null!==b.memoizedState)return b.child=a.child,b.flags|=128,null;f=d.fallback;e=b.mode;d=qj({mode:\"visible\",children:d.children},e,0,null);f=Ah(f,e,g,null);f.flags|=2;d.return=b;f.return=b;d.sibling=f;b.child=d;0!==(b.mode&1)&&Bh(b,a.child,null,g);b.child.memoizedState=oj(g);b.memoizedState=nj;return f}if(0===(b.mode&1))return tj(a,b,g,null);if(\"$!\"===e.data){d=e.nextSibling&&e.nextSibling.dataset;\nif(d)var h=d.dgst;d=h;f=Error(p(419));d=Li(f,d,void 0);return tj(a,b,g,d)}h=0!==(g&a.childLanes);if(Ug||h){d=R;if(null!==d){switch(g&-g){case 4:e=2;break;case 16:e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:e=32;break;case 536870912:e=268435456;break;default:e=0}e=0!==(e&(d.suspendedLanes|g))?0:e;\n0!==e&&e!==f.retryLane&&(f.retryLane=e,Zg(a,e),mh(d,a,e,-1))}uj();d=Li(Error(p(421)));return tj(a,b,g,d)}if(\"$?\"===e.data)return b.flags|=128,b.child=a.child,b=vj.bind(null,a),e._reactRetry=b,null;a=f.treeContext;yg=Lf(e.nextSibling);xg=b;I=!0;zg=null;null!==a&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=b);b=rj(b,d.children);b.flags|=4096;return b}function wj(a,b,c){a.lanes|=b;var d=a.alternate;null!==d&&(d.lanes|=b);Sg(a.return,b,c)}\nfunction xj(a,b,c,d,e){var f=a.memoizedState;null===f?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e}:(f.isBackwards=b,f.rendering=null,f.renderingStartTime=0,f.last=d,f.tail=c,f.tailMode=e)}\nfunction yj(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;Yi(a,b,d.children,c);d=M.current;if(0!==(d&2))d=d&1|2,b.flags|=128;else{if(null!==a&&0!==(a.flags&128))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&wj(a,c,b);else if(19===a.tag)wj(a,c,b);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}G(M,d);if(0===(b.mode&1))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===Mh(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);xj(b,!1,e,c,f);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===Mh(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}xj(b,!0,c,null,f);break;case \"together\":xj(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}\nfunction jj(a,b){0===(b.mode&1)&&null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2)}function $i(a,b,c){null!==a&&(b.dependencies=a.dependencies);hh|=b.lanes;if(0===(c&b.childLanes))return null;if(null!==a&&b.child!==a.child)throw Error(p(153));if(null!==b.child){a=b.child;c=wh(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=wh(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}\nfunction zj(a,b,c){switch(b.tag){case 3:lj(b);Ig();break;case 5:Kh(b);break;case 1:Zf(b.type)&&cg(b);break;case 4:Ih(b,b.stateNode.containerInfo);break;case 10:var d=b.type._context,e=b.memoizedProps.value;G(Mg,d._currentValue);d._currentValue=e;break;case 13:d=b.memoizedState;if(null!==d){if(null!==d.dehydrated)return G(M,M.current&1),b.flags|=128,null;if(0!==(c&b.child.childLanes))return pj(a,b,c);G(M,M.current&1);a=$i(a,b,c);return null!==a?a.sibling:null}G(M,M.current&1);break;case 19:d=0!==(c&\nb.childLanes);if(0!==(a.flags&128)){if(d)return yj(a,b,c);b.flags|=128}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);G(M,M.current);if(d)break;else return null;case 22:case 23:return b.lanes=0,ej(a,b,c)}return $i(a,b,c)}var Aj,Bj,Cj,Dj;\nAj=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Bj=function(){};\nCj=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;Hh(Eh.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"select\":e=A({},e,{value:void 0});d=A({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=Bf)}ub(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===l){var h=e[l];for(g in h)h.hasOwnProperty(g)&&\n(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ea.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,\nc)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ea.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&D(\"scroll\",a),f||h===k||(f=[])):(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",c);var l=f;if(b.updateQueue=l)b.flags|=4}};Dj=function(a,b,c,d){c!==d&&(b.flags|=4)};\nfunction Ej(a,b){if(!I)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction S(a){var b=null!==a.alternate&&a.alternate.child===a.child,c=0,d=0;if(b)for(var e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags&14680064,d|=e.flags&14680064,e.return=a,e=e.sibling;else for(e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags,d|=e.flags,e.return=a,e=e.sibling;a.subtreeFlags|=d;a.childLanes=c;return b}\nfunction Fj(a,b,c){var d=b.pendingProps;wg(b);switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(b),null;case 1:return Zf(b.type)&&$f(),S(b),null;case 3:d=b.stateNode;Jh();E(Wf);E(H);Oh();d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)Gg(b)?b.flags|=4:null===a||a.memoizedState.isDehydrated&&0===(b.flags&256)||(b.flags|=1024,null!==zg&&(Gj(zg),zg=null));Bj(a,b);S(b);return null;case 5:Lh(b);var e=Hh(Gh.current);\nc=b.type;if(null!==a&&null!=b.stateNode)Cj(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!d){if(null===b.stateNode)throw Error(p(166));S(b);return null}a=Hh(Eh.current);if(Gg(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[Of]=b;d[Pf]=f;a=0!==(b.mode&1);switch(c){case \"dialog\":D(\"cancel\",d);D(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",d);break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],d);break;case \"source\":D(\"error\",d);break;case \"img\":case \"image\":case \"link\":D(\"error\",\nd);D(\"load\",d);break;case \"details\":D(\"toggle\",d);break;case \"input\":Za(d,f);D(\"invalid\",d);break;case \"select\":d._wrapperState={wasMultiple:!!f.multiple};D(\"invalid\",d);break;case \"textarea\":hb(d,f),D(\"invalid\",d)}ub(c,f);e=null;for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];\"children\"===g?\"string\"===typeof h?d.textContent!==h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,h,a),e=[\"children\",h]):\"number\"===typeof h&&d.textContent!==\"\"+h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,\nh,a),e=[\"children\",\"\"+h]):ea.hasOwnProperty(g)&&null!=h&&\"onScroll\"===g&&D(\"scroll\",d)}switch(c){case \"input\":Va(d);db(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=Bf)}d=e;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;\"http://www.w3.org/1999/xhtml\"===a&&(a=kb(c));\"http://www.w3.org/1999/xhtml\"===a?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\n\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[Of]=b;a[Pf]=d;Aj(a,b,!1,!1);b.stateNode=a;a:{g=vb(c,d);switch(c){case \"dialog\":D(\"cancel\",a);D(\"close\",a);e=d;break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],a);e=d;break;case \"source\":D(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":D(\"error\",\na);D(\"load\",a);e=d;break;case \"details\":D(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);D(\"invalid\",a);break;case \"option\":e=d;break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=A({},d,{value:void 0});D(\"invalid\",a);break;case \"textarea\":hb(a,d);e=gb(a,d);D(\"invalid\",a);break;default:e=d}ub(c,e);h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?sb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&nb(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==\nc||\"\"!==k)&&ob(a,k):\"number\"===typeof k&&ob(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ea.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&D(\"scroll\",a):null!=k&&ta(a,f,k,g))}switch(c){case \"input\":Va(a);db(a,d,!1);break;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,\n!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=Bf)}switch(c){case \"button\":case \"input\":case \"select\":case \"textarea\":d=!!d.autoFocus;break a;case \"img\":d=!0;break a;default:d=!1}}d&&(b.flags|=4)}null!==b.ref&&(b.flags|=512,b.flags|=2097152)}S(b);return null;case 6:if(a&&null!=b.stateNode)Dj(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(p(166));c=Hh(Gh.current);Hh(Eh.current);if(Gg(b)){d=b.stateNode;c=b.memoizedProps;d[Of]=b;if(f=d.nodeValue!==c)if(a=\nxg,null!==a)switch(a.tag){case 3:Af(d.nodeValue,c,0!==(a.mode&1));break;case 5:!0!==a.memoizedProps.suppressHydrationWarning&&Af(d.nodeValue,c,0!==(a.mode&1))}f&&(b.flags|=4)}else d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[Of]=b,b.stateNode=d}S(b);return null;case 13:E(M);d=b.memoizedState;if(null===a||null!==a.memoizedState&&null!==a.memoizedState.dehydrated){if(I&&null!==yg&&0!==(b.mode&1)&&0===(b.flags&128))Hg(),Ig(),b.flags|=98560,f=!1;else if(f=Gg(b),null!==d&&null!==d.dehydrated){if(null===\na){if(!f)throw Error(p(318));f=b.memoizedState;f=null!==f?f.dehydrated:null;if(!f)throw Error(p(317));f[Of]=b}else Ig(),0===(b.flags&128)&&(b.memoizedState=null),b.flags|=4;S(b);f=!1}else null!==zg&&(Gj(zg),zg=null),f=!0;if(!f)return b.flags&65536?b:null}if(0!==(b.flags&128))return b.lanes=c,b;d=null!==d;d!==(null!==a&&null!==a.memoizedState)&&d&&(b.child.flags|=8192,0!==(b.mode&1)&&(null===a||0!==(M.current&1)?0===T&&(T=3):uj()));null!==b.updateQueue&&(b.flags|=4);S(b);return null;case 4:return Jh(),\nBj(a,b),null===a&&sf(b.stateNode.containerInfo),S(b),null;case 10:return Rg(b.type._context),S(b),null;case 17:return Zf(b.type)&&$f(),S(b),null;case 19:E(M);f=b.memoizedState;if(null===f)return S(b),null;d=0!==(b.flags&128);g=f.rendering;if(null===g)if(d)Ej(f,!1);else{if(0!==T||null!==a&&0!==(a.flags&128))for(a=b.child;null!==a;){g=Mh(a);if(null!==g){b.flags|=128;Ej(f,!1);d=g.updateQueue;null!==d&&(b.updateQueue=d,b.flags|=4);b.subtreeFlags=0;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=14680066,\ng=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,f.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;G(M,M.current&1|2);return b.child}a=\na.sibling}null!==f.tail&&B()>Hj&&(b.flags|=128,d=!0,Ej(f,!1),b.lanes=4194304)}else{if(!d)if(a=Mh(g),null!==a){if(b.flags|=128,d=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Ej(f,!0),null===f.tail&&\"hidden\"===f.tailMode&&!g.alternate&&!I)return S(b),null}else 2*B()-f.renderingStartTime>Hj&&1073741824!==c&&(b.flags|=128,d=!0,Ej(f,!1),b.lanes=4194304);f.isBackwards?(g.sibling=b.child,b.child=g):(c=f.last,null!==c?c.sibling=g:b.child=g,f.last=g)}if(null!==f.tail)return b=f.tail,f.rendering=\nb,f.tail=b.sibling,f.renderingStartTime=B(),b.sibling=null,c=M.current,G(M,d?c&1|2:c&1),b;S(b);return null;case 22:case 23:return Ij(),d=null!==b.memoizedState,null!==a&&null!==a.memoizedState!==d&&(b.flags|=8192),d&&0!==(b.mode&1)?0!==(gj&1073741824)&&(S(b),b.subtreeFlags&6&&(b.flags|=8192)):S(b),null;case 24:return null;case 25:return null}throw Error(p(156,b.tag));}\nfunction Jj(a,b){wg(b);switch(b.tag){case 1:return Zf(b.type)&&$f(),a=b.flags,a&65536?(b.flags=a&-65537|128,b):null;case 3:return Jh(),E(Wf),E(H),Oh(),a=b.flags,0!==(a&65536)&&0===(a&128)?(b.flags=a&-65537|128,b):null;case 5:return Lh(b),null;case 13:E(M);a=b.memoizedState;if(null!==a&&null!==a.dehydrated){if(null===b.alternate)throw Error(p(340));Ig()}a=b.flags;return a&65536?(b.flags=a&-65537|128,b):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(b.type._context),null;case 22:case 23:return Ij(),\nnull;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=\"function\"===typeof WeakSet?WeakSet:Set,V=null;function Mj(a,b){var c=a.ref;if(null!==c)if(\"function\"===typeof c)try{c(null)}catch(d){W(a,b,d)}else c.current=null}function Nj(a,b,c){try{c()}catch(d){W(a,b,d)}}var Oj=!1;\nfunction Pj(a,b){Cf=dd;a=Me();if(Ne(a)){if(\"selectionStart\"in a)var c={start:a.selectionStart,end:a.selectionEnd};else a:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&0!==d.rangeCount){c=d.anchorNode;var e=d.anchorOffset,f=d.focusNode;d=d.focusOffset;try{c.nodeType,f.nodeType}catch(F){c=null;break a}var g=0,h=-1,k=-1,l=0,m=0,q=a,r=null;b:for(;;){for(var y;;){q!==c||0!==e&&3!==q.nodeType||(h=g+e);q!==f||0!==d&&3!==q.nodeType||(k=g+d);3===q.nodeType&&(g+=\nq.nodeValue.length);if(null===(y=q.firstChild))break;r=q;q=y}for(;;){if(q===a)break b;r===c&&++l===e&&(h=g);r===f&&++m===d&&(k=g);if(null!==(y=q.nextSibling))break;q=r;r=q.parentNode}q=y}c=-1===h||-1===k?null:{start:h,end:k}}else c=null}c=c||{start:0,end:0}}else c=null;Df={focusedElem:a,selectionRange:c};dd=!1;for(V=b;null!==V;)if(b=V,a=b.child,0!==(b.subtreeFlags&1028)&&null!==a)a.return=b,V=a;else for(;null!==V;){b=V;try{var n=b.alternate;if(0!==(b.flags&1024))switch(b.tag){case 0:case 11:case 15:break;\ncase 1:if(null!==n){var t=n.memoizedProps,J=n.memoizedState,x=b.stateNode,w=x.getSnapshotBeforeUpdate(b.elementType===b.type?t:Lg(b.type,t),J);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var u=b.stateNode.containerInfo;1===u.nodeType?u.textContent=\"\":9===u.nodeType&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163));}}catch(F){W(b,b.return,F)}a=b.sibling;if(null!==a){a.return=b.return;V=a;break}V=b.return}n=Oj;Oj=!1;return n}\nfunction Qj(a,b,c){var d=b.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var e=d=d.next;do{if((e.tag&a)===a){var f=e.destroy;e.destroy=void 0;void 0!==f&&Nj(b,c,f)}e=e.next}while(e!==d)}}function Rj(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}function Sj(a){var b=a.ref;if(null!==b){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}\"function\"===typeof b?b(a):b.current=a}}\nfunction Tj(a){var b=a.alternate;null!==b&&(a.alternate=null,Tj(b));a.child=null;a.deletions=null;a.sibling=null;5===a.tag&&(b=a.stateNode,null!==b&&(delete b[Of],delete b[Pf],delete b[of],delete b[Qf],delete b[Rf]));a.stateNode=null;a.return=null;a.dependencies=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.stateNode=null;a.updateQueue=null}function Uj(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction Vj(a){a:for(;;){for(;null===a.sibling;){if(null===a.return||Uj(a.return))return null;a=a.return}a.sibling.return=a.return;for(a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(a.flags&2)continue a;if(null===a.child||4===a.tag)continue a;else a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}\nfunction Wj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=Bf));else if(4!==d&&(a=a.child,null!==a))for(Wj(a,b,c),a=a.sibling;null!==a;)Wj(a,b,c),a=a.sibling}\nfunction Xj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(Xj(a,b,c),a=a.sibling;null!==a;)Xj(a,b,c),a=a.sibling}var X=null,Yj=!1;function Zj(a,b,c){for(c=c.child;null!==c;)ak(a,b,c),c=c.sibling}\nfunction ak(a,b,c){if(lc&&\"function\"===typeof lc.onCommitFiberUnmount)try{lc.onCommitFiberUnmount(kc,c)}catch(h){}switch(c.tag){case 5:U||Mj(c,b);case 6:var d=X,e=Yj;X=null;Zj(a,b,c);X=d;Yj=e;null!==X&&(Yj?(a=X,c=c.stateNode,8===a.nodeType?a.parentNode.removeChild(c):a.removeChild(c)):X.removeChild(c.stateNode));break;case 18:null!==X&&(Yj?(a=X,c=c.stateNode,8===a.nodeType?Kf(a.parentNode,c):1===a.nodeType&&Kf(a,c),bd(a)):Kf(X,c.stateNode));break;case 4:d=X;e=Yj;X=c.stateNode.containerInfo;Yj=!0;\nZj(a,b,c);X=d;Yj=e;break;case 0:case 11:case 14:case 15:if(!U&&(d=c.updateQueue,null!==d&&(d=d.lastEffect,null!==d))){e=d=d.next;do{var f=e,g=f.destroy;f=f.tag;void 0!==g&&(0!==(f&2)?Nj(c,b,g):0!==(f&4)&&Nj(c,b,g));e=e.next}while(e!==d)}Zj(a,b,c);break;case 1:if(!U&&(Mj(c,b),d=c.stateNode,\"function\"===typeof d.componentWillUnmount))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(h){W(c,b,h)}Zj(a,b,c);break;case 21:Zj(a,b,c);break;case 22:c.mode&1?(U=(d=U)||null!==\nc.memoizedState,Zj(a,b,c),U=d):Zj(a,b,c);break;default:Zj(a,b,c)}}function bk(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Lj);b.forEach(function(b){var d=ck.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction dk(a,b){var c=b.deletions;if(null!==c)for(var d=0;d<c.length;d++){var e=c[d];try{var f=a,g=b,h=g;a:for(;null!==h;){switch(h.tag){case 5:X=h.stateNode;Yj=!1;break a;case 3:X=h.stateNode.containerInfo;Yj=!0;break a;case 4:X=h.stateNode.containerInfo;Yj=!0;break a}h=h.return}if(null===X)throw Error(p(160));ak(f,g,e);X=null;Yj=!1;var k=e.alternate;null!==k&&(k.return=null);e.return=null}catch(l){W(e,b,l)}}if(b.subtreeFlags&12854)for(b=b.child;null!==b;)ek(b,a),b=b.sibling}\nfunction ek(a,b){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:dk(b,a);fk(a);if(d&4){try{Qj(3,a,a.return),Rj(3,a)}catch(t){W(a,a.return,t)}try{Qj(5,a,a.return)}catch(t){W(a,a.return,t)}}break;case 1:dk(b,a);fk(a);d&512&&null!==c&&Mj(c,c.return);break;case 5:dk(b,a);fk(a);d&512&&null!==c&&Mj(c,c.return);if(a.flags&32){var e=a.stateNode;try{ob(e,\"\")}catch(t){W(a,a.return,t)}}if(d&4&&(e=a.stateNode,null!=e)){var f=a.memoizedProps,g=null!==c?c.memoizedProps:f,h=a.type,k=a.updateQueue;\na.updateQueue=null;if(null!==k)try{\"input\"===h&&\"radio\"===f.type&&null!=f.name&&ab(e,f);vb(h,g);var l=vb(h,f);for(g=0;g<k.length;g+=2){var m=k[g],q=k[g+1];\"style\"===m?sb(e,q):\"dangerouslySetInnerHTML\"===m?nb(e,q):\"children\"===m?ob(e,q):ta(e,m,q,l)}switch(h){case \"input\":bb(e,f);break;case \"textarea\":ib(e,f);break;case \"select\":var r=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!f.multiple;var y=f.value;null!=y?fb(e,!!f.multiple,y,!1):r!==!!f.multiple&&(null!=f.defaultValue?fb(e,!!f.multiple,\nf.defaultValue,!0):fb(e,!!f.multiple,f.multiple?[]:\"\",!1))}e[Pf]=f}catch(t){W(a,a.return,t)}}break;case 6:dk(b,a);fk(a);if(d&4){if(null===a.stateNode)throw Error(p(162));e=a.stateNode;f=a.memoizedProps;try{e.nodeValue=f}catch(t){W(a,a.return,t)}}break;case 3:dk(b,a);fk(a);if(d&4&&null!==c&&c.memoizedState.isDehydrated)try{bd(b.containerInfo)}catch(t){W(a,a.return,t)}break;case 4:dk(b,a);fk(a);break;case 13:dk(b,a);fk(a);e=a.child;e.flags&8192&&(f=null!==e.memoizedState,e.stateNode.isHidden=f,!f||\nnull!==e.alternate&&null!==e.alternate.memoizedState||(gk=B()));d&4&&bk(a);break;case 22:m=null!==c&&null!==c.memoizedState;a.mode&1?(U=(l=U)||m,dk(b,a),U=l):dk(b,a);fk(a);if(d&8192){l=null!==a.memoizedState;if((a.stateNode.isHidden=l)&&!m&&0!==(a.mode&1))for(V=a,m=a.child;null!==m;){for(q=V=m;null!==V;){r=V;y=r.child;switch(r.tag){case 0:case 11:case 14:case 15:Qj(4,r,r.return);break;case 1:Mj(r,r.return);var n=r.stateNode;if(\"function\"===typeof n.componentWillUnmount){d=r;c=r.return;try{b=d,n.props=\nb.memoizedProps,n.state=b.memoizedState,n.componentWillUnmount()}catch(t){W(d,c,t)}}break;case 5:Mj(r,r.return);break;case 22:if(null!==r.memoizedState){hk(q);continue}}null!==y?(y.return=r,V=y):hk(q)}m=m.sibling}a:for(m=null,q=a;;){if(5===q.tag){if(null===m){m=q;try{e=q.stateNode,l?(f=e.style,\"function\"===typeof f.setProperty?f.setProperty(\"display\",\"none\",\"important\"):f.display=\"none\"):(h=q.stateNode,k=q.memoizedProps.style,g=void 0!==k&&null!==k&&k.hasOwnProperty(\"display\")?k.display:null,h.style.display=\nrb(\"display\",g))}catch(t){W(a,a.return,t)}}}else if(6===q.tag){if(null===m)try{q.stateNode.nodeValue=l?\"\":q.memoizedProps}catch(t){W(a,a.return,t)}}else if((22!==q.tag&&23!==q.tag||null===q.memoizedState||q===a)&&null!==q.child){q.child.return=q;q=q.child;continue}if(q===a)break a;for(;null===q.sibling;){if(null===q.return||q.return===a)break a;m===q&&(m=null);q=q.return}m===q&&(m=null);q.sibling.return=q.return;q=q.sibling}}break;case 19:dk(b,a);fk(a);d&4&&bk(a);break;case 21:break;default:dk(b,\na),fk(a)}}function fk(a){var b=a.flags;if(b&2){try{a:{for(var c=a.return;null!==c;){if(Uj(c)){var d=c;break a}c=c.return}throw Error(p(160));}switch(d.tag){case 5:var e=d.stateNode;d.flags&32&&(ob(e,\"\"),d.flags&=-33);var f=Vj(a);Xj(a,f,e);break;case 3:case 4:var g=d.stateNode.containerInfo,h=Vj(a);Wj(a,h,g);break;default:throw Error(p(161));}}catch(k){W(a,a.return,k)}a.flags&=-3}b&4096&&(a.flags&=-4097)}function ik(a,b,c){V=a;jk(a,b,c)}\nfunction jk(a,b,c){for(var d=0!==(a.mode&1);null!==V;){var e=V,f=e.child;if(22===e.tag&&d){var g=null!==e.memoizedState||Kj;if(!g){var h=e.alternate,k=null!==h&&null!==h.memoizedState||U;h=Kj;var l=U;Kj=g;if((U=k)&&!l)for(V=e;null!==V;)g=V,k=g.child,22===g.tag&&null!==g.memoizedState?kk(e):null!==k?(k.return=g,V=k):kk(e);for(;null!==f;)V=f,jk(f,b,c),f=f.sibling;V=e;Kj=h;U=l}lk(a,b,c)}else 0!==(e.subtreeFlags&8772)&&null!==f?(f.return=e,V=f):lk(a,b,c)}}\nfunction lk(a){for(;null!==V;){var b=V;if(0!==(b.flags&8772)){var c=b.alternate;try{if(0!==(b.flags&8772))switch(b.tag){case 0:case 11:case 15:U||Rj(5,b);break;case 1:var d=b.stateNode;if(b.flags&4&&!U)if(null===c)d.componentDidMount();else{var e=b.elementType===b.type?c.memoizedProps:Lg(b.type,c.memoizedProps);d.componentDidUpdate(e,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var f=b.updateQueue;null!==f&&ih(b,f,d);break;case 3:var g=b.updateQueue;if(null!==g){c=null;if(null!==b.child)switch(b.child.tag){case 5:c=\nb.child.stateNode;break;case 1:c=b.child.stateNode}ih(b,g,c)}break;case 5:var h=b.stateNode;if(null===c&&b.flags&4){c=h;var k=b.memoizedProps;switch(b.type){case \"button\":case \"input\":case \"select\":case \"textarea\":k.autoFocus&&c.focus();break;case \"img\":k.src&&(c.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===b.memoizedState){var l=b.alternate;if(null!==l){var m=l.memoizedState;if(null!==m){var q=m.dehydrated;null!==q&&bd(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;\ndefault:throw Error(p(163));}U||b.flags&512&&Sj(b)}catch(r){W(b,b.return,r)}}if(b===a){V=null;break}c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}function hk(a){for(;null!==V;){var b=V;if(b===a){V=null;break}var c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}\nfunction kk(a){for(;null!==V;){var b=V;try{switch(b.tag){case 0:case 11:case 15:var c=b.return;try{Rj(4,b)}catch(k){W(b,c,k)}break;case 1:var d=b.stateNode;if(\"function\"===typeof d.componentDidMount){var e=b.return;try{d.componentDidMount()}catch(k){W(b,e,k)}}var f=b.return;try{Sj(b)}catch(k){W(b,f,k)}break;case 5:var g=b.return;try{Sj(b)}catch(k){W(b,g,k)}}}catch(k){W(b,b.return,k)}if(b===a){V=null;break}var h=b.sibling;if(null!==h){h.return=b.return;V=h;break}V=b.return}}\nvar mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=Infinity,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return 0!==(K&6)?B():-1!==Bk?Bk:Bk=B()}\nfunction lh(a){if(0===(a.mode&1))return 1;if(0!==(K&2)&&0!==Z)return Z&-Z;if(null!==Kg.transition)return 0===Ck&&(Ck=yc()),Ck;a=C;if(0!==a)return a;a=window.event;a=void 0===a?16:jd(a.type);return a}function mh(a,b,c,d){if(50<zk)throw zk=0,Ak=null,Error(p(185));Ac(a,c,d);if(0===(K&2)||a!==R)a===R&&(0===(K&2)&&(rk|=c),4===T&&Dk(a,Z)),Ek(a,d),1===c&&0===K&&0===(b.mode&1)&&(Hj=B()+500,fg&&jg())}\nfunction Ek(a,b){var c=a.callbackNode;wc(a,b);var d=uc(a,a===R?Z:0);if(0===d)null!==c&&bc(c),a.callbackNode=null,a.callbackPriority=0;else if(b=d&-d,a.callbackPriority!==b){null!=c&&bc(c);if(1===b)0===a.tag?ig(Fk.bind(null,a)):hg(Fk.bind(null,a)),Jf(function(){0===(K&6)&&jg()}),c=null;else{switch(Dc(d)){case 1:c=fc;break;case 4:c=gc;break;case 16:c=hc;break;case 536870912:c=jc;break;default:c=hc}c=Gk(c,Hk.bind(null,a))}a.callbackPriority=b;a.callbackNode=c}}\nfunction Hk(a,b){Bk=-1;Ck=0;if(0!==(K&6))throw Error(p(327));var c=a.callbackNode;if(Ik()&&a.callbackNode!==c)return null;var d=uc(a,a===R?Z:0);if(0===d)return null;if(0!==(d&30)||0!==(d&a.expiredLanes)||b)b=Jk(a,d);else{b=d;var e=K;K|=2;var f=Kk();if(R!==a||Z!==b)vk=null,Hj=B()+500,Lk(a,b);do try{Mk();break}catch(h){Nk(a,h)}while(1);Qg();nk.current=f;K=e;null!==Y?b=0:(R=null,Z=0,b=T)}if(0!==b){2===b&&(e=xc(a),0!==e&&(d=e,b=Ok(a,e)));if(1===b)throw c=qk,Lk(a,0),Dk(a,d),Ek(a,B()),c;if(6===b)Dk(a,d);\nelse{e=a.current.alternate;if(0===(d&30)&&!Pk(e)&&(b=Jk(a,d),2===b&&(f=xc(a),0!==f&&(d=f,b=Ok(a,f))),1===b))throw c=qk,Lk(a,0),Dk(a,d),Ek(a,B()),c;a.finishedWork=e;a.finishedLanes=d;switch(b){case 0:case 1:throw Error(p(345));case 2:Qk(a,uk,vk);break;case 3:Dk(a,d);if((d&130023424)===d&&(b=gk+500-B(),10<b)){if(0!==uc(a,0))break;e=a.suspendedLanes;if((e&d)!==d){L();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=Ff(Qk.bind(null,a,uk,vk),b);break}Qk(a,uk,vk);break;case 4:Dk(a,d);if((d&4194240)===\nd)break;b=a.eventTimes;for(e=-1;0<d;){var g=31-oc(d);f=1<<g;g=b[g];g>e&&(e=g);d&=~f}d=e;d=B()-d;d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3E3>d?3E3:4320>d?4320:1960*mk(d/1960))-d;if(10<d){a.timeoutHandle=Ff(Qk.bind(null,a,uk,vk),d);break}Qk(a,uk,vk);break;case 5:Qk(a,uk,vk);break;default:throw Error(p(329));}}}Ek(a,B());return a.callbackNode===c?Hk.bind(null,a):null}\nfunction Ok(a,b){var c=tk;a.current.memoizedState.isDehydrated&&(Lk(a,b).flags|=256);a=Jk(a,b);2!==a&&(b=uk,uk=c,null!==b&&Gj(b));return a}function Gj(a){null===uk?uk=a:uk.push.apply(uk,a)}\nfunction Pk(a){for(var b=a;;){if(b.flags&16384){var c=b.updateQueue;if(null!==c&&(c=c.stores,null!==c))for(var d=0;d<c.length;d++){var e=c[d],f=e.getSnapshot;e=e.value;try{if(!He(f(),e))return!1}catch(g){return!1}}}c=b.child;if(b.subtreeFlags&16384&&null!==c)c.return=b,b=c;else{if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return!0;b=b.return}b.sibling.return=b.return;b=b.sibling}}return!0}\nfunction Dk(a,b){b&=~sk;b&=~rk;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-oc(b),d=1<<c;a[c]=-1;b&=~d}}function Fk(a){if(0!==(K&6))throw Error(p(327));Ik();var b=uc(a,0);if(0===(b&1))return Ek(a,B()),null;var c=Jk(a,b);if(0!==a.tag&&2===c){var d=xc(a);0!==d&&(b=d,c=Ok(a,d))}if(1===c)throw c=qk,Lk(a,0),Dk(a,b),Ek(a,B()),c;if(6===c)throw Error(p(345));a.finishedWork=a.current.alternate;a.finishedLanes=b;Qk(a,uk,vk);Ek(a,B());return null}\nfunction Rk(a,b){var c=K;K|=1;try{return a(b)}finally{K=c,0===K&&(Hj=B()+500,fg&&jg())}}function Sk(a){null!==xk&&0===xk.tag&&0===(K&6)&&Ik();var b=K;K|=1;var c=pk.transition,d=C;try{if(pk.transition=null,C=1,a)return a()}finally{C=d,pk.transition=c,K=b,0===(K&6)&&jg()}}function Ij(){gj=fj.current;E(fj)}\nfunction Lk(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,Gf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;wg(d);switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&$f();break;case 3:Jh();E(Wf);E(H);Oh();break;case 5:Lh(d);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(d.type._context);break;case 22:case 23:Ij()}c=c.return}R=a;Y=a=wh(a.current,null);Z=gj=b;T=0;qk=null;sk=rk=hh=0;uk=tk=null;if(null!==Wg){for(b=\n0;b<Wg.length;b++)if(c=Wg[b],d=c.interleaved,null!==d){c.interleaved=null;var e=d.next,f=c.pending;if(null!==f){var g=f.next;f.next=e;d.next=g}c.pending=d}Wg=null}return a}\nfunction Nk(a,b){do{var c=Y;try{Qg();Ph.current=ai;if(Sh){for(var d=N.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}Sh=!1}Rh=0;P=O=N=null;Th=!1;Uh=0;ok.current=null;if(null===c||null===c.return){T=1;qk=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=Z;h.flags|=32768;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k,m=h,q=m.tag;if(0===(m.mode&1)&&(0===q||11===q||15===q)){var r=m.alternate;r?(m.updateQueue=r.updateQueue,m.memoizedState=r.memoizedState,\nm.lanes=r.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Vi(g);if(null!==y){y.flags&=-257;Wi(y,g,h,f,b);y.mode&1&&Ti(f,l,b);b=y;k=l;var n=b.updateQueue;if(null===n){var t=new Set;t.add(k);b.updateQueue=t}else n.add(k);break a}else{if(0===(b&1)){Ti(f,l,b);uj();break a}k=Error(p(426))}}else if(I&&h.mode&1){var J=Vi(g);if(null!==J){0===(J.flags&65536)&&(J.flags|=256);Wi(J,g,h,f,b);Jg(Ki(k,h));break a}}f=k=Ki(k,h);4!==T&&(T=2);null===tk?tk=[f]:tk.push(f);f=g;do{switch(f.tag){case 3:f.flags|=65536;\nb&=-b;f.lanes|=b;var x=Oi(f,k,b);fh(f,x);break a;case 1:h=k;var w=f.type,u=f.stateNode;if(0===(f.flags&128)&&(\"function\"===typeof w.getDerivedStateFromError||null!==u&&\"function\"===typeof u.componentDidCatch&&(null===Si||!Si.has(u)))){f.flags|=65536;b&=-b;f.lanes|=b;var F=Ri(f,h,b);fh(f,F);break a}}f=f.return}while(null!==f)}Tk(c)}catch(na){b=na;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}function Kk(){var a=nk.current;nk.current=ai;return null===a?ai:a}\nfunction uj(){if(0===T||3===T||2===T)T=4;null===R||0===(hh&268435455)&&0===(rk&268435455)||Dk(R,Z)}function Jk(a,b){var c=K;K|=2;var d=Kk();if(R!==a||Z!==b)vk=null,Lk(a,b);do try{Uk();break}catch(e){Nk(a,e)}while(1);Qg();K=c;nk.current=d;if(null!==Y)throw Error(p(261));R=null;Z=0;return T}function Uk(){for(;null!==Y;)Vk(Y)}function Mk(){for(;null!==Y&&!cc();)Vk(Y)}function Vk(a){var b=Wk(a.alternate,a,gj);a.memoizedProps=a.pendingProps;null===b?Tk(a):Y=b;ok.current=null}\nfunction Tk(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&32768)){if(c=Fj(c,b,gj),null!==c){Y=c;return}}else{c=Jj(c,b);if(null!==c){c.flags&=32767;Y=c;return}if(null!==a)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6;Y=null;return}}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===T&&(T=5)}function Qk(a,b,c){var d=C,e=pk.transition;try{pk.transition=null,C=1,Xk(a,b,c,d)}finally{pk.transition=e,C=d}return null}\nfunction Xk(a,b,c,d){do Ik();while(null!==xk);if(0!==(K&6))throw Error(p(327));c=a.finishedWork;var e=a.finishedLanes;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(p(177));a.callbackNode=null;a.callbackPriority=0;var f=c.lanes|c.childLanes;Bc(a,f);a===R&&(Y=R=null,Z=0);0===(c.subtreeFlags&2064)&&0===(c.flags&2064)||wk||(wk=!0,Gk(hc,function(){Ik();return null}));f=0!==(c.flags&15990);if(0!==(c.subtreeFlags&15990)||f){f=pk.transition;pk.transition=null;\nvar g=C;C=1;var h=K;K|=4;ok.current=null;Pj(a,c);ek(c,a);Oe(Df);dd=!!Cf;Df=Cf=null;a.current=c;ik(c,a,e);dc();K=h;C=g;pk.transition=f}else a.current=c;wk&&(wk=!1,xk=a,yk=e);f=a.pendingLanes;0===f&&(Si=null);mc(c.stateNode,d);Ek(a,B());if(null!==b)for(d=a.onRecoverableError,c=0;c<b.length;c++)e=b[c],d(e.value,{componentStack:e.stack,digest:e.digest});if(Pi)throw Pi=!1,a=Qi,Qi=null,a;0!==(yk&1)&&0!==a.tag&&Ik();f=a.pendingLanes;0!==(f&1)?a===Ak?zk++:(zk=0,Ak=a):zk=0;jg();return null}\nfunction Ik(){if(null!==xk){var a=Dc(yk),b=pk.transition,c=C;try{pk.transition=null;C=16>a?16:a;if(null===xk)var d=!1;else{a=xk;xk=null;yk=0;if(0!==(K&6))throw Error(p(331));var e=K;K|=4;for(V=a.current;null!==V;){var f=V,g=f.child;if(0!==(V.flags&16)){var h=f.deletions;if(null!==h){for(var k=0;k<h.length;k++){var l=h[k];for(V=l;null!==V;){var m=V;switch(m.tag){case 0:case 11:case 15:Qj(8,m,f)}var q=m.child;if(null!==q)q.return=m,V=q;else for(;null!==V;){m=V;var r=m.sibling,y=m.return;Tj(m);if(m===\nl){V=null;break}if(null!==r){r.return=y;V=r;break}V=y}}}var n=f.alternate;if(null!==n){var t=n.child;if(null!==t){n.child=null;do{var J=t.sibling;t.sibling=null;t=J}while(null!==t)}}V=f}}if(0!==(f.subtreeFlags&2064)&&null!==g)g.return=f,V=g;else b:for(;null!==V;){f=V;if(0!==(f.flags&2048))switch(f.tag){case 0:case 11:case 15:Qj(9,f,f.return)}var x=f.sibling;if(null!==x){x.return=f.return;V=x;break b}V=f.return}}var w=a.current;for(V=w;null!==V;){g=V;var u=g.child;if(0!==(g.subtreeFlags&2064)&&null!==\nu)u.return=g,V=u;else b:for(g=w;null!==V;){h=V;if(0!==(h.flags&2048))try{switch(h.tag){case 0:case 11:case 15:Rj(9,h)}}catch(na){W(h,h.return,na)}if(h===g){V=null;break b}var F=h.sibling;if(null!==F){F.return=h.return;V=F;break b}V=h.return}}K=e;jg();if(lc&&\"function\"===typeof lc.onPostCommitFiberRoot)try{lc.onPostCommitFiberRoot(kc,a)}catch(na){}d=!0}return d}finally{C=c,pk.transition=b}}return!1}function Yk(a,b,c){b=Ki(c,b);b=Oi(a,b,1);a=dh(a,b,1);b=L();null!==a&&(Ac(a,1,b),Ek(a,b))}\nfunction W(a,b,c){if(3===a.tag)Yk(a,a,c);else for(;null!==b;){if(3===b.tag){Yk(b,a,c);break}else if(1===b.tag){var d=b.stateNode;if(\"function\"===typeof b.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Si||!Si.has(d))){a=Ki(c,a);a=Ri(b,a,1);b=dh(b,a,1);a=L();null!==b&&(Ac(b,1,a),Ek(b,a));break}}b=b.return}}\nfunction Ui(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=L();a.pingedLanes|=a.suspendedLanes&c;R===a&&(Z&c)===c&&(4===T||3===T&&(Z&130023424)===Z&&500>B()-gk?Lk(a,0):sk|=c);Ek(a,b)}function Zk(a,b){0===b&&(0===(a.mode&1)?b=1:(b=sc,sc<<=1,0===(sc&130023424)&&(sc=4194304)));var c=L();a=Zg(a,b);null!==a&&(Ac(a,b,c),Ek(a,c))}function vj(a){var b=a.memoizedState,c=0;null!==b&&(c=b.retryLane);Zk(a,c)}\nfunction ck(a,b){var c=0;switch(a.tag){case 13:var d=a.stateNode;var e=a.memoizedState;null!==e&&(c=e.retryLane);break;case 19:d=a.stateNode;break;default:throw Error(p(314));}null!==d&&d.delete(b);Zk(a,c)}var Wk;\nWk=function(a,b,c){if(null!==a)if(a.memoizedProps!==b.pendingProps||Wf.current)Ug=!0;else{if(0===(a.lanes&c)&&0===(b.flags&128))return Ug=!1,zj(a,b,c);Ug=0!==(a.flags&131072)?!0:!1}else Ug=!1,I&&0!==(b.flags&1048576)&&ug(b,ng,b.index);b.lanes=0;switch(b.tag){case 2:var d=b.type;jj(a,b);a=b.pendingProps;var e=Yf(b,H.current);Tg(b,c);e=Xh(null,b,d,a,e,c);var f=bi();b.flags|=1;\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof?(b.tag=1,b.memoizedState=null,b.updateQueue=\nnull,Zf(d)?(f=!0,cg(b)):f=!1,b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,ah(b),e.updater=nh,b.stateNode=e,e._reactInternals=b,rh(b,d,a,c),b=kj(null,b,d,!0,f,c)):(b.tag=0,I&&f&&vg(b),Yi(null,b,e,c),b=b.child);return b;case 16:d=b.elementType;a:{jj(a,b);a=b.pendingProps;e=d._init;d=e(d._payload);b.type=d;e=b.tag=$k(d);a=Lg(d,a);switch(e){case 0:b=dj(null,b,d,a,c);break a;case 1:b=ij(null,b,d,a,c);break a;case 11:b=Zi(null,b,d,a,c);break a;case 14:b=aj(null,b,d,Lg(d.type,a),c);break a}throw Error(p(306,\nd,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Lg(d,e),dj(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Lg(d,e),ij(a,b,d,e,c);case 3:a:{lj(b);if(null===a)throw Error(p(387));d=b.pendingProps;f=b.memoizedState;e=f.element;bh(a,b);gh(b,d,null,c);var g=b.memoizedState;d=g.element;if(f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},b.updateQueue.baseState=\nf,b.memoizedState=f,b.flags&256){e=Ki(Error(p(423)),b);b=mj(a,b,d,c,e);break a}else if(d!==e){e=Ki(Error(p(424)),b);b=mj(a,b,d,c,e);break a}else for(yg=Lf(b.stateNode.containerInfo.firstChild),xg=b,I=!0,zg=null,c=Ch(b,null,d,c),b.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{Ig();if(d===e){b=$i(a,b,c);break a}Yi(a,b,d,c)}b=b.child}return b;case 5:return Kh(b),null===a&&Eg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Ef(d,e)?g=null:null!==f&&Ef(d,f)&&(b.flags|=32),\nhj(a,b),Yi(a,b,g,c),b.child;case 6:return null===a&&Eg(b),null;case 13:return pj(a,b,c);case 4:return Ih(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Bh(b,null,d,c):Yi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Lg(d,e),Zi(a,b,d,e,c);case 7:return Yi(a,b,b.pendingProps,c),b.child;case 8:return Yi(a,b,b.pendingProps.children,c),b.child;case 12:return Yi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;f=b.memoizedProps;\ng=e.value;G(Mg,d._currentValue);d._currentValue=g;if(null!==f)if(He(f.value,g)){if(f.children===e.children&&!Wf.current){b=$i(a,b,c);break a}}else for(f=b.child,null!==f&&(f.return=b);null!==f;){var h=f.dependencies;if(null!==h){g=f.child;for(var k=h.firstContext;null!==k;){if(k.context===d){if(1===f.tag){k=ch(-1,c&-c);k.tag=2;var l=f.updateQueue;if(null!==l){l=l.shared;var m=l.pending;null===m?k.next=k:(k.next=m.next,m.next=k);l.pending=k}}f.lanes|=c;k=f.alternate;null!==k&&(k.lanes|=c);Sg(f.return,\nc,b);h.lanes|=c;break}k=k.next}}else if(10===f.tag)g=f.type===b.type?null:f.child;else if(18===f.tag){g=f.return;if(null===g)throw Error(p(341));g.lanes|=c;h=g.alternate;null!==h&&(h.lanes|=c);Sg(g,c,b);g=f.sibling}else g=f.child;if(null!==g)g.return=f;else for(g=f;null!==g;){if(g===b){g=null;break}f=g.sibling;if(null!==f){f.return=g.return;g=f;break}g=g.return}f=g}Yi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,d=b.pendingProps.children,Tg(b,c),e=Vg(e),d=d(e),b.flags|=1,Yi(a,b,d,c),\nb.child;case 14:return d=b.type,e=Lg(d,b.pendingProps),e=Lg(d.type,e),aj(a,b,d,e,c);case 15:return cj(a,b,b.type,b.pendingProps,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Lg(d,e),jj(a,b),b.tag=1,Zf(d)?(a=!0,cg(b)):a=!1,Tg(b,c),ph(b,d,e),rh(b,d,e,c),kj(null,b,d,!0,a,c);case 19:return yj(a,b,c);case 22:return ej(a,b,c)}throw Error(p(156,b.tag));};function Gk(a,b){return ac(a,b)}\nfunction al(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Bg(a,b,c,d){return new al(a,b,c,d)}function bj(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction $k(a){if(\"function\"===typeof a)return bj(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Da)return 11;if(a===Ga)return 14}return 2}\nfunction wh(a,b){var c=a.alternate;null===c?(c=Bg(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null);c.flags=a.flags&14680064;c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction yh(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)bj(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ya:return Ah(c.children,e,f,b);case za:g=8;e|=8;break;case Aa:return a=Bg(12,c,b,e|2),a.elementType=Aa,a.lanes=f,a;case Ea:return a=Bg(13,c,b,e),a.elementType=Ea,a.lanes=f,a;case Fa:return a=Bg(19,c,b,e),a.elementType=Fa,a.lanes=f,a;case Ia:return qj(c,e,f,b);default:if(\"object\"===typeof a&&null!==a)switch(a.$$typeof){case Ba:g=10;break a;case Ca:g=9;break a;case Da:g=11;\nbreak a;case Ga:g=14;break a;case Ha:g=16;d=null;break a}throw Error(p(130,null==a?a:typeof a,\"\"));}b=Bg(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Ah(a,b,c,d){a=Bg(7,a,d,b);a.lanes=c;return a}function qj(a,b,c,d){a=Bg(22,a,d,b);a.elementType=Ia;a.lanes=c;a.stateNode={isHidden:!1};return a}function xh(a,b,c){a=Bg(6,a,null,b);a.lanes=c;return a}\nfunction zh(a,b,c){b=Bg(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction bl(a,b,c,d,e){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=zc(0);this.expirationTimes=zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=zc(0);this.identifierPrefix=d;this.onRecoverableError=e;this.mutableSourceEagerHydrationData=\nnull}function cl(a,b,c,d,e,f,g,h,k){a=new bl(a,b,c,h,k);1===b?(b=1,!0===f&&(b|=8)):b=0;f=Bg(3,null,null,b);a.current=f;f.stateNode=a;f.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null};ah(f);return a}function dl(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wa,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction el(a){if(!a)return Vf;a=a._reactInternals;a:{if(Vb(a)!==a||1!==a.tag)throw Error(p(170));var b=a;do{switch(b.tag){case 3:b=b.stateNode.context;break a;case 1:if(Zf(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break a}}b=b.return}while(null!==b);throw Error(p(171));}if(1===a.tag){var c=a.type;if(Zf(c))return bg(a,c,b)}return b}\nfunction fl(a,b,c,d,e,f,g,h,k){a=cl(c,d,!0,a,e,f,g,h,k);a.context=el(null);c=a.current;d=L();e=lh(c);f=ch(d,e);f.callback=void 0!==b&&null!==b?b:null;dh(c,f,e);a.current.lanes=e;Ac(a,e,d);Ek(a,d);return a}function gl(a,b,c,d){var e=b.current,f=L(),g=lh(e);c=el(c);null===b.context?b.context=c:b.pendingContext=c;b=ch(f,g);b.payload={element:a};d=void 0===d?null:d;null!==d&&(b.callback=d);a=dh(e,b,g);null!==a&&(mh(a,e,g,f),eh(a,e,g));return g}\nfunction hl(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function il(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function jl(a,b){il(a,b);(a=a.alternate)&&il(a,b)}function kl(){return null}var ll=\"function\"===typeof reportError?reportError:function(a){console.error(a)};function ml(a){this._internalRoot=a}\nnl.prototype.render=ml.prototype.render=function(a){var b=this._internalRoot;if(null===b)throw Error(p(409));gl(a,b,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var a=this._internalRoot;if(null!==a){this._internalRoot=null;var b=a.containerInfo;Sk(function(){gl(null,a,null,null)});b[uf]=null}};function nl(a){this._internalRoot=a}\nnl.prototype.unstable_scheduleHydration=function(a){if(a){var b=Hc();a={blockedOn:null,target:a,priority:b};for(var c=0;c<Qc.length&&0!==b&&b<Qc[c].priority;c++);Qc.splice(c,0,a);0===c&&Vc(a)}};function ol(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType)}function pl(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}function ql(){}\nfunction rl(a,b,c,d,e){if(e){if(\"function\"===typeof d){var f=d;d=function(){var a=hl(g);f.call(a)}}var g=fl(b,d,a,0,null,!1,!1,\"\",ql);a._reactRootContainer=g;a[uf]=g.current;sf(8===a.nodeType?a.parentNode:a);Sk();return g}for(;e=a.lastChild;)a.removeChild(e);if(\"function\"===typeof d){var h=d;d=function(){var a=hl(k);h.call(a)}}var k=cl(a,0,!1,null,null,!1,!1,\"\",ql);a._reactRootContainer=k;a[uf]=k.current;sf(8===a.nodeType?a.parentNode:a);Sk(function(){gl(b,k,c,d)});return k}\nfunction sl(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f;if(\"function\"===typeof e){var h=e;e=function(){var a=hl(g);h.call(a)}}gl(b,g,a,e)}else g=rl(c,b,a,e,d);return hl(g)}Ec=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.current.memoizedState.isDehydrated){var c=tc(b.pendingLanes);0!==c&&(Cc(b,c|1),Ek(b,B()),0===(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var b=Zg(a,1);if(null!==b){var c=L();mh(b,a,1,c)}}),jl(a,1)}};\nFc=function(a){if(13===a.tag){var b=Zg(a,134217728);if(null!==b){var c=L();mh(b,a,134217728,c)}jl(a,134217728)}};Gc=function(a){if(13===a.tag){var b=lh(a),c=Zg(a,b);if(null!==c){var d=L();mh(c,a,b,d)}jl(a,b)}};Hc=function(){return C};Ic=function(a,b){var c=C;try{return C=a,b()}finally{C=c}};\nyb=function(a,b,c){switch(b){case \"input\":bb(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(p(90));Wa(d);bb(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Rk;Hb=Sk;\nvar tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:\"18.2.0\",rendererPackageName:\"react-dom\"};\nvar vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=Zb(a);return null===a?null:a.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||\nkl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:\"18.2.0-next-9e3b772b8-20220608\"};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;\nexports.createPortal=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ol(b))throw Error(p(200));return dl(a,b,null,c)};exports.createRoot=function(a,b){if(!ol(a))throw Error(p(299));var c=!1,d=\"\",e=ll;null!==b&&void 0!==b&&(!0===b.unstable_strictMode&&(c=!0),void 0!==b.identifierPrefix&&(d=b.identifierPrefix),void 0!==b.onRecoverableError&&(e=b.onRecoverableError));b=cl(a,1,!1,null,null,c,!1,d,e);a[uf]=b.current;sf(8===a.nodeType?a.parentNode:a);return new ml(b)};\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(p(188));a=Object.keys(a).join(\",\");throw Error(p(268,a));}a=Zb(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a){return Sk(a)};exports.hydrate=function(a,b,c){if(!pl(b))throw Error(p(200));return sl(null,a,b,!0,c)};\nexports.hydrateRoot=function(a,b,c){if(!ol(a))throw Error(p(405));var d=null!=c&&c.hydratedSources||null,e=!1,f=\"\",g=ll;null!==c&&void 0!==c&&(!0===c.unstable_strictMode&&(e=!0),void 0!==c.identifierPrefix&&(f=c.identifierPrefix),void 0!==c.onRecoverableError&&(g=c.onRecoverableError));b=fl(b,null,a,1,null!=c?c:null,e,!1,f,g);a[uf]=b.current;sf(a);if(d)for(a=0;a<d.length;a++)c=d[a],e=c._getVersion,e=e(c._source),null==b.mutableSourceEagerHydrationData?b.mutableSourceEagerHydrationData=[c,e]:b.mutableSourceEagerHydrationData.push(c,\ne);return new nl(b)};exports.render=function(a,b,c){if(!pl(b))throw Error(p(200));return sl(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!pl(a))throw Error(p(40));return a._reactRootContainer?(Sk(function(){sl(null,null,a,!1,function(){a._reactRootContainer=null;a[uf]=null})}),!0):!1};exports.unstable_batchedUpdates=Rk;\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!pl(c))throw Error(p(200));if(null==a||void 0===a._reactInternals)throw Error(p(38));return sl(a,b,c,!1,d)};exports.version=\"18.2.0-next-9e3b772b8-20220608\";\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=Symbol.for(\"react.element\"),n=Symbol.for(\"react.portal\"),p=Symbol.for(\"react.fragment\"),q=Symbol.for(\"react.strict_mode\"),r=Symbol.for(\"react.profiler\"),t=Symbol.for(\"react.provider\"),u=Symbol.for(\"react.context\"),v=Symbol.for(\"react.forward_ref\"),w=Symbol.for(\"react.suspense\"),x=Symbol.for(\"react.memo\"),y=Symbol.for(\"react.lazy\"),z=Symbol.iterator;function A(a){if(null===a||\"object\"!==typeof a)return null;a=z&&a[z]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nvar B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}E.prototype.isReactComponent={};\nE.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}var H=G.prototype=new F;\nH.constructor=G;C(H,E.prototype);H.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,e){var d,c={},k=null,h=null;if(null!=b)for(d in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)J.call(b,d)&&!L.hasOwnProperty(d)&&(c[d]=b[d]);var g=arguments.length-2;if(1===g)c.children=e;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];c.children=f}if(a&&a.defaultProps)for(d in g=a.defaultProps,g)void 0===c[d]&&(c[d]=g[d]);return{$$typeof:l,type:a,key:k,ref:h,props:c,_owner:K.current}}\nfunction N(a,b){return{$$typeof:l,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===l}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g;function Q(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction R(a,b,e,d,c){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case l:case n:h=!0}}if(h)return h=a,c=c(h),a=\"\"===d?\".\"+Q(h,0):d,I(c)?(e=\"\",null!=a&&(e=a.replace(P,\"$&/\")+\"/\"),R(c,b,e,\"\",function(a){return a})):null!=c&&(O(c)&&(c=N(c,e+(!c.key||h&&h.key===c.key?\"\":(\"\"+c.key).replace(P,\"$&/\")+\"/\")+a)),b.push(c)),1;h=0;d=\"\"===d?\".\":d+\":\";if(I(a))for(var g=0;g<a.length;g++){k=\na[g];var f=d+Q(k,g);h+=R(k,b,e,f,c)}else if(f=A(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=d+Q(k,g++),h+=R(k,b,e,f,c);else if(\"object\"===k)throw b=String(a),Error(\"Objects are not valid as a React child (found: \"+(\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b)+\"). If you meant to render a collection of children, use an array instead.\");return h}\nfunction S(a,b,e){if(null==a)return a;var d=[],c=0;R(a,d,\"\",\"\",function(a){return b.call(e,a,c++)});return d}function T(a){if(-1===a._status){var b=a._result;b=b();b.then(function(b){if(0===a._status||-1===a._status)a._status=1,a._result=b},function(b){if(0===a._status||-1===a._status)a._status=2,a._result=b});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}\nvar U={current:null},V={transition:null},W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};exports.Children={map:S,forEach:function(a,b,e){S(a,function(){b.apply(this,arguments)},e)},count:function(a){var b=0;S(a,function(){b++});return b},toArray:function(a){return S(a,function(a){return a})||[]},only:function(a){if(!O(a))throw Error(\"React.Children.only expected to receive a single React element child.\");return a}};exports.Component=E;exports.Fragment=p;\nexports.Profiler=r;exports.PureComponent=G;exports.StrictMode=q;exports.Suspense=w;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;\nexports.cloneElement=function(a,b,e){if(null===a||void 0===a)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+a+\".\");var d=C({},a.props),c=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=K.current);void 0!==b.key&&(c=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)J.call(b,f)&&!L.hasOwnProperty(f)&&(d[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){g=Array(f);\nfor(var m=0;m<f;m++)g[m]=arguments[m+2];d.children=g}return{$$typeof:l,type:a.type,key:c,ref:k,props:d,_owner:h}};exports.createContext=function(a){a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};a.Provider={$$typeof:t,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};\nexports.forwardRef=function(a){return{$$typeof:v,render:a}};exports.isValidElement=O;exports.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T}};exports.memo=function(a,b){return{$$typeof:x,type:a,compare:void 0===b?null:b}};exports.startTransition=function(a){var b=V.transition;V.transition={};try{a()}finally{V.transition=b}};exports.unstable_act=function(){throw Error(\"act(...) is not supported in production builds of React.\");};\nexports.useCallback=function(a,b){return U.current.useCallback(a,b)};exports.useContext=function(a){return U.current.useContext(a)};exports.useDebugValue=function(){};exports.useDeferredValue=function(a){return U.current.useDeferredValue(a)};exports.useEffect=function(a,b){return U.current.useEffect(a,b)};exports.useId=function(){return U.current.useId()};exports.useImperativeHandle=function(a,b,e){return U.current.useImperativeHandle(a,b,e)};\nexports.useInsertionEffect=function(a,b){return U.current.useInsertionEffect(a,b)};exports.useLayoutEffect=function(a,b){return U.current.useLayoutEffect(a,b)};exports.useMemo=function(a,b){return U.current.useMemo(a,b)};exports.useReducer=function(a,b,e){return U.current.useReducer(a,b,e)};exports.useRef=function(a){return U.current.useRef(a)};exports.useState=function(a){return U.current.useState(a)};exports.useSyncExternalStore=function(a,b,e){return U.current.useSyncExternalStore(a,b,e)};\nexports.useTransition=function(){return U.current.useTransition()};exports.version=\"18.2.0\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';function f(a,b){var c=a.length;a.push(b);a:for(;0<c;){var d=c-1>>>1,e=a[d];if(0<g(e,b))a[d]=b,a[c]=e,c=d;else break a}}function h(a){return 0===a.length?null:a[0]}function k(a){if(0===a.length)return null;var b=a[0],c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length,w=e>>>1;d<w;){var m=2*(d+1)-1,C=a[m],n=m+1,x=a[n];if(0>g(C,c))n<e&&0>g(x,C)?(a[d]=x,a[n]=c,d=n):(a[d]=C,a[m]=c,d=m);else if(n<e&&0>g(x,c))a[d]=x,a[n]=c,d=n;else break a}}return b}\nfunction g(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}var r=[],t=[],u=1,v=null,y=3,z=!1,A=!1,B=!1,D=\"function\"===typeof setTimeout?setTimeout:null,E=\"function\"===typeof clearTimeout?clearTimeout:null,F=\"undefined\"!==typeof setImmediate?setImmediate:null;\n\"undefined\"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(a){for(var b=h(t);null!==b;){if(null===b.callback)k(t);else if(b.startTime<=a)k(t),b.sortIndex=b.expirationTime,f(r,b);else break;b=h(t)}}function H(a){B=!1;G(a);if(!A)if(null!==h(r))A=!0,I(J);else{var b=h(t);null!==b&&K(H,b.startTime-a)}}\nfunction J(a,b){A=!1;B&&(B=!1,E(L),L=-1);z=!0;var c=y;try{G(b);for(v=h(r);null!==v&&(!(v.expirationTime>b)||a&&!M());){var d=v.callback;if(\"function\"===typeof d){v.callback=null;y=v.priorityLevel;var e=d(v.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?v.callback=e:v===h(r)&&k(r);G(b)}else k(r);v=h(r)}if(null!==v)var w=!0;else{var m=h(t);null!==m&&K(H,m.startTime-b);w=!1}return w}finally{v=null,y=c,z=!1}}var N=!1,O=null,L=-1,P=5,Q=-1;\nfunction M(){return exports.unstable_now()-Q<P?!1:!0}function R(){if(null!==O){var a=exports.unstable_now();Q=a;var b=!0;try{b=O(!0,a)}finally{b?S():(N=!1,O=null)}}else N=!1}var S;if(\"function\"===typeof F)S=function(){F(R)};else if(\"undefined\"!==typeof MessageChannel){var T=new MessageChannel,U=T.port2;T.port1.onmessage=R;S=function(){U.postMessage(null)}}else S=function(){D(R,0)};function I(a){O=a;N||(N=!0,S())}function K(a,b){L=D(function(){a(exports.unstable_now())},b)}\nexports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){A||z||(A=!0,I(J))};\nexports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):P=0<a?Math.floor(1E3/a):5};exports.unstable_getCurrentPriorityLevel=function(){return y};exports.unstable_getFirstCallbackNode=function(){return h(r)};exports.unstable_next=function(a){switch(y){case 1:case 2:case 3:var b=3;break;default:b=y}var c=y;y=b;try{return a()}finally{y=c}};exports.unstable_pauseExecution=function(){};\nexports.unstable_requestPaint=function(){};exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=y;y=a;try{return b()}finally{y=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:u++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,f(t,a),null===h(r)&&a===h(t)&&(B?(E(L),L=-1):B=!0,K(H,c-d))):(a.sortIndex=e,f(r,a),A||z||(A=!0,I(J)));return a};\nexports.unstable_shouldYield=M;exports.unstable_wrapCallback=function(a){var b=y;return function(){var c=y;y=b;try{return a.apply(this,arguments)}finally{y=c}}};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"ed3810f9\" + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"my-app:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmy_app\"] = self[\"webpackChunkmy_app\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","export default function _checkPrivateRedeclaration(obj, privateCollection) {\n  if (privateCollection.has(obj)) {\n    throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n  }\n}","import checkPrivateRedeclaration from \"./checkPrivateRedeclaration.js\";\nexport default function _classPrivateMethodInitSpec(obj, privateSet) {\n  checkPrivateRedeclaration(obj, privateSet);\n  privateSet.add(obj);\n}","import checkPrivateRedeclaration from \"./checkPrivateRedeclaration.js\";\nexport default function _classPrivateFieldInitSpec(obj, privateMap, value) {\n  checkPrivateRedeclaration(obj, privateMap);\n  privateMap.set(obj, value);\n}","export default function _assertClassBrand(e, t, n) {\n  if (\"function\" == typeof e ? e === t : e.has(t)) return arguments.length < 3 ? t : n;\n  throw new TypeError(\"Private element is not present on this object\");\n}","import assertClassBrand from \"./assertClassBrand.js\";\nexport default function _classPrivateFieldGet2(s, a) {\n  return s.get(assertClassBrand(s, a));\n}","import assertClassBrand from \"./assertClassBrand.js\";\nexport default function _classPrivateFieldSet2(s, a, r) {\n  return s.set(assertClassBrand(s, a), r), r;\n}","import type { Mutation } from './mutation'\nimport type { Query } from './query'\nimport type {\n  FetchStatus,\n  MutationKey,\n  MutationStatus,\n  QueryKey,\n  QueryOptions,\n} from './types'\n\n// TYPES\n\nexport interface QueryFilters {\n  /**\n   * Filter to active queries, inactive queries or all queries\n   */\n  type?: QueryTypeFilter\n  /**\n   * Match query key exactly\n   */\n  exact?: boolean\n  /**\n   * Include queries matching this predicate function\n   */\n  predicate?: (query: Query) => boolean\n  /**\n   * Include queries matching this query key\n   */\n  queryKey?: QueryKey\n  /**\n   * Include or exclude stale queries\n   */\n  stale?: boolean\n  /**\n   * Include queries matching their fetchStatus\n   */\n  fetchStatus?: FetchStatus\n}\n\nexport interface MutationFilters {\n  /**\n   * Match mutation key exactly\n   */\n  exact?: boolean\n  /**\n   * Include mutations matching this predicate function\n   */\n  predicate?: (mutation: Mutation<any, any, any>) => boolean\n  /**\n   * Include mutations matching this mutation key\n   */\n  mutationKey?: MutationKey\n  /**\n   * Filter by mutation status\n   */\n  status?: MutationStatus\n}\n\nexport type Updater<TInput, TOutput> = TOutput | ((input: TInput) => TOutput)\n\nexport type QueryTypeFilter = 'all' | 'active' | 'inactive'\n\n// UTILS\n\nexport const isServer = typeof window === 'undefined' || 'Deno' in globalThis\n\nexport function noop(): undefined {\n  return undefined\n}\n\nexport function functionalUpdate<TInput, TOutput>(\n  updater: Updater<TInput, TOutput>,\n  input: TInput,\n): TOutput {\n  return typeof updater === 'function'\n    ? (updater as (_: TInput) => TOutput)(input)\n    : updater\n}\n\nexport function isValidTimeout(value: unknown): value is number {\n  return typeof value === 'number' && value >= 0 && value !== Infinity\n}\n\nexport function timeUntilStale(updatedAt: number, staleTime?: number): number {\n  return Math.max(updatedAt + (staleTime || 0) - Date.now(), 0)\n}\n\nexport function matchQuery(\n  filters: QueryFilters,\n  query: Query<any, any, any, any>,\n): boolean {\n  const {\n    type = 'all',\n    exact,\n    fetchStatus,\n    predicate,\n    queryKey,\n    stale,\n  } = filters\n\n  if (queryKey) {\n    if (exact) {\n      if (query.queryHash !== hashQueryKeyByOptions(queryKey, query.options)) {\n        return false\n      }\n    } else if (!partialMatchKey(query.queryKey, queryKey)) {\n      return false\n    }\n  }\n\n  if (type !== 'all') {\n    const isActive = query.isActive()\n    if (type === 'active' && !isActive) {\n      return false\n    }\n    if (type === 'inactive' && isActive) {\n      return false\n    }\n  }\n\n  if (typeof stale === 'boolean' && query.isStale() !== stale) {\n    return false\n  }\n\n  if (fetchStatus && fetchStatus !== query.state.fetchStatus) {\n    return false\n  }\n\n  if (predicate && !predicate(query)) {\n    return false\n  }\n\n  return true\n}\n\nexport function matchMutation(\n  filters: MutationFilters,\n  mutation: Mutation<any, any>,\n): boolean {\n  const { exact, status, predicate, mutationKey } = filters\n  if (mutationKey) {\n    if (!mutation.options.mutationKey) {\n      return false\n    }\n    if (exact) {\n      if (hashKey(mutation.options.mutationKey) !== hashKey(mutationKey)) {\n        return false\n      }\n    } else if (!partialMatchKey(mutation.options.mutationKey, mutationKey)) {\n      return false\n    }\n  }\n\n  if (status && mutation.state.status !== status) {\n    return false\n  }\n\n  if (predicate && !predicate(mutation)) {\n    return false\n  }\n\n  return true\n}\n\nexport function hashQueryKeyByOptions<TQueryKey extends QueryKey = QueryKey>(\n  queryKey: TQueryKey,\n  options?: Pick<QueryOptions<any, any, any, any>, 'queryKeyHashFn'>,\n): string {\n  const hashFn = options?.queryKeyHashFn || hashKey\n  return hashFn(queryKey)\n}\n\n/**\n * Default query & mutation keys hash function.\n * Hashes the value into a stable hash.\n */\nexport function hashKey(queryKey: QueryKey | MutationKey): string {\n  return JSON.stringify(queryKey, (_, val) =>\n    isPlainObject(val)\n      ? Object.keys(val)\n          .sort()\n          .reduce((result, key) => {\n            result[key] = val[key]\n            return result\n          }, {} as any)\n      : val,\n  )\n}\n\n/**\n * Checks if key `b` partially matches with key `a`.\n */\nexport function partialMatchKey(a: QueryKey, b: QueryKey): boolean\nexport function partialMatchKey(a: any, b: any): boolean {\n  if (a === b) {\n    return true\n  }\n\n  if (typeof a !== typeof b) {\n    return false\n  }\n\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    return !Object.keys(b).some((key) => !partialMatchKey(a[key], b[key]))\n  }\n\n  return false\n}\n\n/**\n * This function returns `a` if `b` is deeply equal.\n * If not, it will replace any deeply equal children of `b` with those of `a`.\n * This can be used for structural sharing between JSON values for example.\n */\nexport function replaceEqualDeep<T>(a: unknown, b: T): T\nexport function replaceEqualDeep(a: any, b: any): any {\n  if (a === b) {\n    return a\n  }\n\n  const array = isPlainArray(a) && isPlainArray(b)\n\n  if (array || (isPlainObject(a) && isPlainObject(b))) {\n    const aItems = array ? a : Object.keys(a)\n    const aSize = aItems.length\n    const bItems = array ? b : Object.keys(b)\n    const bSize = bItems.length\n    const copy: any = array ? [] : {}\n\n    let equalItems = 0\n\n    for (let i = 0; i < bSize; i++) {\n      const key = array ? i : bItems[i]\n      if (\n        !array &&\n        a[key] === undefined &&\n        b[key] === undefined &&\n        aItems.includes(key)\n      ) {\n        copy[key] = undefined\n        equalItems++\n      } else {\n        copy[key] = replaceEqualDeep(a[key], b[key])\n        if (copy[key] === a[key] && a[key] !== undefined) {\n          equalItems++\n        }\n      }\n    }\n\n    return aSize === bSize && equalItems === aSize ? a : copy\n  }\n\n  return b\n}\n\n/**\n * Shallow compare objects.\n */\nexport function shallowEqualObjects<T extends Record<string, any>>(\n  a: T,\n  b: T | undefined,\n): boolean {\n  if (!b || Object.keys(a).length !== Object.keys(b).length) {\n    return false\n  }\n\n  for (const key in a) {\n    if (a[key] !== b[key]) {\n      return false\n    }\n  }\n\n  return true\n}\n\nexport function isPlainArray(value: unknown) {\n  return Array.isArray(value) && value.length === Object.keys(value).length\n}\n\n// Copied from: https://github.com/jonschlinkert/is-plain-object\nexport function isPlainObject(o: any): o is Object {\n  if (!hasObjectPrototype(o)) {\n    return false\n  }\n\n  // If has no constructor\n  const ctor = o.constructor\n  if (ctor === undefined) {\n    return true\n  }\n\n  // If has modified prototype\n  const prot = ctor.prototype\n  if (!hasObjectPrototype(prot)) {\n    return false\n  }\n\n  // If constructor does not have an Object-specific method\n  if (!prot.hasOwnProperty('isPrototypeOf')) {\n    return false\n  }\n\n  // Most likely a plain Object\n  return true\n}\n\nfunction hasObjectPrototype(o: any): boolean {\n  return Object.prototype.toString.call(o) === '[object Object]'\n}\n\nexport function sleep(ms: number): Promise<void> {\n  return new Promise((resolve) => {\n    setTimeout(resolve, ms)\n  })\n}\n\nexport function replaceData<\n  TData,\n  TOptions extends QueryOptions<any, any, any, any>,\n>(prevData: TData | undefined, data: TData, options: TOptions): TData {\n  if (typeof options.structuralSharing === 'function') {\n    return options.structuralSharing(prevData, data) as TData\n  } else if (options.structuralSharing !== false) {\n    // Structurally share data between prev and new data if needed\n    return replaceEqualDeep(prevData, data)\n  }\n  return data\n}\n\nexport function keepPreviousData<T>(\n  previousData: T | undefined,\n): T | undefined {\n  return previousData\n}\n\nexport function addToEnd<T>(items: Array<T>, item: T, max = 0): Array<T> {\n  const newItems = [...items, item]\n  return max && newItems.length > max ? newItems.slice(1) : newItems\n}\n\nexport function addToStart<T>(items: Array<T>, item: T, max = 0): Array<T> {\n  const newItems = [item, ...items]\n  return max && newItems.length > max ? newItems.slice(0, -1) : newItems\n}\n\nexport const skipToken = Symbol()\nexport type SkipToken = typeof skipToken\n","// TYPES\n\ntype NotifyCallback = () => void\n\ntype NotifyFunction = (callback: () => void) => void\n\ntype BatchNotifyFunction = (callback: () => void) => void\n\ntype BatchCallsCallback<T extends Array<unknown>> = (...args: T) => void\n\ntype ScheduleFunction = (callback: () => void) => void\n\nexport function createNotifyManager() {\n  let queue: Array<NotifyCallback> = []\n  let transactions = 0\n  let notifyFn: NotifyFunction = (callback) => {\n    callback()\n  }\n  let batchNotifyFn: BatchNotifyFunction = (callback: () => void) => {\n    callback()\n  }\n  let scheduleFn: ScheduleFunction = (cb) => setTimeout(cb, 0)\n\n  const setScheduler = (fn: ScheduleFunction) => {\n    scheduleFn = fn\n  }\n\n  const batch = <T>(callback: () => T): T => {\n    let result\n    transactions++\n    try {\n      result = callback()\n    } finally {\n      transactions--\n      if (!transactions) {\n        flush()\n      }\n    }\n    return result\n  }\n\n  const schedule = (callback: NotifyCallback): void => {\n    if (transactions) {\n      queue.push(callback)\n    } else {\n      scheduleFn(() => {\n        notifyFn(callback)\n      })\n    }\n  }\n\n  /**\n   * All calls to the wrapped function will be batched.\n   */\n  const batchCalls = <T extends Array<unknown>>(\n    callback: BatchCallsCallback<T>,\n  ): BatchCallsCallback<T> => {\n    return (...args) => {\n      schedule(() => {\n        callback(...args)\n      })\n    }\n  }\n\n  const flush = (): void => {\n    const originalQueue = queue\n    queue = []\n    if (originalQueue.length) {\n      scheduleFn(() => {\n        batchNotifyFn(() => {\n          originalQueue.forEach((callback) => {\n            notifyFn(callback)\n          })\n        })\n      })\n    }\n  }\n\n  /**\n   * Use this method to set a custom notify function.\n   * This can be used to for example wrap notifications with `React.act` while running tests.\n   */\n  const setNotifyFunction = (fn: NotifyFunction) => {\n    notifyFn = fn\n  }\n\n  /**\n   * Use this method to set a custom function to batch notifications together into a single tick.\n   * By default React Query will use the batch function provided by ReactDOM or React Native.\n   */\n  const setBatchNotifyFunction = (fn: BatchNotifyFunction) => {\n    batchNotifyFn = fn\n  }\n\n  return {\n    batch,\n    batchCalls,\n    schedule,\n    setNotifyFunction,\n    setBatchNotifyFunction,\n    setScheduler,\n  } as const\n}\n\n// SINGLETON\nexport const notifyManager = createNotifyManager()\n","type Listener = () => void\n\nexport class Subscribable<TListener extends Function = Listener> {\n  protected listeners: Set<TListener>\n\n  constructor() {\n    this.listeners = new Set()\n    this.subscribe = this.subscribe.bind(this)\n  }\n\n  subscribe(listener: TListener): () => void {\n    this.listeners.add(listener)\n\n    this.onSubscribe()\n\n    return () => {\n      this.listeners.delete(listener)\n      this.onUnsubscribe()\n    }\n  }\n\n  hasListeners(): boolean {\n    return this.listeners.size > 0\n  }\n\n  protected onSubscribe(): void {\n    // Do nothing\n  }\n\n  protected onUnsubscribe(): void {\n    // Do nothing\n  }\n}\n","import { Subscribable } from './subscribable'\nimport { isServer } from './utils'\n\ntype Listener = (focused: boolean) => void\n\ntype SetupFn = (\n  setFocused: (focused?: boolean) => void,\n) => (() => void) | undefined\n\nexport class FocusManager extends Subscribable<Listener> {\n  #focused?: boolean\n  #cleanup?: () => void\n\n  #setup: SetupFn\n\n  constructor() {\n    super()\n    this.#setup = (onFocus) => {\n      // addEventListener does not exist in React Native, but window does\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      if (!isServer && window.addEventListener) {\n        const listener = () => onFocus()\n        // Listen to visibilitychange\n        window.addEventListener('visibilitychange', listener, false)\n\n        return () => {\n          // Be sure to unsubscribe if a new handler is set\n          window.removeEventListener('visibilitychange', listener)\n        }\n      }\n      return\n    }\n  }\n\n  protected onSubscribe(): void {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup)\n    }\n  }\n\n  protected onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.()\n      this.#cleanup = undefined\n    }\n  }\n\n  setEventListener(setup: SetupFn): void {\n    this.#setup = setup\n    this.#cleanup?.()\n    this.#cleanup = setup((focused) => {\n      if (typeof focused === 'boolean') {\n        this.setFocused(focused)\n      } else {\n        this.onFocus()\n      }\n    })\n  }\n\n  setFocused(focused?: boolean): void {\n    const changed = this.#focused !== focused\n    if (changed) {\n      this.#focused = focused\n      this.onFocus()\n    }\n  }\n\n  onFocus(): void {\n    const isFocused = this.isFocused()\n    this.listeners.forEach((listener) => {\n      listener(isFocused)\n    })\n  }\n\n  isFocused(): boolean {\n    if (typeof this.#focused === 'boolean') {\n      return this.#focused\n    }\n\n    // document global can be unavailable in react native\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    return globalThis.document?.visibilityState !== 'hidden'\n  }\n}\n\nexport const focusManager = new FocusManager()\n","import { Subscribable } from './subscribable'\nimport { isServer } from './utils'\n\ntype Listener = (online: boolean) => void\ntype SetupFn = (setOnline: Listener) => (() => void) | undefined\n\nexport class OnlineManager extends Subscribable<Listener> {\n  #online = true\n  #cleanup?: () => void\n\n  #setup: SetupFn\n\n  constructor() {\n    super()\n    this.#setup = (onOnline) => {\n      // addEventListener does not exist in React Native, but window does\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      if (!isServer && window.addEventListener) {\n        const onlineListener = () => onOnline(true)\n        const offlineListener = () => onOnline(false)\n        // Listen to online\n        window.addEventListener('online', onlineListener, false)\n        window.addEventListener('offline', offlineListener, false)\n\n        return () => {\n          // Be sure to unsubscribe if a new handler is set\n          window.removeEventListener('online', onlineListener)\n          window.removeEventListener('offline', offlineListener)\n        }\n      }\n\n      return\n    }\n  }\n\n  protected onSubscribe(): void {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup)\n    }\n  }\n\n  protected onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.()\n      this.#cleanup = undefined\n    }\n  }\n\n  setEventListener(setup: SetupFn): void {\n    this.#setup = setup\n    this.#cleanup?.()\n    this.#cleanup = setup(this.setOnline.bind(this))\n  }\n\n  setOnline(online: boolean): void {\n    const changed = this.#online !== online\n\n    if (changed) {\n      this.#online = online\n      this.listeners.forEach((listener) => {\n        listener(online)\n      })\n    }\n  }\n\n  isOnline(): boolean {\n    return this.#online\n  }\n}\n\nexport const onlineManager = new OnlineManager()\n","import { focusManager } from './focusManager'\nimport { onlineManager } from './onlineManager'\nimport { isServer, sleep } from './utils'\nimport type { CancelOptions, DefaultError, NetworkMode } from './types'\n\n// TYPES\n\ninterface RetryerConfig<TData = unknown, TError = DefaultError> {\n  fn: () => TData | Promise<TData>\n  abort?: () => void\n  onError?: (error: TError) => void\n  onSuccess?: (data: TData) => void\n  onFail?: (failureCount: number, error: TError) => void\n  onPause?: () => void\n  onContinue?: () => void\n  retry?: RetryValue<TError>\n  retryDelay?: RetryDelayValue<TError>\n  networkMode: NetworkMode | undefined\n}\n\nexport interface Retryer<TData = unknown> {\n  promise: Promise<TData>\n  cancel: (cancelOptions?: CancelOptions) => void\n  continue: () => Promise<unknown>\n  cancelRetry: () => void\n  continueRetry: () => void\n}\n\nexport type RetryValue<TError> = boolean | number | ShouldRetryFunction<TError>\n\ntype ShouldRetryFunction<TError = DefaultError> = (\n  failureCount: number,\n  error: TError,\n) => boolean\n\nexport type RetryDelayValue<TError> = number | RetryDelayFunction<TError>\n\ntype RetryDelayFunction<TError = DefaultError> = (\n  failureCount: number,\n  error: TError,\n) => number\n\nfunction defaultRetryDelay(failureCount: number) {\n  return Math.min(1000 * 2 ** failureCount, 30000)\n}\n\nexport function canFetch(networkMode: NetworkMode | undefined): boolean {\n  return (networkMode ?? 'online') === 'online'\n    ? onlineManager.isOnline()\n    : true\n}\n\nexport class CancelledError {\n  revert?: boolean\n  silent?: boolean\n  constructor(options?: CancelOptions) {\n    this.revert = options?.revert\n    this.silent = options?.silent\n  }\n}\n\nexport function isCancelledError(value: any): value is CancelledError {\n  return value instanceof CancelledError\n}\n\nexport function createRetryer<TData = unknown, TError = DefaultError>(\n  config: RetryerConfig<TData, TError>,\n): Retryer<TData> {\n  let isRetryCancelled = false\n  let failureCount = 0\n  let isResolved = false\n  let continueFn: ((value?: unknown) => boolean) | undefined\n  let promiseResolve: (data: TData) => void\n  let promiseReject: (error: TError) => void\n\n  const promise = new Promise<TData>((outerResolve, outerReject) => {\n    promiseResolve = outerResolve\n    promiseReject = outerReject\n  })\n\n  const cancel = (cancelOptions?: CancelOptions): void => {\n    if (!isResolved) {\n      reject(new CancelledError(cancelOptions))\n\n      config.abort?.()\n    }\n  }\n  const cancelRetry = () => {\n    isRetryCancelled = true\n  }\n\n  const continueRetry = () => {\n    isRetryCancelled = false\n  }\n\n  const shouldPause = () =>\n    !focusManager.isFocused() ||\n    (config.networkMode !== 'always' && !onlineManager.isOnline())\n\n  const resolve = (value: any) => {\n    if (!isResolved) {\n      isResolved = true\n      config.onSuccess?.(value)\n      continueFn?.()\n      promiseResolve(value)\n    }\n  }\n\n  const reject = (value: any) => {\n    if (!isResolved) {\n      isResolved = true\n      config.onError?.(value)\n      continueFn?.()\n      promiseReject(value)\n    }\n  }\n\n  const pause = () => {\n    return new Promise((continueResolve) => {\n      continueFn = (value) => {\n        const canContinue = isResolved || !shouldPause()\n        if (canContinue) {\n          continueResolve(value)\n        }\n        return canContinue\n      }\n      config.onPause?.()\n    }).then(() => {\n      continueFn = undefined\n      if (!isResolved) {\n        config.onContinue?.()\n      }\n    })\n  }\n\n  // Create loop function\n  const run = () => {\n    // Do nothing if already resolved\n    if (isResolved) {\n      return\n    }\n\n    let promiseOrValue: any\n\n    // Execute query\n    try {\n      promiseOrValue = config.fn()\n    } catch (error) {\n      promiseOrValue = Promise.reject(error)\n    }\n\n    Promise.resolve(promiseOrValue)\n      .then(resolve)\n      .catch((error) => {\n        // Stop if the fetch is already resolved\n        if (isResolved) {\n          return\n        }\n\n        // Do we need to retry the request?\n        const retry = config.retry ?? (isServer ? 0 : 3)\n        const retryDelay = config.retryDelay ?? defaultRetryDelay\n        const delay =\n          typeof retryDelay === 'function'\n            ? retryDelay(failureCount, error)\n            : retryDelay\n        const shouldRetry =\n          retry === true ||\n          (typeof retry === 'number' && failureCount < retry) ||\n          (typeof retry === 'function' && retry(failureCount, error))\n\n        if (isRetryCancelled || !shouldRetry) {\n          // We are done if the query does not need to be retried\n          reject(error)\n          return\n        }\n\n        failureCount++\n\n        // Notify on fail\n        config.onFail?.(failureCount, error)\n\n        // Delay\n        sleep(delay)\n          // Pause if the document is not visible or when the device is offline\n          .then(() => {\n            if (shouldPause()) {\n              return pause()\n            }\n            return\n          })\n          .then(() => {\n            if (isRetryCancelled) {\n              reject(error)\n            } else {\n              run()\n            }\n          })\n      })\n  }\n\n  // Start loop\n  if (canFetch(config.networkMode)) {\n    run()\n  } else {\n    pause().then(run)\n  }\n\n  return {\n    promise,\n    cancel,\n    continue: () => {\n      const didContinue = continueFn?.()\n      return didContinue ? promise : Promise.resolve()\n    },\n    cancelRetry,\n    continueRetry,\n  }\n}\n","import { isServer, isValidTimeout } from './utils'\n\nexport abstract class Removable {\n  gcTime!: number\n  #gcTimeout?: ReturnType<typeof setTimeout>\n\n  destroy(): void {\n    this.clearGcTimeout()\n  }\n\n  protected scheduleGc(): void {\n    this.clearGcTimeout()\n\n    if (isValidTimeout(this.gcTime)) {\n      this.#gcTimeout = setTimeout(() => {\n        this.optionalRemove()\n      }, this.gcTime)\n    }\n  }\n\n  protected updateGcTime(newGcTime: number | undefined): void {\n    // Default to 5 minutes (Infinity for server-side) if no gcTime is set\n    this.gcTime = Math.max(\n      this.gcTime || 0,\n      newGcTime ?? (isServer ? Infinity : 5 * 60 * 1000),\n    )\n  }\n\n  protected clearGcTimeout() {\n    if (this.#gcTimeout) {\n      clearTimeout(this.#gcTimeout)\n      this.#gcTimeout = undefined\n    }\n  }\n\n  protected abstract optionalRemove(): void\n}\n","import { noop, replaceData, skipToken, timeUntilStale } from './utils'\nimport { notifyManager } from './notifyManager'\nimport { canFetch, createRetryer, isCancelledError } from './retryer'\nimport { Removable } from './removable'\nimport type {\n  CancelOptions,\n  DefaultError,\n  FetchStatus,\n  InitialDataFunction,\n  OmitKeyof,\n  QueryFunctionContext,\n  QueryKey,\n  QueryMeta,\n  QueryOptions,\n  QueryStatus,\n  SetDataOptions,\n} from './types'\nimport type { QueryCache } from './queryCache'\nimport type { QueryObserver } from './queryObserver'\nimport type { Retryer } from './retryer'\n\n// TYPES\n\ninterface QueryConfig<\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryKey extends QueryKey = QueryKey,\n> {\n  cache: QueryCache\n  queryKey: TQueryKey\n  queryHash: string\n  options?: QueryOptions<TQueryFnData, TError, TData, TQueryKey>\n  defaultOptions?: QueryOptions<TQueryFnData, TError, TData, TQueryKey>\n  state?: QueryState<TData, TError>\n}\n\nexport interface QueryState<TData = unknown, TError = DefaultError> {\n  data: TData | undefined\n  dataUpdateCount: number\n  dataUpdatedAt: number\n  error: TError | null\n  errorUpdateCount: number\n  errorUpdatedAt: number\n  fetchFailureCount: number\n  fetchFailureReason: TError | null\n  fetchMeta: FetchMeta | null\n  isInvalidated: boolean\n  status: QueryStatus\n  fetchStatus: FetchStatus\n}\n\nexport interface FetchContext<\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryKey extends QueryKey = QueryKey,\n> {\n  fetchFn: () => unknown | Promise<unknown>\n  fetchOptions?: FetchOptions\n  signal: AbortSignal\n  options: QueryOptions<TQueryFnData, TError, TData, any>\n  queryKey: TQueryKey\n  state: QueryState<TData, TError>\n}\n\nexport interface QueryBehavior<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n> {\n  onFetch: (\n    context: FetchContext<TQueryFnData, TError, TData, TQueryKey>,\n    query: Query,\n  ) => void\n}\n\nexport type FetchDirection = 'forward' | 'backward'\n\nexport interface FetchMeta {\n  fetchMore?: { direction: FetchDirection }\n}\n\nexport interface FetchOptions {\n  cancelRefetch?: boolean\n  meta?: FetchMeta\n}\n\ninterface FailedAction<TError> {\n  type: 'failed'\n  failureCount: number\n  error: TError\n}\n\ninterface FetchAction {\n  type: 'fetch'\n  meta?: FetchMeta\n}\n\ninterface SuccessAction<TData> {\n  data: TData | undefined\n  type: 'success'\n  dataUpdatedAt?: number\n  manual?: boolean\n}\n\ninterface ErrorAction<TError> {\n  type: 'error'\n  error: TError\n}\n\ninterface InvalidateAction {\n  type: 'invalidate'\n}\n\ninterface PauseAction {\n  type: 'pause'\n}\n\ninterface ContinueAction {\n  type: 'continue'\n}\n\ninterface SetStateAction<TData, TError> {\n  type: 'setState'\n  state: Partial<QueryState<TData, TError>>\n  setStateOptions?: SetStateOptions\n}\n\nexport type Action<TData, TError> =\n  | ContinueAction\n  | ErrorAction<TError>\n  | FailedAction<TError>\n  | FetchAction\n  | InvalidateAction\n  | PauseAction\n  | SetStateAction<TData, TError>\n  | SuccessAction<TData>\n\nexport interface SetStateOptions {\n  meta?: any\n}\n\n// CLASS\n\nexport class Query<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n> extends Removable {\n  queryKey: TQueryKey\n  queryHash: string\n  options!: QueryOptions<TQueryFnData, TError, TData, TQueryKey>\n  state: QueryState<TData, TError>\n  isFetchingOptimistic?: boolean\n\n  #initialState: QueryState<TData, TError>\n  #revertState?: QueryState<TData, TError>\n  #cache: QueryCache\n  #retryer?: Retryer<TData>\n  #observers: Array<QueryObserver<any, any, any, any, any>>\n  #defaultOptions?: QueryOptions<TQueryFnData, TError, TData, TQueryKey>\n  #abortSignalConsumed: boolean\n\n  constructor(config: QueryConfig<TQueryFnData, TError, TData, TQueryKey>) {\n    super()\n\n    this.#abortSignalConsumed = false\n    this.#defaultOptions = config.defaultOptions\n    this.setOptions(config.options)\n    this.#observers = []\n    this.#cache = config.cache\n    this.queryKey = config.queryKey\n    this.queryHash = config.queryHash\n    this.#initialState = config.state || getDefaultState(this.options)\n    this.state = this.#initialState\n    this.scheduleGc()\n  }\n  get meta(): QueryMeta | undefined {\n    return this.options.meta\n  }\n\n  setOptions(\n    options?: QueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): void {\n    this.options = { ...this.#defaultOptions, ...options }\n\n    this.updateGcTime(this.options.gcTime)\n  }\n\n  protected optionalRemove() {\n    if (!this.#observers.length && this.state.fetchStatus === 'idle') {\n      this.#cache.remove(this)\n    }\n  }\n\n  setData(\n    newData: TData,\n    options?: SetDataOptions & { manual: boolean },\n  ): TData {\n    const data = replaceData(this.state.data, newData, this.options)\n\n    // Set data and mark it as cached\n    this.#dispatch({\n      data,\n      type: 'success',\n      dataUpdatedAt: options?.updatedAt,\n      manual: options?.manual,\n    })\n\n    return data\n  }\n\n  setState(\n    state: Partial<QueryState<TData, TError>>,\n    setStateOptions?: SetStateOptions,\n  ): void {\n    this.#dispatch({ type: 'setState', state, setStateOptions })\n  }\n\n  cancel(options?: CancelOptions): Promise<void> {\n    const promise = this.#retryer?.promise\n    this.#retryer?.cancel(options)\n    return promise ? promise.then(noop).catch(noop) : Promise.resolve()\n  }\n\n  destroy(): void {\n    super.destroy()\n\n    this.cancel({ silent: true })\n  }\n\n  reset(): void {\n    this.destroy()\n    this.setState(this.#initialState)\n  }\n\n  isActive(): boolean {\n    return this.#observers.some(\n      (observer) => observer.options.enabled !== false,\n    )\n  }\n\n  isDisabled(): boolean {\n    return this.getObserversCount() > 0 && !this.isActive()\n  }\n\n  isStale(): boolean {\n    if (this.state.isInvalidated) {\n      return true\n    }\n\n    if (this.getObserversCount() > 0) {\n      return this.#observers.some(\n        (observer) => observer.getCurrentResult().isStale,\n      )\n    }\n\n    return this.state.data === undefined\n  }\n\n  isStaleByTime(staleTime = 0): boolean {\n    return (\n      this.state.isInvalidated ||\n      this.state.data === undefined ||\n      !timeUntilStale(this.state.dataUpdatedAt, staleTime)\n    )\n  }\n\n  onFocus(): void {\n    const observer = this.#observers.find((x) => x.shouldFetchOnWindowFocus())\n\n    observer?.refetch({ cancelRefetch: false })\n\n    // Continue fetch if currently paused\n    this.#retryer?.continue()\n  }\n\n  onOnline(): void {\n    const observer = this.#observers.find((x) => x.shouldFetchOnReconnect())\n\n    observer?.refetch({ cancelRefetch: false })\n\n    // Continue fetch if currently paused\n    this.#retryer?.continue()\n  }\n\n  addObserver(observer: QueryObserver<any, any, any, any, any>): void {\n    if (!this.#observers.includes(observer)) {\n      this.#observers.push(observer)\n\n      // Stop the query from being garbage collected\n      this.clearGcTimeout()\n\n      this.#cache.notify({ type: 'observerAdded', query: this, observer })\n    }\n  }\n\n  removeObserver(observer: QueryObserver<any, any, any, any, any>): void {\n    if (this.#observers.includes(observer)) {\n      this.#observers = this.#observers.filter((x) => x !== observer)\n\n      if (!this.#observers.length) {\n        // If the transport layer does not support cancellation\n        // we'll let the query continue so the result can be cached\n        if (this.#retryer) {\n          if (this.#abortSignalConsumed) {\n            this.#retryer.cancel({ revert: true })\n          } else {\n            this.#retryer.cancelRetry()\n          }\n        }\n\n        this.scheduleGc()\n      }\n\n      this.#cache.notify({ type: 'observerRemoved', query: this, observer })\n    }\n  }\n\n  getObserversCount(): number {\n    return this.#observers.length\n  }\n\n  invalidate(): void {\n    if (!this.state.isInvalidated) {\n      this.#dispatch({ type: 'invalidate' })\n    }\n  }\n\n  fetch(\n    options?: QueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n    fetchOptions?: FetchOptions,\n  ): Promise<TData> {\n    if (this.state.fetchStatus !== 'idle') {\n      if (this.state.data !== undefined && fetchOptions?.cancelRefetch) {\n        // Silently cancel current fetch if the user wants to cancel refetch\n        this.cancel({ silent: true })\n      } else if (this.#retryer) {\n        // make sure that retries that were potentially cancelled due to unmounts can continue\n        this.#retryer.continueRetry()\n        // Return current promise if we are already fetching\n        return this.#retryer.promise\n      }\n    }\n\n    // Update config if passed, otherwise the config from the last execution is used\n    if (options) {\n      this.setOptions(options)\n    }\n\n    // Use the options from the first observer with a query function if no function is found.\n    // This can happen when the query is hydrated or created with setQueryData.\n    if (!this.options.queryFn) {\n      const observer = this.#observers.find((x) => x.options.queryFn)\n      if (observer) {\n        this.setOptions(observer.options)\n      }\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!Array.isArray(this.options.queryKey)) {\n        console.error(\n          `As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']`,\n        )\n      }\n    }\n\n    const abortController = new AbortController()\n\n    // Create query function context\n    const queryFnContext: OmitKeyof<\n      QueryFunctionContext<TQueryKey>,\n      'signal'\n    > = {\n      queryKey: this.queryKey,\n      meta: this.meta,\n    }\n\n    // Adds an enumerable signal property to the object that\n    // which sets abortSignalConsumed to true when the signal\n    // is read.\n    const addSignalProperty = (object: unknown) => {\n      Object.defineProperty(object, 'signal', {\n        enumerable: true,\n        get: () => {\n          this.#abortSignalConsumed = true\n          return abortController.signal\n        },\n      })\n    }\n\n    addSignalProperty(queryFnContext)\n\n    // Create fetch function\n    const fetchFn = () => {\n      if (process.env.NODE_ENV !== 'production') {\n        if (this.options.queryFn === skipToken) {\n          console.error(\n            `Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${this.options.queryHash}'`,\n          )\n        }\n      }\n\n      if (!this.options.queryFn || this.options.queryFn === skipToken) {\n        return Promise.reject(\n          new Error(`Missing queryFn: '${this.options.queryHash}'`),\n        )\n      }\n\n      this.#abortSignalConsumed = false\n      if (this.options.persister) {\n        return this.options.persister(\n          this.options.queryFn,\n          queryFnContext as QueryFunctionContext<TQueryKey>,\n          this as unknown as Query,\n        )\n      }\n\n      return this.options.queryFn(\n        queryFnContext as QueryFunctionContext<TQueryKey>,\n      )\n    }\n\n    // Trigger behavior hook\n    const context: OmitKeyof<\n      FetchContext<TQueryFnData, TError, TData, TQueryKey>,\n      'signal'\n    > = {\n      fetchOptions,\n      options: this.options,\n      queryKey: this.queryKey,\n      state: this.state,\n      fetchFn,\n    }\n\n    addSignalProperty(context)\n\n    this.options.behavior?.onFetch(\n      context as FetchContext<TQueryFnData, TError, TData, TQueryKey>,\n      this as unknown as Query,\n    )\n\n    // Store state in case the current fetch needs to be reverted\n    this.#revertState = this.state\n\n    // Set to fetching state if not already in it\n    if (\n      this.state.fetchStatus === 'idle' ||\n      this.state.fetchMeta !== context.fetchOptions?.meta\n    ) {\n      this.#dispatch({ type: 'fetch', meta: context.fetchOptions?.meta })\n    }\n\n    const onError = (error: TError | { silent?: boolean }) => {\n      // Optimistically update state if needed\n      if (!(isCancelledError(error) && error.silent)) {\n        this.#dispatch({\n          type: 'error',\n          error: error as TError,\n        })\n      }\n\n      if (!isCancelledError(error)) {\n        // Notify cache callback\n        this.#cache.config.onError?.(\n          error as any,\n          this as Query<any, any, any, any>,\n        )\n        this.#cache.config.onSettled?.(\n          this.state.data,\n          error as any,\n          this as Query<any, any, any, any>,\n        )\n      }\n\n      if (!this.isFetchingOptimistic) {\n        // Schedule query gc after fetching\n        this.scheduleGc()\n      }\n      this.isFetchingOptimistic = false\n    }\n\n    // Try to fetch the data\n    this.#retryer = createRetryer({\n      fn: context.fetchFn as () => Promise<TData>,\n      abort: abortController.abort.bind(abortController),\n      onSuccess: (data) => {\n        if (data === undefined) {\n          if (process.env.NODE_ENV !== 'production') {\n            console.error(\n              `Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`,\n            )\n          }\n          onError(new Error(`${this.queryHash} data is undefined`) as any)\n          return\n        }\n\n        this.setData(data)\n\n        // Notify cache callback\n        this.#cache.config.onSuccess?.(data, this as Query<any, any, any, any>)\n        this.#cache.config.onSettled?.(\n          data,\n          this.state.error as any,\n          this as Query<any, any, any, any>,\n        )\n\n        if (!this.isFetchingOptimistic) {\n          // Schedule query gc after fetching\n          this.scheduleGc()\n        }\n        this.isFetchingOptimistic = false\n      },\n      onError,\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: 'failed', failureCount, error })\n      },\n      onPause: () => {\n        this.#dispatch({ type: 'pause' })\n      },\n      onContinue: () => {\n        this.#dispatch({ type: 'continue' })\n      },\n      retry: context.options.retry,\n      retryDelay: context.options.retryDelay,\n      networkMode: context.options.networkMode,\n    })\n\n    return this.#retryer.promise\n  }\n\n  #dispatch(action: Action<TData, TError>): void {\n    const reducer = (\n      state: QueryState<TData, TError>,\n    ): QueryState<TData, TError> => {\n      switch (action.type) {\n        case 'failed':\n          return {\n            ...state,\n            fetchFailureCount: action.failureCount,\n            fetchFailureReason: action.error,\n          }\n        case 'pause':\n          return {\n            ...state,\n            fetchStatus: 'paused',\n          }\n        case 'continue':\n          return {\n            ...state,\n            fetchStatus: 'fetching',\n          }\n        case 'fetch':\n          return {\n            ...state,\n            ...fetchState(state.data, this.options),\n            fetchMeta: action.meta ?? null,\n          }\n        case 'success':\n          return {\n            ...state,\n            data: action.data,\n            dataUpdateCount: state.dataUpdateCount + 1,\n            dataUpdatedAt: action.dataUpdatedAt ?? Date.now(),\n            error: null,\n            isInvalidated: false,\n            status: 'success',\n            ...(!action.manual && {\n              fetchStatus: 'idle',\n              fetchFailureCount: 0,\n              fetchFailureReason: null,\n            }),\n          }\n        case 'error':\n          const error = action.error as unknown\n\n          if (isCancelledError(error) && error.revert && this.#revertState) {\n            return { ...this.#revertState, fetchStatus: 'idle' }\n          }\n\n          return {\n            ...state,\n            error: error as TError,\n            errorUpdateCount: state.errorUpdateCount + 1,\n            errorUpdatedAt: Date.now(),\n            fetchFailureCount: state.fetchFailureCount + 1,\n            fetchFailureReason: error as TError,\n            fetchStatus: 'idle',\n            status: 'error',\n          }\n        case 'invalidate':\n          return {\n            ...state,\n            isInvalidated: true,\n          }\n        case 'setState':\n          return {\n            ...state,\n            ...action.state,\n          }\n      }\n    }\n\n    this.state = reducer(this.state)\n\n    notifyManager.batch(() => {\n      this.#observers.forEach((observer) => {\n        observer.onQueryUpdate()\n      })\n\n      this.#cache.notify({ query: this, type: 'updated', action })\n    })\n  }\n}\n\nexport function fetchState<\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryKey extends QueryKey,\n>(\n  data: TData | undefined,\n  options: QueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n) {\n  return {\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchStatus: canFetch(options.networkMode) ? 'fetching' : 'paused',\n    ...(data === undefined &&\n      ({\n        error: null,\n        status: 'pending',\n      } as const)),\n  } as const\n}\n\nfunction getDefaultState<\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryKey extends QueryKey,\n>(\n  options: QueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n): QueryState<TData, TError> {\n  const data =\n    typeof options.initialData === 'function'\n      ? (options.initialData as InitialDataFunction<TData>)()\n      : options.initialData\n\n  const hasData = data !== undefined\n\n  const initialDataUpdatedAt = hasData\n    ? typeof options.initialDataUpdatedAt === 'function'\n      ? (options.initialDataUpdatedAt as () => number | undefined)()\n      : options.initialDataUpdatedAt\n    : 0\n\n  return {\n    data,\n    dataUpdateCount: 0,\n    dataUpdatedAt: hasData ? initialDataUpdatedAt ?? Date.now() : 0,\n    error: null,\n    errorUpdateCount: 0,\n    errorUpdatedAt: 0,\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchMeta: null,\n    isInvalidated: false,\n    status: hasData ? 'success' : 'pending',\n    fetchStatus: 'idle',\n  }\n}\n","import {\n  isServer,\n  isValidTimeout,\n  noop,\n  replaceData,\n  shallowEqualObjects,\n  timeUntilStale,\n} from './utils'\nimport { notifyManager } from './notifyManager'\nimport { focusManager } from './focusManager'\nimport { Subscribable } from './subscribable'\nimport { fetchState } from './query'\nimport type { FetchOptions, Query, QueryState } from './query'\nimport type { QueryClient } from './queryClient'\nimport type {\n  DefaultError,\n  DefaultedQueryObserverOptions,\n  PlaceholderDataFunction,\n  QueryKey,\n  QueryObserverBaseResult,\n  QueryObserverOptions,\n  QueryObserverResult,\n  QueryOptions,\n  RefetchOptions,\n} from './types'\n\ntype QueryObserverListener<TData, TError> = (\n  result: QueryObserverResult<TData, TError>,\n) => void\n\nexport interface NotifyOptions {\n  listeners?: boolean\n}\n\nexport interface ObserverFetchOptions extends FetchOptions {\n  throwOnError?: boolean\n}\n\nexport class QueryObserver<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n> extends Subscribable<QueryObserverListener<TData, TError>> {\n  #client: QueryClient\n  #currentQuery: Query<TQueryFnData, TError, TQueryData, TQueryKey> = undefined!\n  #currentQueryInitialState: QueryState<TQueryData, TError> = undefined!\n  #currentResult: QueryObserverResult<TData, TError> = undefined!\n  #currentResultState?: QueryState<TQueryData, TError>\n  #currentResultOptions?: QueryObserverOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryData,\n    TQueryKey\n  >\n  #selectError: TError | null\n  #selectFn?: (data: TQueryData) => TData\n  #selectResult?: TData\n  // This property keeps track of the last query with defined data.\n  // It will be used to pass the previous data and query to the placeholder function between renders.\n  #lastQueryWithDefinedData?: Query<TQueryFnData, TError, TQueryData, TQueryKey>\n  #staleTimeoutId?: ReturnType<typeof setTimeout>\n  #refetchIntervalId?: ReturnType<typeof setInterval>\n  #currentRefetchInterval?: number | false\n  #trackedProps = new Set<keyof QueryObserverResult>()\n\n  constructor(\n    client: QueryClient,\n    public options: QueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >,\n  ) {\n    super()\n\n    this.#client = client\n    this.#selectError = null\n    this.bindMethods()\n    this.setOptions(options)\n  }\n\n  protected bindMethods(): void {\n    this.refetch = this.refetch.bind(this)\n  }\n\n  protected onSubscribe(): void {\n    if (this.listeners.size === 1) {\n      this.#currentQuery.addObserver(this)\n\n      if (shouldFetchOnMount(this.#currentQuery, this.options)) {\n        this.#executeFetch()\n      } else {\n        this.updateResult()\n      }\n\n      this.#updateTimers()\n    }\n  }\n\n  protected onUnsubscribe(): void {\n    if (!this.hasListeners()) {\n      this.destroy()\n    }\n  }\n\n  shouldFetchOnReconnect(): boolean {\n    return shouldFetchOn(\n      this.#currentQuery,\n      this.options,\n      this.options.refetchOnReconnect,\n    )\n  }\n\n  shouldFetchOnWindowFocus(): boolean {\n    return shouldFetchOn(\n      this.#currentQuery,\n      this.options,\n      this.options.refetchOnWindowFocus,\n    )\n  }\n\n  destroy(): void {\n    this.listeners = new Set()\n    this.#clearStaleTimeout()\n    this.#clearRefetchInterval()\n    this.#currentQuery.removeObserver(this)\n  }\n\n  setOptions(\n    options: QueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >,\n    notifyOptions?: NotifyOptions,\n  ): void {\n    const prevOptions = this.options\n    const prevQuery = this.#currentQuery\n\n    this.options = this.#client.defaultQueryOptions(options)\n\n    if (\n      this.options.enabled !== undefined &&\n      typeof this.options.enabled !== 'boolean'\n    ) {\n      throw new Error('Expected enabled to be a boolean')\n    }\n\n    this.#updateQuery()\n    this.#currentQuery.setOptions(this.options)\n\n    if (\n      prevOptions._defaulted &&\n      !shallowEqualObjects(this.options, prevOptions)\n    ) {\n      this.#client.getQueryCache().notify({\n        type: 'observerOptionsUpdated',\n        query: this.#currentQuery,\n        observer: this,\n      })\n    }\n\n    const mounted = this.hasListeners()\n\n    // Fetch if there are subscribers\n    if (\n      mounted &&\n      shouldFetchOptionally(\n        this.#currentQuery,\n        prevQuery,\n        this.options,\n        prevOptions,\n      )\n    ) {\n      this.#executeFetch()\n    }\n\n    // Update result\n    this.updateResult(notifyOptions)\n\n    // Update stale interval if needed\n    if (\n      mounted &&\n      (this.#currentQuery !== prevQuery ||\n        this.options.enabled !== prevOptions.enabled ||\n        this.options.staleTime !== prevOptions.staleTime)\n    ) {\n      this.#updateStaleTimeout()\n    }\n\n    const nextRefetchInterval = this.#computeRefetchInterval()\n\n    // Update refetch interval if needed\n    if (\n      mounted &&\n      (this.#currentQuery !== prevQuery ||\n        this.options.enabled !== prevOptions.enabled ||\n        nextRefetchInterval !== this.#currentRefetchInterval)\n    ) {\n      this.#updateRefetchInterval(nextRefetchInterval)\n    }\n  }\n\n  getOptimisticResult(\n    options: DefaultedQueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >,\n  ): QueryObserverResult<TData, TError> {\n    const query = this.#client.getQueryCache().build(this.#client, options)\n\n    const result = this.createResult(query, options)\n\n    if (shouldAssignObserverCurrentProperties(this, result)) {\n      // this assigns the optimistic result to the current Observer\n      // because if the query function changes, useQuery will be performing\n      // an effect where it would fetch again.\n      // When the fetch finishes, we perform a deep data cloning in order\n      // to reuse objects references. This deep data clone is performed against\n      // the `observer.currentResult.data` property\n      // When QueryKey changes, we refresh the query and get new `optimistic`\n      // result, while we leave the `observer.currentResult`, so when new data\n      // arrives, it finds the old `observer.currentResult` which is related\n      // to the old QueryKey. Which means that currentResult and selectData are\n      // out of sync already.\n      // To solve this, we move the cursor of the currentResult every time\n      // an observer reads an optimistic value.\n\n      // When keeping the previous data, the result doesn't change until new\n      // data arrives.\n      this.#currentResult = result\n      this.#currentResultOptions = this.options\n      this.#currentResultState = this.#currentQuery.state\n    }\n    return result\n  }\n\n  getCurrentResult(): QueryObserverResult<TData, TError> {\n    return this.#currentResult\n  }\n\n  trackResult(\n    result: QueryObserverResult<TData, TError>,\n    onPropTracked?: (key: keyof QueryObserverResult) => void,\n  ): QueryObserverResult<TData, TError> {\n    const trackedResult = {} as QueryObserverResult<TData, TError>\n\n    Object.keys(result).forEach((key) => {\n      Object.defineProperty(trackedResult, key, {\n        configurable: false,\n        enumerable: true,\n        get: () => {\n          this.trackProp(key as keyof QueryObserverResult)\n          onPropTracked?.(key as keyof QueryObserverResult)\n          return result[key as keyof QueryObserverResult]\n        },\n      })\n    })\n\n    return trackedResult\n  }\n\n  trackProp(key: keyof QueryObserverResult) {\n    this.#trackedProps.add(key)\n  }\n\n  getCurrentQuery(): Query<TQueryFnData, TError, TQueryData, TQueryKey> {\n    return this.#currentQuery\n  }\n\n  refetch({ ...options }: RefetchOptions = {}): Promise<\n    QueryObserverResult<TData, TError>\n  > {\n    return this.fetch({\n      ...options,\n    })\n  }\n\n  fetchOptimistic(\n    options: QueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >,\n  ): Promise<QueryObserverResult<TData, TError>> {\n    const defaultedOptions = this.#client.defaultQueryOptions(options)\n\n    const query = this.#client\n      .getQueryCache()\n      .build(this.#client, defaultedOptions)\n    query.isFetchingOptimistic = true\n\n    return query.fetch().then(() => this.createResult(query, defaultedOptions))\n  }\n\n  protected fetch(\n    fetchOptions: ObserverFetchOptions,\n  ): Promise<QueryObserverResult<TData, TError>> {\n    return this.#executeFetch({\n      ...fetchOptions,\n      cancelRefetch: fetchOptions.cancelRefetch ?? true,\n    }).then(() => {\n      this.updateResult()\n      return this.#currentResult\n    })\n  }\n\n  #executeFetch(\n    fetchOptions?: ObserverFetchOptions,\n  ): Promise<TQueryData | undefined> {\n    // Make sure we reference the latest query as the current one might have been removed\n    this.#updateQuery()\n\n    // Fetch\n    let promise: Promise<TQueryData | undefined> = this.#currentQuery.fetch(\n      this.options as QueryOptions<TQueryFnData, TError, TQueryData, TQueryKey>,\n      fetchOptions,\n    )\n\n    if (!fetchOptions?.throwOnError) {\n      promise = promise.catch(noop)\n    }\n\n    return promise\n  }\n\n  #updateStaleTimeout(): void {\n    this.#clearStaleTimeout()\n\n    if (\n      isServer ||\n      this.#currentResult.isStale ||\n      !isValidTimeout(this.options.staleTime)\n    ) {\n      return\n    }\n\n    const time = timeUntilStale(\n      this.#currentResult.dataUpdatedAt,\n      this.options.staleTime,\n    )\n\n    // The timeout is sometimes triggered 1 ms before the stale time expiration.\n    // To mitigate this issue we always add 1 ms to the timeout.\n    const timeout = time + 1\n\n    this.#staleTimeoutId = setTimeout(() => {\n      if (!this.#currentResult.isStale) {\n        this.updateResult()\n      }\n    }, timeout)\n  }\n\n  #computeRefetchInterval() {\n    return (\n      (typeof this.options.refetchInterval === 'function'\n        ? this.options.refetchInterval(this.#currentQuery)\n        : this.options.refetchInterval) ?? false\n    )\n  }\n\n  #updateRefetchInterval(nextInterval: number | false): void {\n    this.#clearRefetchInterval()\n\n    this.#currentRefetchInterval = nextInterval\n\n    if (\n      isServer ||\n      this.options.enabled === false ||\n      !isValidTimeout(this.#currentRefetchInterval) ||\n      this.#currentRefetchInterval === 0\n    ) {\n      return\n    }\n\n    this.#refetchIntervalId = setInterval(() => {\n      if (\n        this.options.refetchIntervalInBackground ||\n        focusManager.isFocused()\n      ) {\n        this.#executeFetch()\n      }\n    }, this.#currentRefetchInterval)\n  }\n\n  #updateTimers(): void {\n    this.#updateStaleTimeout()\n    this.#updateRefetchInterval(this.#computeRefetchInterval())\n  }\n\n  #clearStaleTimeout(): void {\n    if (this.#staleTimeoutId) {\n      clearTimeout(this.#staleTimeoutId)\n      this.#staleTimeoutId = undefined\n    }\n  }\n\n  #clearRefetchInterval(): void {\n    if (this.#refetchIntervalId) {\n      clearInterval(this.#refetchIntervalId)\n      this.#refetchIntervalId = undefined\n    }\n  }\n\n  protected createResult(\n    query: Query<TQueryFnData, TError, TQueryData, TQueryKey>,\n    options: QueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >,\n  ): QueryObserverResult<TData, TError> {\n    const prevQuery = this.#currentQuery\n    const prevOptions = this.options\n    const prevResult = this.#currentResult as\n      | QueryObserverResult<TData, TError>\n      | undefined\n    const prevResultState = this.#currentResultState\n    const prevResultOptions = this.#currentResultOptions\n    const queryChange = query !== prevQuery\n    const queryInitialState = queryChange\n      ? query.state\n      : this.#currentQueryInitialState\n\n    const { state } = query\n    let newState = { ...state }\n    let isPlaceholderData = false\n    let data: TData | undefined\n\n    // Optimistically set result in fetching state if needed\n    if (options._optimisticResults) {\n      const mounted = this.hasListeners()\n\n      const fetchOnMount = !mounted && shouldFetchOnMount(query, options)\n\n      const fetchOptionally =\n        mounted && shouldFetchOptionally(query, prevQuery, options, prevOptions)\n\n      if (fetchOnMount || fetchOptionally) {\n        newState = {\n          ...newState,\n          ...fetchState(state.data, query.options),\n        }\n      }\n      if (options._optimisticResults === 'isRestoring') {\n        newState.fetchStatus = 'idle'\n      }\n    }\n\n    let { error, errorUpdatedAt, status } = newState\n\n    // Select data if needed\n    if (options.select && newState.data !== undefined) {\n      // Memoize select result\n      if (\n        prevResult &&\n        newState.data === prevResultState?.data &&\n        options.select === this.#selectFn\n      ) {\n        data = this.#selectResult\n      } else {\n        try {\n          this.#selectFn = options.select\n          data = options.select(newState.data)\n          data = replaceData(prevResult?.data, data, options)\n          this.#selectResult = data\n          this.#selectError = null\n        } catch (selectError) {\n          this.#selectError = selectError as TError\n        }\n      }\n    }\n    // Use query data\n    else {\n      data = newState.data as unknown as TData\n    }\n\n    // Show placeholder data if needed\n    if (\n      options.placeholderData !== undefined &&\n      data === undefined &&\n      status === 'pending'\n    ) {\n      let placeholderData\n\n      // Memoize placeholder data\n      if (\n        prevResult?.isPlaceholderData &&\n        options.placeholderData === prevResultOptions?.placeholderData\n      ) {\n        placeholderData = prevResult.data\n      } else {\n        placeholderData =\n          typeof options.placeholderData === 'function'\n            ? (\n                options.placeholderData as unknown as PlaceholderDataFunction<TQueryData>\n              )(\n                this.#lastQueryWithDefinedData?.state.data,\n                this.#lastQueryWithDefinedData as any,\n              )\n            : options.placeholderData\n        if (options.select && placeholderData !== undefined) {\n          try {\n            placeholderData = options.select(placeholderData)\n            this.#selectError = null\n          } catch (selectError) {\n            this.#selectError = selectError as TError\n          }\n        }\n      }\n\n      if (placeholderData !== undefined) {\n        status = 'success'\n        data = replaceData(\n          prevResult?.data,\n          placeholderData as unknown,\n          options,\n        ) as TData\n        isPlaceholderData = true\n      }\n    }\n\n    if (this.#selectError) {\n      error = this.#selectError as any\n      data = this.#selectResult\n      errorUpdatedAt = Date.now()\n      status = 'error'\n    }\n\n    const isFetching = newState.fetchStatus === 'fetching'\n    const isPending = status === 'pending'\n    const isError = status === 'error'\n\n    const isLoading = isPending && isFetching\n    const hasData = data !== undefined\n\n    const result: QueryObserverBaseResult<TData, TError> = {\n      status,\n      fetchStatus: newState.fetchStatus,\n      isPending,\n      isSuccess: status === 'success',\n      isError,\n      isInitialLoading: isLoading,\n      isLoading,\n      data,\n      dataUpdatedAt: newState.dataUpdatedAt,\n      error,\n      errorUpdatedAt,\n      failureCount: newState.fetchFailureCount,\n      failureReason: newState.fetchFailureReason,\n      errorUpdateCount: newState.errorUpdateCount,\n      isFetched: newState.dataUpdateCount > 0 || newState.errorUpdateCount > 0,\n      isFetchedAfterMount:\n        newState.dataUpdateCount > queryInitialState.dataUpdateCount ||\n        newState.errorUpdateCount > queryInitialState.errorUpdateCount,\n      isFetching,\n      isRefetching: isFetching && !isPending,\n      isLoadingError: isError && !hasData,\n      isPaused: newState.fetchStatus === 'paused',\n      isPlaceholderData,\n      isRefetchError: isError && hasData,\n      isStale: isStale(query, options),\n      refetch: this.refetch,\n    }\n\n    return result as QueryObserverResult<TData, TError>\n  }\n\n  updateResult(notifyOptions?: NotifyOptions): void {\n    const prevResult = this.#currentResult as\n      | QueryObserverResult<TData, TError>\n      | undefined\n\n    const nextResult = this.createResult(this.#currentQuery, this.options)\n    this.#currentResultState = this.#currentQuery.state\n    this.#currentResultOptions = this.options\n\n    if (this.#currentResultState.data !== undefined) {\n      this.#lastQueryWithDefinedData = this.#currentQuery\n    }\n\n    // Only notify and update result if something has changed\n    if (shallowEqualObjects(nextResult, prevResult)) {\n      return\n    }\n\n    this.#currentResult = nextResult\n\n    // Determine which callbacks to trigger\n    const defaultNotifyOptions: NotifyOptions = {}\n\n    const shouldNotifyListeners = (): boolean => {\n      if (!prevResult) {\n        return true\n      }\n\n      const { notifyOnChangeProps } = this.options\n      const notifyOnChangePropsValue =\n        typeof notifyOnChangeProps === 'function'\n          ? notifyOnChangeProps()\n          : notifyOnChangeProps\n\n      if (\n        notifyOnChangePropsValue === 'all' ||\n        (!notifyOnChangePropsValue && !this.#trackedProps.size)\n      ) {\n        return true\n      }\n\n      const includedProps = new Set(\n        notifyOnChangePropsValue ?? this.#trackedProps,\n      )\n\n      if (this.options.throwOnError) {\n        includedProps.add('error')\n      }\n\n      return Object.keys(this.#currentResult).some((key) => {\n        const typedKey = key as keyof QueryObserverResult\n        const changed = this.#currentResult[typedKey] !== prevResult[typedKey]\n        return changed && includedProps.has(typedKey)\n      })\n    }\n\n    if (notifyOptions?.listeners !== false && shouldNotifyListeners()) {\n      defaultNotifyOptions.listeners = true\n    }\n\n    this.#notify({ ...defaultNotifyOptions, ...notifyOptions })\n  }\n\n  #updateQuery(): void {\n    const query = this.#client.getQueryCache().build(this.#client, this.options)\n\n    if (query === this.#currentQuery) {\n      return\n    }\n\n    const prevQuery = this.#currentQuery as\n      | Query<TQueryFnData, TError, TQueryData, TQueryKey>\n      | undefined\n    this.#currentQuery = query\n    this.#currentQueryInitialState = query.state\n\n    if (this.hasListeners()) {\n      prevQuery?.removeObserver(this)\n      query.addObserver(this)\n    }\n  }\n\n  onQueryUpdate(): void {\n    this.updateResult()\n\n    if (this.hasListeners()) {\n      this.#updateTimers()\n    }\n  }\n\n  #notify(notifyOptions: NotifyOptions): void {\n    notifyManager.batch(() => {\n      // First, trigger the listeners\n      if (notifyOptions.listeners) {\n        this.listeners.forEach((listener) => {\n          listener(this.#currentResult)\n        })\n      }\n\n      // Then the cache listeners\n      this.#client.getQueryCache().notify({\n        query: this.#currentQuery,\n        type: 'observerResultsUpdated',\n      })\n    })\n  }\n}\n\nfunction shouldLoadOnMount(\n  query: Query<any, any, any, any>,\n  options: QueryObserverOptions<any, any, any, any>,\n): boolean {\n  return (\n    options.enabled !== false &&\n    query.state.data === undefined &&\n    !(query.state.status === 'error' && options.retryOnMount === false)\n  )\n}\n\nfunction shouldFetchOnMount(\n  query: Query<any, any, any, any>,\n  options: QueryObserverOptions<any, any, any, any, any>,\n): boolean {\n  return (\n    shouldLoadOnMount(query, options) ||\n    (query.state.data !== undefined &&\n      shouldFetchOn(query, options, options.refetchOnMount))\n  )\n}\n\nfunction shouldFetchOn(\n  query: Query<any, any, any, any>,\n  options: QueryObserverOptions<any, any, any, any, any>,\n  field: (typeof options)['refetchOnMount'] &\n    (typeof options)['refetchOnWindowFocus'] &\n    (typeof options)['refetchOnReconnect'],\n) {\n  if (options.enabled !== false) {\n    const value = typeof field === 'function' ? field(query) : field\n\n    return value === 'always' || (value !== false && isStale(query, options))\n  }\n  return false\n}\n\nfunction shouldFetchOptionally(\n  query: Query<any, any, any, any>,\n  prevQuery: Query<any, any, any, any>,\n  options: QueryObserverOptions<any, any, any, any, any>,\n  prevOptions: QueryObserverOptions<any, any, any, any, any>,\n): boolean {\n  return (\n    (query !== prevQuery || prevOptions.enabled === false) &&\n    (!options.suspense || query.state.status !== 'error') &&\n    isStale(query, options)\n  )\n}\n\nfunction isStale(\n  query: Query<any, any, any, any>,\n  options: QueryObserverOptions<any, any, any, any, any>,\n): boolean {\n  return options.enabled !== false && query.isStaleByTime(options.staleTime)\n}\n\n// this function would decide if we will update the observer's 'current'\n// properties after an optimistic reading via getOptimisticResult\nfunction shouldAssignObserverCurrentProperties<\n  TQueryFnData = unknown,\n  TError = unknown,\n  TData = TQueryFnData,\n  TQueryData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  observer: QueryObserver<TQueryFnData, TError, TData, TQueryData, TQueryKey>,\n  optimisticResult: QueryObserverResult<TData, TError>,\n) {\n  // if the newly created result isn't what the observer is holding as current,\n  // then we'll need to update the properties as well\n  if (!shallowEqualObjects(observer.getCurrentResult(), optimisticResult)) {\n    return true\n  }\n\n  // basically, just keep previous properties if nothing changed\n  return false\n}\n","'use client'\nimport * as React from 'react'\n\n// CONTEXT\n\nexport interface QueryErrorResetBoundaryValue {\n  clearReset: () => void\n  isReset: () => boolean\n  reset: () => void\n}\n\nfunction createValue(): QueryErrorResetBoundaryValue {\n  let isReset = false\n  return {\n    clearReset: () => {\n      isReset = false\n    },\n    reset: () => {\n      isReset = true\n    },\n    isReset: () => {\n      return isReset\n    },\n  }\n}\n\nconst QueryErrorResetBoundaryContext = React.createContext(createValue())\n\n// HOOK\n\nexport const useQueryErrorResetBoundary = () =>\n  React.useContext(QueryErrorResetBoundaryContext)\n\n// COMPONENT\n\nexport interface QueryErrorResetBoundaryProps {\n  children:\n    | ((value: QueryErrorResetBoundaryValue) => React.ReactNode)\n    | React.ReactNode\n}\n\nexport const QueryErrorResetBoundary = ({\n  children,\n}: QueryErrorResetBoundaryProps) => {\n  const [value] = React.useState(() => createValue())\n  return (\n    <QueryErrorResetBoundaryContext.Provider value={value}>\n      {typeof children === 'function'\n        ? (children as Function)(value)\n        : children}\n    </QueryErrorResetBoundaryContext.Provider>\n  )\n}\n","'use client'\nimport * as React from 'react'\n\nimport type { QueryClient } from '@tanstack/query-core'\n\nexport const QueryClientContext = React.createContext<QueryClient | undefined>(\n  undefined,\n)\n\nexport const useQueryClient = (queryClient?: QueryClient) => {\n  const client = React.useContext(QueryClientContext)\n\n  if (queryClient) {\n    return queryClient\n  }\n\n  if (!client) {\n    throw new Error('No QueryClient set, use QueryClientProvider to set one')\n  }\n\n  return client\n}\n\nexport type QueryClientProviderProps = {\n  client: QueryClient\n  children?: React.ReactNode\n}\n\nexport const QueryClientProvider = ({\n  client,\n  children,\n}: QueryClientProviderProps): JSX.Element => {\n  React.useEffect(() => {\n    client.mount()\n    return () => {\n      client.unmount()\n    }\n  }, [client])\n\n  return (\n    <QueryClientContext.Provider value={client}>\n      {children}\n    </QueryClientContext.Provider>\n  )\n}\n","'use client'\nimport * as React from 'react'\n\nconst IsRestoringContext = React.createContext(false)\n\nexport const useIsRestoring = () => React.useContext(IsRestoringContext)\nexport const IsRestoringProvider = IsRestoringContext.Provider\n","'use client'\nimport * as React from 'react'\nimport { shouldThrowError } from './utils'\nimport type {\n  DefaultedQueryObserverOptions,\n  Query,\n  QueryKey,\n  QueryObserverResult,\n  ThrowOnError,\n} from '@tanstack/query-core'\nimport type { QueryErrorResetBoundaryValue } from './QueryErrorResetBoundary'\n\nexport const ensurePreventErrorBoundaryRetry = <\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryData,\n  TQueryKey extends QueryKey,\n>(\n  options: DefaultedQueryObserverOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryData,\n    TQueryKey\n  >,\n  errorResetBoundary: QueryErrorResetBoundaryValue,\n) => {\n  if (options.suspense || options.throwOnError) {\n    // Prevent retrying failed query if the error boundary has not been reset yet\n    if (!errorResetBoundary.isReset()) {\n      options.retryOnMount = false\n    }\n  }\n}\n\nexport const useClearResetErrorBoundary = (\n  errorResetBoundary: QueryErrorResetBoundaryValue,\n) => {\n  React.useEffect(() => {\n    errorResetBoundary.clearReset()\n  }, [errorResetBoundary])\n}\n\nexport const getHasError = <\n  TData,\n  TError,\n  TQueryFnData,\n  TQueryData,\n  TQueryKey extends QueryKey,\n>({\n  result,\n  errorResetBoundary,\n  throwOnError,\n  query,\n}: {\n  result: QueryObserverResult<TData, TError>\n  errorResetBoundary: QueryErrorResetBoundaryValue\n  throwOnError: ThrowOnError<TQueryFnData, TError, TQueryData, TQueryKey>\n  query: Query<TQueryFnData, TError, TQueryData, TQueryKey> | undefined\n}) => {\n  return (\n    result.isError &&\n    !errorResetBoundary.isReset() &&\n    !result.isFetching &&\n    query &&\n    shouldThrowError(throwOnError, [result.error, query])\n  )\n}\n","export function shouldThrowError<T extends (...args: Array<any>) => boolean>(\n  throwError: boolean | T | undefined,\n  params: Parameters<T>,\n): boolean {\n  // Allow throwError function to override throwing behavior on a per-error basis\n  if (typeof throwError === 'function') {\n    return throwError(...params)\n  }\n\n  return !!throwError\n}\n\nexport function noop() {}\n","import type { DefaultError } from '@tanstack/query-core'\nimport type {\n  DefaultedQueryObserverOptions,\n  Query,\n  QueryKey,\n  QueryObserver,\n  QueryObserverResult,\n} from '@tanstack/query-core'\nimport type { QueryErrorResetBoundaryValue } from './QueryErrorResetBoundary'\n\nexport const defaultThrowOnError = <\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  _error: TError,\n  query: Query<TQueryFnData, TError, TData, TQueryKey>,\n) => query.state.data === undefined\n\nexport const ensureStaleTime = (\n  defaultedOptions: DefaultedQueryObserverOptions<any, any, any, any, any>,\n) => {\n  if (defaultedOptions.suspense) {\n    // Always set stale time when using suspense to prevent\n    // fetching again when directly mounting after suspending\n    if (typeof defaultedOptions.staleTime !== 'number') {\n      defaultedOptions.staleTime = 1000\n    }\n  }\n}\n\nexport const willFetch = (\n  result: QueryObserverResult<any, any>,\n  isRestoring: boolean,\n) => result.isLoading && result.isFetching && !isRestoring\n\nexport const shouldSuspend = (\n  defaultedOptions:\n    | DefaultedQueryObserverOptions<any, any, any, any, any>\n    | undefined,\n  result: QueryObserverResult<any, any>,\n) => defaultedOptions?.suspense && result.isPending\n\nexport const fetchOptimistic = <\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryData,\n  TQueryKey extends QueryKey,\n>(\n  defaultedOptions: DefaultedQueryObserverOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryData,\n    TQueryKey\n  >,\n  observer: QueryObserver<TQueryFnData, TError, TData, TQueryData, TQueryKey>,\n  errorResetBoundary: QueryErrorResetBoundaryValue,\n) =>\n  observer.fetchOptimistic(defaultedOptions).catch(() => {\n    errorResetBoundary.clearReset()\n  })\n","'use client'\nimport { QueryObserver } from '@tanstack/query-core'\nimport { useBaseQuery } from './useBaseQuery'\nimport type { DefaultError, QueryClient, QueryKey } from '@tanstack/query-core'\nimport type {\n  DefinedUseQueryResult,\n  UseQueryOptions,\n  UseQueryResult,\n} from './types'\nimport type {\n  DefinedInitialDataOptions,\n  UndefinedInitialDataOptions,\n} from './queryOptions'\n\nexport function useQuery<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  options: DefinedInitialDataOptions<TQueryFnData, TError, TData, TQueryKey>,\n  queryClient?: QueryClient,\n): DefinedUseQueryResult<TData, TError>\n\nexport function useQuery<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  options: UndefinedInitialDataOptions<TQueryFnData, TError, TData, TQueryKey>,\n  queryClient?: QueryClient,\n): UseQueryResult<TData, TError>\n\nexport function useQuery<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  options: UseQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  queryClient?: QueryClient,\n): UseQueryResult<TData, TError>\n\nexport function useQuery(options: UseQueryOptions, queryClient?: QueryClient) {\n  return useBaseQuery(options, QueryObserver, queryClient)\n}\n","'use client'\nimport * as React from 'react'\n\nimport { notifyManager } from '@tanstack/query-core'\nimport { useQueryErrorResetBoundary } from './QueryErrorResetBoundary'\nimport { useQueryClient } from './QueryClientProvider'\nimport { useIsRestoring } from './isRestoring'\nimport {\n  ensurePreventErrorBoundaryRetry,\n  getHasError,\n  useClearResetErrorBoundary,\n} from './errorBoundaryUtils'\nimport { ensureStaleTime, fetchOptimistic, shouldSuspend } from './suspense'\nimport type { UseBaseQueryOptions } from './types'\nimport type {\n  QueryClient,\n  QueryKey,\n  QueryObserver,\n  QueryObserverResult,\n} from '@tanstack/query-core'\n\nexport function useBaseQuery<\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryData,\n  TQueryKey extends QueryKey,\n>(\n  options: UseBaseQueryOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryData,\n    TQueryKey\n  >,\n  Observer: typeof QueryObserver,\n  queryClient?: QueryClient,\n): QueryObserverResult<TData, TError> {\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof options !== 'object' || Array.isArray(options)) {\n      throw new Error(\n        'Bad argument type. Starting with v5, only the \"Object\" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object',\n      )\n    }\n  }\n\n  const client = useQueryClient(queryClient)\n  const isRestoring = useIsRestoring()\n  const errorResetBoundary = useQueryErrorResetBoundary()\n  const defaultedOptions = client.defaultQueryOptions(options)\n\n  // Make sure results are optimistically set in fetching state before subscribing or updating options\n  defaultedOptions._optimisticResults = isRestoring\n    ? 'isRestoring'\n    : 'optimistic'\n\n  ensureStaleTime(defaultedOptions)\n  ensurePreventErrorBoundaryRetry(defaultedOptions, errorResetBoundary)\n\n  useClearResetErrorBoundary(errorResetBoundary)\n\n  const [observer] = React.useState(\n    () =>\n      new Observer<TQueryFnData, TError, TData, TQueryData, TQueryKey>(\n        client,\n        defaultedOptions,\n      ),\n  )\n\n  const result = observer.getOptimisticResult(defaultedOptions)\n\n  React.useSyncExternalStore(\n    React.useCallback(\n      (onStoreChange) => {\n        const unsubscribe = isRestoring\n          ? () => undefined\n          : observer.subscribe(notifyManager.batchCalls(onStoreChange))\n\n        // Update result to make sure we did not miss any query updates\n        // between creating the observer and subscribing to it.\n        observer.updateResult()\n\n        return unsubscribe\n      },\n      [observer, isRestoring],\n    ),\n    () => observer.getCurrentResult(),\n    () => observer.getCurrentResult(),\n  )\n\n  React.useEffect(() => {\n    // Do not notify on updates because of changes in the options because\n    // these changes should already be reflected in the optimistic result.\n    observer.setOptions(defaultedOptions, { listeners: false })\n  }, [defaultedOptions, observer])\n\n  // Handle suspense\n  if (shouldSuspend(defaultedOptions, result)) {\n    // Do the same thing as the effect right above because the effect won't run\n    // when we suspend but also, the component won't re-mount so our observer would\n    // be out of date.\n    throw fetchOptimistic(defaultedOptions, observer, errorResetBoundary)\n  }\n\n  // Handle error boundary\n  if (\n    getHasError({\n      result,\n      errorResetBoundary,\n      throwOnError: defaultedOptions.throwOnError,\n      query: client\n        .getQueryCache()\n        .get<\n          TQueryFnData,\n          TError,\n          TQueryData,\n          TQueryKey\n        >(defaultedOptions.queryHash),\n    })\n  ) {\n    throw result.error\n  }\n\n  // Handle result property usage tracking\n  return !defaultedOptions.notifyOnChangeProps\n    ? observer.trackResult(result)\n    : result\n}\n","export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}","import _typeof from \"./typeof.js\";\nexport default function toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","\n/**\n * Copied from the fast-deep-equal package\n * because it does not support es modules and causes optimization bailouts.\n * TODO use the npm package again when this is merged:\n * @link https://github.com/epoberezkin/fast-deep-equal/pull/105\n */\nexport function deepEqual(a: any, b: any): boolean {\n    if (a === b) return true;\n\n    if (a && b && typeof a == 'object' && typeof b == 'object') {\n        if (a.constructor !== b.constructor) return false;\n\n        let length;\n        let i;\n        if (Array.isArray(a)) {\n            length = a.length;\n            if (length !== b.length) return false;\n            for (i = length; i-- !== 0;)\n                if (!deepEqual(a[i], b[i])) return false;\n            return true;\n        }\n\n\n        if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n        if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n        if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n        const keys = Object.keys(a);\n        length = keys.length;\n        if (length !== Object.keys(b).length) return false;\n\n        for (i = length; i-- !== 0;)\n            if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n        for (i = length; i-- !== 0;) {\n            const key = keys[i];\n            if (!deepEqual(a[key], b[key])) return false;\n        }\n\n        return true;\n    }\n\n    // true if both NaN, false otherwise\n    return a !== a && b !== b;\n}\n","import type {\n    DeepReadonlyObject\n} from '../../types/index.d.ts';\n\nexport function deepFreeze<T>(o: T): T {\n    Object.freeze(o);\n    Object.getOwnPropertyNames(o).forEach(function (prop) {\n        if (\n            Object.prototype.hasOwnProperty.call(o, prop) &&\n            (o as any)[prop] !== null &&\n            (\n                typeof (o as any)[prop] === 'object'\n                ||\n                typeof (o as any)[prop] === 'function'\n            ) &&\n            !Object.isFrozen((o as any)[prop])\n        ) {\n            deepFreeze((o as any)[prop]);\n        }\n    });\n    return o;\n}\n\n\n\n/**\n * To get specific nested path values from objects,\n * RxDB normally uses the 'dot-prop' npm module.\n * But when performance is really relevant, this is not fast enough.\n * Instead we use a monad that can prepare some stuff up front\n * and we can reuse the generated function.\n */\nexport type ObjectPathMonadFunction<T, R = any> = (obj: T) => R;\nexport function objectPathMonad<T, R = any>(objectPath: string): ObjectPathMonadFunction<T, R> {\n    const split = objectPath.split('.');\n\n    // reuse this variable for better performance.\n    const splitLength = split.length;\n\n    /**\n     * Performance shortcut,\n     * if no nested path is used,\n     * directly return the field of the object.\n     */\n    if (splitLength === 1) {\n        return (obj: T) => (obj as any)[objectPath];\n    }\n\n\n    return (obj: T) => {\n        let currentVal: any = obj;\n        for (let i = 0; i < splitLength; ++i) {\n            const subPath = split[i];\n            currentVal = currentVal[subPath];\n            if (typeof currentVal === 'undefined') {\n                return currentVal;\n            }\n        }\n        return currentVal;\n    };\n}\n\n\nexport function getFromObjectOrThrow<V>(\n    obj: { [k: string]: V; },\n    key: string\n): V {\n    const val = obj[key];\n    if (!val) {\n        throw new Error('missing value from object ' + key);\n    }\n    return val;\n}\n\n/**\n * returns a flattened object\n * @link https://gist.github.com/penguinboy/762197\n */\nexport function flattenObject(ob: any) {\n    const toReturn: any = {};\n\n    for (const i in ob) {\n        if (!Object.prototype.hasOwnProperty.call(ob, i)) continue;\n        if ((typeof ob[i]) === 'object') {\n            const flatObject = flattenObject(ob[i]);\n            for (const x in flatObject) {\n                if (!Object.prototype.hasOwnProperty.call(flatObject, x)) continue;\n                toReturn[i + '.' + x] = flatObject[x];\n            }\n        } else {\n            toReturn[i] = ob[i];\n        }\n    }\n    return toReturn;\n}\n\n\n/**\n * does a flat copy on the objects,\n * is about 3 times faster then using deepClone\n * @link https://jsperf.com/object-rest-spread-vs-clone/2\n */\nexport function flatClone<T>(obj: T | DeepReadonlyObject<T> | Readonly<T>): T {\n    return Object.assign({}, obj) as any;\n}\n\n/**\n * @link https://stackoverflow.com/a/11509718/3443137\n */\nexport function firstPropertyNameOfObject(obj: any): string {\n    return Object.keys(obj)[0];\n}\nexport function firstPropertyValueOfObject<T>(obj: { [k: string]: T; }): T {\n    const key = Object.keys(obj)[0];\n    return obj[key];\n}\n\n\n/**\n * deep-sort an object so its attributes are in lexical order.\n * Also sorts the arrays inside of the object if no-array-sort not set\n */\nexport function sortObject(obj: any, noArraySort = false): any {\n    if (!obj) return obj; // do not sort null, false or undefined\n\n    // array\n    if (!noArraySort && Array.isArray(obj)) {\n        return obj\n            .sort((a, b) => {\n                if (typeof a === 'string' && typeof b === 'string')\n                    return a.localeCompare(b);\n\n                if (typeof a === 'object') return 1;\n                else return -1;\n            })\n            .map(i => sortObject(i, noArraySort));\n    }\n\n    // object\n    // array is also of type object\n    if (typeof obj === 'object' && !Array.isArray(obj)) {\n        const out: any = {};\n        Object.keys(obj)\n            .sort((a, b) => a.localeCompare(b))\n            .forEach(key => {\n                out[key] = sortObject(obj[key], noArraySort);\n            });\n        return out;\n    }\n\n    // everything else\n    return obj;\n}\n\n\n\n/**\n * Deep clone a plain json object.\n * Does not work with recursive stuff\n * or non-plain-json.\n * IMPORTANT: Performance of this is very important,\n * do not change it without running performance tests!\n *\n * @link https://github.com/zxdong262/deep-copy/blob/master/src/index.ts\n */\nfunction deepClone<T>(src: T | DeepReadonlyObject<T>): T {\n    if (!src) {\n        return src;\n    }\n    if (src === null || typeof (src) !== 'object') {\n        return src;\n    }\n    if (Array.isArray(src)) {\n        const ret = new Array(src.length);\n        let i = ret.length;\n        while (i--) {\n            ret[i] = deepClone(src[i]);\n        }\n        return ret as any;\n    }\n    const dest: any = {};\n    // eslint-disable-next-line guard-for-in\n    for (const key in src) {\n        dest[key] = deepClone(src[key]);\n    }\n    return dest;\n}\nexport const clone = deepClone;\n\n\n\n/**\n * overwrites the getter with the actual value\n * Mostly used for caching stuff on the first run\n */\nexport function overwriteGetterForCaching<ValueType = any>(\n    obj: any,\n    getterName: string,\n    value: ValueType\n): ValueType {\n    Object.defineProperty(obj, getterName, {\n        get: function () {\n            return value;\n        }\n    });\n    return value;\n}\n\n\nexport function hasDeepProperty(obj: any, property: string): boolean {\n    if (obj.hasOwnProperty(property)) {\n        return true;\n    }\n\n    if (Array.isArray(obj)) {\n        const has = !!obj.find(item => hasDeepProperty(item, property));\n        return has;\n    }\n\n    // Recursively check for property in nested objects\n    for (const key in obj) {\n        if (typeof obj[key] === 'object' && obj[key] !== null) {\n            if (hasDeepProperty(obj[key], property)) {\n                return true;\n            }\n        }\n    }\n\n    // Return false if 'foobar' is not found at any level\n    return false;\n}\n","import type {\n    MaybePromise,\n    MaybeReadonly\n} from '../../types/index.d.ts';\n\nexport function lastOfArray<T>(ar: T[]): T | undefined {\n    return ar[ar.length - 1];\n}\n\n/**\n * shuffle the given array\n */\nexport function shuffleArray<T>(arr: T[]): T[] {\n    return arr.slice(0).sort(() => (Math.random() - 0.5));\n}\n\nexport function randomOfArray<T>(arr: T[]): T {\n    const randomElement = arr[Math.floor(Math.random() * arr.length)];\n    return randomElement;\n}\n\n\nexport function toArray<T>(input: T | T[] | Readonly<T> | Readonly<T[]>): T[] {\n    return Array.isArray(input) ? (input as any[]).slice(0) : [input];\n}\n\n/**\n * Split array with items into smaller arrays with items\n * @link https://stackoverflow.com/a/7273794/3443137\n */\nexport function batchArray<T>(array: T[], batchSize: number): T[][] {\n    array = array.slice(0);\n    const ret: T[][] = [];\n    while (array.length) {\n        const batch = array.splice(0, batchSize);\n        ret.push(batch);\n    }\n    return ret;\n}\n\n/**\n * @link https://stackoverflow.com/a/15996017\n */\nexport function removeOneFromArrayIfMatches<T>(ar: T[], condition: (x: T) => boolean): T[] {\n    ar = ar.slice();\n    let i = ar.length;\n    let done = false;\n    while (i-- && !done) {\n        if (condition(ar[i])) {\n            done = true;\n            ar.splice(i, 1);\n        }\n    }\n    return ar;\n}\n\n/**\n * returns true if the supplied argument is either an Array<T> or a Readonly<Array<T>>\n */\nexport function isMaybeReadonlyArray(x: any): x is MaybeReadonly<any[]> {\n    // While this looks strange, it's a workaround for an issue in TypeScript:\n    // https://github.com/microsoft/TypeScript/issues/17002\n    //\n    // The problem is that `Array.isArray` as a type guard returns `false` for a readonly array,\n    // but at runtime the object is an array and the runtime call to `Array.isArray` would return `true`.\n    // The type predicate here allows for both `Array<T>` and `Readonly<Array<T>>` to pass a type check while\n    // still performing runtime type inspection.\n    return Array.isArray(x);\n}\n\n\n\nexport function isOneItemOfArrayInOtherArray<T>(ar1: T[], ar2: T[]): boolean {\n    for (let i = 0; i < ar1.length; i++) {\n        const el = ar1[i];\n        const has = ar2.includes(el);\n        if (has) {\n            return true;\n        }\n    }\n    return false;\n}\n\n\n/**\n * Use this in array.filter() to remove all empty slots\n * and have the correct typings afterwards.\n * @link https://stackoverflow.com/a/46700791/3443137\n */\nexport function arrayFilterNotEmpty<TValue>(value: TValue | null | undefined): value is TValue {\n    if (value === null || value === undefined) {\n        return false;\n    }\n    return true;\n}\n\nexport function countUntilNotMatching<T>(\n    ar: T[],\n    matchingFn: (v: T, idx: number) => boolean\n): number {\n    let count = 0;\n    let idx = -1;\n    for (const item of ar) {\n        idx = idx + 1;\n        const matching = matchingFn(item, idx);\n        if (matching) {\n            count = count + 1;\n        } else {\n            break;\n        }\n    }\n    return count;\n}\n\nexport async function asyncFilter<T>(array: T[], predicate: (item: T, index: number, a: T[]) => MaybePromise<boolean>): Promise<T[]> {\n    const filters = await Promise.all(\n        array.map(predicate)\n    );\n\n    return array.filter((...[, index]) => filters[index]);\n}\n\n/**\n * @link https://stackoverflow.com/a/3762735\n */\nexport function sumNumberArray(array: number[]): number {\n    let count = 0;\n    for (let i = array.length; i--;) {\n        count += array[i];\n    }\n    return count;\n}\n\nexport function maxOfNumbers(arr: number[]): number {\n    return Math.max(...arr);\n}\n\n\n/**\n * Appends the given documents to the given array.\n * This will mutate the first given array.\n * Mostly used as faster alternative to Array.concat()\n * because .concat() is so slow.\n * @link https://www.measurethat.net/Benchmarks/Show/4223/0/array-concat-vs-spread-operator-vs-push#latest_results_block\n */\nexport function appendToArray<T>(ar: T[], add: T[] | readonly T[]): void {\n    const amount = add.length;\n    for (let i = 0; i < amount; ++i) {\n        const element = add[i];\n        ar.push(element);\n    }\n}\n\n/**\n * @link https://gist.github.com/telekosmos/3b62a31a5c43f40849bb\n */\nexport function uniqueArray(arrArg: string[]): string[] {\n    return arrArg.filter(function (elem, pos, arr) {\n        return arr.indexOf(elem) === pos;\n    });\n}\n\n","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (_isNativeReflectConstruct = function _isNativeReflectConstruct() {\n    return !!t;\n  })();\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeFunction from \"./isNativeFunction.js\";\nimport construct from \"./construct.js\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n      _cache.set(Class, Wrapper);\n    }\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  try {\n    return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n  } catch (e) {\n    return typeof fn === \"function\";\n  }\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nexport default function _construct(t, e, r) {\n  if (isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments);\n  var o = [null];\n  o.push.apply(o, e);\n  var p = new (t.bind.apply(t, o))();\n  return r && setPrototypeOf(p, r.prototype), p;\n}","/**\n * functions that can or should be overwritten by plugins\n * IMPORTANT: Do not import any big stuff from RxDB here!\n * An 'overwritable' can be used inside WebWorkers for RxStorage only,\n * and we do not want to have the full RxDB lib bundled in them.\n */\n\nimport type { DeepReadonly } from './types/util.d.ts';\n\nexport const overwritable = {\n    /**\n     * if this method is overwritten with one\n     * that returns true, we do additional checks\n     * which help the developer but have bad performance\n     */\n    isDevMode(): boolean {\n        return false;\n    },\n\n    /**\n     * Deep freezes and object when in dev-mode.\n     * Deep-Freezing has the same performance as deep-cloning, so we only do that in dev-mode.\n     * Also, we can ensure the readonly state via typescript\n     * @link https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n     */\n    deepFreezeWhenDevMode<T>(obj: T): DeepReadonly<T> {\n        return obj as any;\n    },\n\n    /**\n     * overwritten to map error-codes to text-messages\n     */\n    tunnelErrorMessage(message: string): string {\n        return `RxDB Error-Code ${message}.\n        Error messages are not included in RxDB core to reduce build size.\n        - To find out what this error means, either use the dev-mode-plugin https://rxdb.info/dev-mode.html\n        - or search for the error code here: https://github.com/pubkey/rxdb/search?q=${message}\n        `;\n    }\n};\n","/**\n * here we use custom errors with the additional field 'parameters'\n */\n\nimport { overwritable } from './overwritable.ts';\nimport type {\n    RxErrorParameters,\n    RxErrorKey,\n    RxStorageWriteError,\n    RxStorageWriteErrorConflict\n} from './types/index.d.ts';\n\n/**\n * transform an object of parameters to a presentable string\n */\nfunction parametersToString(parameters: any): string {\n    let ret = '';\n    if (Object.keys(parameters).length === 0)\n        return ret;\n    ret += 'Given parameters: {\\n';\n    ret += Object.keys(parameters)\n        .map(k => {\n            let paramStr = '[object Object]';\n            try {\n                if (k === 'errors') {\n                    paramStr = parameters[k].map((err: any) => JSON.stringify(err, Object.getOwnPropertyNames(err)));\n                } else {\n                    paramStr = JSON.stringify(parameters[k], function (_k, v) {\n                        return v === undefined ? null : v;\n                    }, 2);\n                }\n            } catch (e) { }\n            return k + ':' + paramStr;\n        })\n        .join('\\n');\n    ret += '}';\n    return ret;\n}\n\nfunction messageForError(\n    message: string,\n    code: string,\n    parameters: any\n): string {\n    return 'RxError (' + code + '):' + '\\n' +\n        message + '\\n' +\n        parametersToString(parameters);\n}\n\nexport class RxError extends Error {\n    public code: RxErrorKey;\n    public message: string;\n    public parameters: RxErrorParameters;\n    // always true, use this to detect if its an rxdb-error\n    public rxdb: true;\n    constructor(\n        code: RxErrorKey,\n        message: string,\n        parameters: RxErrorParameters = {}\n    ) {\n        const mes = messageForError(message, code, parameters);\n        super(mes);\n        this.code = code;\n        this.message = mes;\n        this.parameters = parameters;\n        this.rxdb = true; // tag them as internal\n    }\n    get name(): string {\n        return 'RxError (' + this.code + ')';\n    }\n    toString(): string {\n        return this.message;\n    }\n    get typeError(): boolean {\n        return false;\n    }\n}\n\nexport class RxTypeError extends TypeError {\n    public code: RxErrorKey;\n    public message: string;\n    public parameters: RxErrorParameters;\n    // always true, use this to detect if its an rxdb-error\n    public rxdb: true;\n    constructor(\n        code: RxErrorKey,\n        message: string,\n        parameters: RxErrorParameters = {}\n    ) {\n        const mes = messageForError(message, code, parameters);\n        super(mes);\n        this.code = code;\n        this.message = mes;\n        this.parameters = parameters;\n        this.rxdb = true; // tag them as internal\n    }\n    get name(): string {\n        return 'RxTypeError (' + this.code + ')';\n    }\n    toString(): string {\n        return this.message;\n    }\n    get typeError(): boolean {\n        return true;\n    }\n}\n\nexport function newRxError(\n    code: RxErrorKey,\n    parameters?: RxErrorParameters\n): RxError {\n    return new RxError(\n        code,\n        overwritable.tunnelErrorMessage(code),\n        parameters\n    );\n}\n\nexport function newRxTypeError(\n    code: RxErrorKey,\n    parameters?: RxErrorParameters\n): RxTypeError {\n    return new RxTypeError(\n        code,\n        overwritable.tunnelErrorMessage(code),\n        parameters\n    );\n}\n\n\n/**\n * Returns the error if it is a 409 conflict,\n * return false if it is another error.\n */\nexport function isBulkWriteConflictError<RxDocType>(\n    err?: RxStorageWriteError<RxDocType> | any\n): RxStorageWriteErrorConflict<RxDocType> | false {\n    if (\n        err &&\n        err.status === 409\n    ) {\n        return err;\n    } else {\n        return false;\n    }\n}\n\n\nconst STORAGE_WRITE_ERROR_CODE_TO_MESSAGE: { [k: number]: string; } = {\n    409: 'document write conflict',\n    422: 'schema validation error',\n    510: 'attachment data missing'\n};\n\nexport function rxStorageWriteErrorToRxError(err: RxStorageWriteError<any>): RxError {\n    return newRxError('COL20', {\n        name: STORAGE_WRITE_ERROR_CODE_TO_MESSAGE[err.status],\n        document: err.documentId,\n        writeError: err\n    });\n}\n","\n/**\n * hook-functions that can be extended by the plugin\n */\nexport const HOOKS: { [k: string]: any[]; } = {\n    /**\n     * Runs before a plugin is added.\n     * Use this to block the usage of non-compatible plugins.\n     */\n    preAddRxPlugin: [],\n    /**\n     * functions that run before the database is created\n     */\n    preCreateRxDatabase: [],\n    /**\n     * runs after the database is created and prepared\n     * but before the instance is returned to the user\n     * @async\n     */\n    createRxDatabase: [],\n    preCreateRxCollection: [],\n    createRxCollection: [],\n    createRxState: [],\n    /**\n    * runs at the end of the destroy-process of a collection\n    * @async\n    */\n    postDestroyRxCollection: [],\n    /**\n     * Runs after a collection is removed.\n     * @async\n     */\n    postRemoveRxCollection: [],\n    /**\n      * functions that get the json-schema as input\n      * to do additionally checks/manipulation\n      */\n    preCreateRxSchema: [],\n    /**\n     * functions that run after the RxSchema is created\n     * gets RxSchema as attribute\n     */\n    createRxSchema: [],\n    preCreateRxQuery: [],\n    /**\n     * Runs before a query is send to the\n     * prepareQuery function of the storage engine.\n     */\n    prePrepareQuery: [],\n    createRxDocument: [],\n    /**\n     * runs after a RxDocument is created,\n     * cannot be async\n     */\n    postCreateRxDocument: [],\n    /**\n     * Runs before a RxStorageInstance is created\n     * gets the params of createStorageInstance()\n     * as attribute so you can manipulate them.\n     * Notice that you have to clone stuff before mutating the inputs.\n     */\n    preCreateRxStorageInstance: [],\n    /**\n     * runs on the document-data before the document is migrated\n     * {\n     *   doc: Object, // original doc-data\n     *   migrated: // migrated doc-data after run through migration-strategies\n     * }\n     */\n    preMigrateDocument: [],\n    /**\n     * runs after the migration of a document has been done\n     */\n    postMigrateDocument: [],\n    /**\n     * runs at the beginning of the destroy-process of a database\n     */\n    preDestroyRxDatabase: [],\n    /**\n     * runs after a database has been removed\n     * @async\n     */\n    postRemoveRxDatabase: [],\n\n    /**\n     * runs before the replication writes the rows to master\n     * but before the rows have been modified\n     * @async\n     */\n    preReplicationMasterWrite: [],\n\n    /**\n     * runs after the replication has been sent to the server\n     * but before the new documents have been handled\n     * @async\n     */\n    preReplicationMasterWriteDocumentsHandle: [],\n};\n\nexport function runPluginHooks(hookKey: string, obj: any) {\n    if (HOOKS[hookKey]) {\n        HOOKS[hookKey].forEach(fun => fun(obj));\n    }\n}\n\n\n/**\n * TODO\n * we should not run the hooks in parallel\n * this makes stuff unpredictable.\n */\nexport function runAsyncPluginHooks(hookKey: string, obj: any): Promise<any> {\n    return Promise.all(\n        HOOKS[hookKey].map(fun => fun(obj))\n    );\n}\n\n/**\n * used in tests to remove hooks\n */\nexport function _clearHook(type: string, fun: Function) {\n    HOOKS[type] = HOOKS[type].filter(h => h !== fun);\n}\n","export const REGEX_ALL_DOTS = /\\./g;\nexport const REGEX_ALL_PIPES = /\\|/g;\n","const COUCH_NAME_CHARS = 'abcdefghijklmnopqrstuvwxyz';\n/**\n * get a random string which can be used with couchdb\n * @link http://stackoverflow.com/a/1349426/3443137\n */\nexport function randomCouchString(length: number = 10): string {\n    let text = '';\n\n    for (let i = 0; i < length; i++) {\n        text += COUCH_NAME_CHARS.charAt(Math.floor(Math.random() * COUCH_NAME_CHARS.length));\n    }\n\n    return text;\n}\n\n\n/**\n * A random string that is never inside of any storage\n */\nexport const RANDOM_STRING = 'Fz7SZXPmYJujkzjY1rpXWvlWBqoGAfAX';\n\n/**\n * uppercase first char\n */\nexport function ucfirst(str: string): string {\n    str += '';\n    const f = str.charAt(0)\n        .toUpperCase();\n    return f + str.substr(1);\n}\n\n/**\n * removes trailing and ending dots from the string\n */\nexport function trimDots(str: string): string {\n    // start\n    while (str.charAt(0) === '.') {\n        str = str.substr(1);\n    }\n\n    // end\n    while (str.slice(-1) === '.') {\n        str = str.slice(0, -1);\n    }\n\n    return str;\n}\n\n/**\n * @link https://stackoverflow.com/a/44950500/3443137\n */\nexport function lastCharOfString(str: string): string {\n    return str.charAt(str.length - 1);\n}\n\n/**\n * returns true if the given name is likely a folder path\n */\nexport function isFolderPath(name: string) {\n    // do not check, if foldername is given\n    if (\n        name.includes('/') || // unix\n        name.includes('\\\\') // windows\n    ) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\n\n/**\n * @link https://gist.github.com/andreburgaud/6f73fd2d690b629346b8\n * @link https://stackoverflow.com/a/76240378/3443137\n */\nexport function arrayBufferToString(arrayBuffer: ArrayBuffer): string {\n    const chunkSize = 8192;\n    let str = '';\n    var len = arrayBuffer.byteLength;\n    for (let i = 0; i < len; i += chunkSize) {\n        const chunk = new Uint8Array(\n            arrayBuffer,\n            i,\n            Math.min(chunkSize, len - i)\n        );\n        str += String.fromCharCode.apply(null, chunk as any);\n    }\n    return str;\n}\n\nexport function stringToArrayBuffer(str: string): ArrayBuffer {\n    const buf = new ArrayBuffer(str.length);\n    const bufView = new Uint8Array(buf);\n    for (let i = 0, strLen = str.length; i < strLen; i++) {\n        bufView[i] = str.charCodeAt(i);\n    }\n    return buf;\n}\n","/**\n * Copied from\n * @link https://github.com/sindresorhus/dot-prop/blob/main/index.js\n * because it is currently an esm only module.\n * TODO use the npm package again when RxDB is also fully esm.\n */\n\nconst isObject = (value: null) => {\n    const type = typeof value;\n    return value !== null && (type === 'object' || type === 'function');\n};\n\nconst disallowedKeys = new Set([\n    '__proto__',\n    'prototype',\n    'constructor',\n]);\n\nconst digits = new Set('0123456789');\n\nfunction getPathSegments(path: string) {\n    const parts = [];\n    let currentSegment = '';\n    let currentPart = 'start';\n    let isIgnoring = false;\n\n    for (const character of path) {\n        switch (character) {\n            case '\\\\': {\n                if (currentPart === 'index') {\n                    throw new Error('Invalid character in an index');\n                }\n\n                if (currentPart === 'indexEnd') {\n                    throw new Error('Invalid character after an index');\n                }\n\n                if (isIgnoring) {\n                    currentSegment += character;\n                }\n\n                currentPart = 'property';\n                isIgnoring = !isIgnoring;\n                break;\n            }\n\n            case '.': {\n                if (currentPart === 'index') {\n                    throw new Error('Invalid character in an index');\n                }\n\n                if (currentPart === 'indexEnd') {\n                    currentPart = 'property';\n                    break;\n                }\n\n                if (isIgnoring) {\n                    isIgnoring = false;\n                    currentSegment += character;\n                    break;\n                }\n\n                if (disallowedKeys.has(currentSegment)) {\n                    return [];\n                }\n\n                parts.push(currentSegment);\n                currentSegment = '';\n                currentPart = 'property';\n                break;\n            }\n\n            case '[': {\n                if (currentPart === 'index') {\n                    throw new Error('Invalid character in an index');\n                }\n\n                if (currentPart === 'indexEnd') {\n                    currentPart = 'index';\n                    break;\n                }\n\n                if (isIgnoring) {\n                    isIgnoring = false;\n                    currentSegment += character;\n                    break;\n                }\n\n                if (currentPart === 'property') {\n                    if (disallowedKeys.has(currentSegment)) {\n                        return [];\n                    }\n\n                    parts.push(currentSegment);\n                    currentSegment = '';\n                }\n\n                currentPart = 'index';\n                break;\n            }\n\n            case ']': {\n                if (currentPart === 'index') {\n                    parts.push(Number.parseInt(currentSegment, 10));\n                    currentSegment = '';\n                    currentPart = 'indexEnd';\n                    break;\n                }\n\n                if (currentPart === 'indexEnd') {\n                    throw new Error('Invalid character after an index');\n                }\n\n                // Falls through\n            }\n\n            default: {\n                if (currentPart === 'index' && !digits.has(character)) {\n                    throw new Error('Invalid character in an index');\n                }\n\n                if (currentPart === 'indexEnd') {\n                    throw new Error('Invalid character after an index');\n                }\n\n                if (currentPart === 'start') {\n                    currentPart = 'property';\n                }\n\n                if (isIgnoring) {\n                    isIgnoring = false;\n                    currentSegment += '\\\\';\n                }\n\n                currentSegment += character;\n            }\n        }\n    }\n\n    if (isIgnoring) {\n        currentSegment += '\\\\';\n    }\n\n    switch (currentPart) {\n        case 'property': {\n            if (disallowedKeys.has(currentSegment)) {\n                return [];\n            }\n\n            parts.push(currentSegment);\n\n            break;\n        }\n\n        case 'index': {\n            throw new Error('Index was not closed');\n        }\n\n        case 'start': {\n            parts.push('');\n\n            break;\n        }\n        // No default\n    }\n\n    return parts;\n}\n\nfunction isStringIndex(object: any[], key: string) {\n    if (typeof key !== 'number' && Array.isArray(object)) {\n        const index = Number.parseInt(key, 10);\n        return Number.isInteger(index) && object[index] === object[key as any];\n    }\n\n    return false;\n}\n\nfunction assertNotStringIndex(object: any, key: string | number) {\n    if (isStringIndex(object, key as any)) {\n        throw new Error('Cannot use string index');\n    }\n}\n\n/**\n * TODO we need some performance tests and improvements here.\n */\nexport function getProperty(object: any, path: string | string[], value?: any) {\n    if (Array.isArray(path)) {\n        path = path.join('.');\n    }\n\n    /**\n     * Performance shortcut.\n     * In most cases we just have a simple property name\n     * so we can directly return it.\n     */\n    if (\n        !path.includes('.') &&\n        !path.includes('[')\n    ) {\n        return object[path];\n    }\n\n    if (!isObject(object as any) || typeof path !== 'string') {\n        return value === undefined ? object : value;\n    }\n\n    const pathArray = getPathSegments(path);\n    if (pathArray.length === 0) {\n        return value;\n    }\n\n    for (let index = 0; index < pathArray.length; index++) {\n        const key = pathArray[index];\n\n        if (isStringIndex(object as any, key as any)) {\n            object = index === pathArray.length - 1 ? undefined : null;\n        } else {\n            object = (object as any)[key];\n        }\n\n        if (object === undefined || object === null) {\n            // `object` is either `undefined` or `null` so we want to stop the loop, and\n            // if this is not the last bit of the path, and\n            // if it didn't return `undefined`\n            // it would return `null` if `object` is `null`\n            // but we want `get({foo: null}, 'foo.bar')` to equal `undefined`, or the supplied value, not `null`\n            if (index !== pathArray.length - 1) {\n                return value;\n            }\n\n            break;\n        }\n    }\n\n    return object === undefined ? value : object;\n}\n\nexport function setProperty(object: any, path: string, value: any) {\n    if (Array.isArray(path)) {\n        path = path.join('.');\n    }\n\n    if (!isObject(object as any) || typeof path !== 'string') {\n        return object;\n    }\n\n    const root = object;\n    const pathArray = getPathSegments(path);\n\n    for (let index = 0; index < pathArray.length; index++) {\n        const key = pathArray[index];\n\n        assertNotStringIndex(object, key);\n\n        if (index === pathArray.length - 1) {\n            object[key] = value;\n        } else if (!isObject(object[key])) {\n            object[key] = typeof pathArray[index + 1] === 'number' ? [] : {};\n        }\n\n        object = object[key];\n    }\n\n    return root;\n}\n\nexport function deleteProperty(object: any, path: string) {\n    if (!isObject(object as any) || typeof path !== 'string') {\n        return false;\n    }\n\n    const pathArray = getPathSegments(path);\n\n    for (let index = 0; index < pathArray.length; index++) {\n        const key = pathArray[index];\n\n        assertNotStringIndex(object, key);\n\n        if (index === pathArray.length - 1) {\n            delete object[key];\n            return true;\n        }\n\n        object = object[key];\n\n        if (!isObject(object as any)) {\n            return false;\n        }\n    }\n}\n\nexport function hasProperty(object: any, path: string) {\n    if (!isObject(object) || typeof path !== 'string') {\n        return false;\n    }\n\n    const pathArray = getPathSegments(path);\n    if (pathArray.length === 0) {\n        return false;\n    }\n\n    for (const key of pathArray) {\n        if (!isObject(object) || !(key in object) || isStringIndex(object, key as any)) {\n            return false;\n        }\n\n        object = object[key];\n    }\n\n    return true;\n}\n\n// TODO: Backslashes with no effect should not be escaped\nfunction escapePath(path: string) {\n    if (typeof path !== 'string') {\n        throw new TypeError('Expected a string');\n    }\n\n    return path.replace(/[\\\\.[]/g, '\\\\$&');\n}\n\n// The keys returned by Object.entries() for arrays are strings\nfunction entries(value: any) {\n    if (Array.isArray(value)) {\n        return value.map((v, index) => [index, v]);\n    }\n\n    return Object.entries(value);\n}\n\nfunction stringifyPath(pathSegments: never[]) {\n    let result = '';\n\n    // eslint-disable-next-line prefer-const\n    for (let [index, segment] of entries(pathSegments)) {\n        if (typeof segment === 'number') {\n            result += `[${segment}]`;\n        } else {\n            segment = escapePath(segment);\n            result += index === 0 ? segment : `.${segment}`;\n        }\n    }\n\n    return result;\n}\n\nfunction* deepKeysIterator(object: any, currentPath = []): any {\n    if (!isObject(object)) {\n        if (currentPath.length > 0) {\n            yield stringifyPath(currentPath);\n        }\n\n        return;\n    }\n\n    for (const [key, value] of entries(object)) {\n        yield* deepKeysIterator(value, [...currentPath, key] as any);\n    }\n}\n\nexport function deepKeys(object: any) {\n    return [...deepKeysIterator(object)];\n}\n","import type {\n    DeepReadonly,\n    RxDocumentData,\n    RxDocumentMeta,\n    StringKeys,\n    WithDeleted,\n    WithDeletedAndAttachments\n} from '../../types/index.d.ts';\nimport { flatClone } from './utils-object.ts';\n/**\n * We use 1 as minimum so that the value is never falsy.\n * This const is used in several places because querying\n * with a value lower then the minimum could give false results.\n */\nexport const RX_META_LWT_MINIMUM = 1;\n\nexport function getDefaultRxDocumentMeta(): RxDocumentMeta {\n    return {\n        /**\n         * Set this to 1 to not waste performance\n         * while calling new Date()..\n         * The storage wrappers will anyway update\n         * the lastWrite time while calling transformDocumentDataFromRxDBToRxStorage()\n         */\n        lwt: RX_META_LWT_MINIMUM\n    };\n}\n\n/**\n * Returns a revision that is not valid.\n * Use this to have correct typings\n * while the storage wrapper anyway will overwrite the revision.\n */\nexport function getDefaultRevision(): string {\n    /**\n     * Use a non-valid revision format,\n     * to ensure that the RxStorage will throw\n     * when the revision is not replaced downstream.\n     */\n    return '';\n}\n\n\nexport function stripMetaDataFromDocument<RxDocType>(docData: RxDocumentData<RxDocType>): RxDocType {\n    return Object.assign({}, docData, {\n        _meta: undefined,\n        _deleted: undefined,\n        _rev: undefined\n    });\n}\n\n\n/**\n * Faster way to check the equality of document lists\n * compared to doing a deep-equal.\n * Here we only check the ids and revisions.\n */\nexport function areRxDocumentArraysEqual<RxDocType>(\n    primaryPath: StringKeys<RxDocumentData<RxDocType>>,\n    ar1: RxDocumentData<RxDocType>[],\n    ar2: RxDocumentData<RxDocType>[]\n): boolean {\n    if (ar1.length !== ar2.length) {\n        return false;\n    }\n    let i = 0;\n    const len = ar1.length;\n    while (i < len) {\n        const row1 = ar1[i];\n        const row2 = ar2[i];\n        i++;\n\n        if (\n            row1._rev !== row2._rev ||\n            row1[primaryPath] !== row2[primaryPath]\n        ) {\n            return false;\n        }\n    }\n    return true;\n}\n\n\n\nexport function getSortDocumentsByLastWriteTimeComparator<RxDocType>(primaryPath: string) {\n    return (a: RxDocumentData<RxDocType>, b: RxDocumentData<RxDocType>) => {\n        if (a._meta.lwt === b._meta.lwt) {\n            if ((b as any)[primaryPath] < (a as any)[primaryPath]) {\n                return 1;\n            } else {\n                return -1;\n            }\n        } else {\n            return a._meta.lwt - b._meta.lwt;\n        }\n    };\n}\nexport function sortDocumentsByLastWriteTime<RxDocType>(\n    primaryPath: string,\n    docs: RxDocumentData<RxDocType>[]\n): RxDocumentData<RxDocType>[] {\n    return docs.sort(getSortDocumentsByLastWriteTimeComparator(primaryPath));\n}\n\ntype AnyDocFormat<RxDocType> = RxDocType | WithDeleted<RxDocType> | RxDocumentData<RxDocType> | WithDeletedAndAttachments<RxDocType>;\nexport function toWithDeleted<RxDocType>(\n    docData: AnyDocFormat<RxDocType> | DeepReadonly<AnyDocFormat<RxDocType>>\n): WithDeleted<RxDocType> {\n    docData = flatClone(docData);\n    (docData as any)._deleted = !!(docData as any)._deleted;\n    return Object.assign(docData as any, {\n        _attachments: undefined,\n        _meta: undefined,\n        _rev: undefined\n    }) as any;\n}\n","import { newRxError } from './rx-error.ts';\nimport type {\n    CompositePrimaryKey,\n    DeepReadonly,\n    JsonSchema,\n    PrimaryKey,\n    RxDocumentData,\n    RxJsonSchema,\n    RxStorageDefaultCheckpoint,\n    StringKeys\n} from './types/index.d.ts';\nimport {\n    appendToArray,\n    ensureNotFalsy,\n    flatClone,\n    getProperty,\n    isMaybeReadonlyArray,\n    REGEX_ALL_DOTS,\n    RX_META_LWT_MINIMUM,\n    sortObject,\n    trimDots\n} from './plugins/utils/index.ts';\nimport type { RxSchema } from './rx-schema.ts';\n\n/**\n * Helper function to create a valid RxJsonSchema\n * with a given version.\n */\nexport function getPseudoSchemaForVersion<T = any>(\n    version: number,\n    primaryKey: StringKeys<T>\n): RxJsonSchema<RxDocumentData<T>> {\n    const pseudoSchema: RxJsonSchema<RxDocumentData<T>> = fillWithDefaultSettings({\n        version,\n        type: 'object',\n        primaryKey: primaryKey as any,\n        properties: {\n            [primaryKey]: {\n                type: 'string',\n                maxLength: 100\n            }\n        } as any,\n        indexes: [\n            [primaryKey]\n        ],\n        required: [primaryKey]\n    });\n    return pseudoSchema;\n}\n\n/**\n * Returns the sub-schema for a given path\n */\nexport function getSchemaByObjectPath<T = any>(\n    rxJsonSchema: RxJsonSchema<T>,\n    path: keyof T | string\n): JsonSchema {\n    let usePath: string = path as string;\n    usePath = usePath.replace(REGEX_ALL_DOTS, '.properties.');\n    usePath = 'properties.' + usePath;\n    usePath = trimDots(usePath);\n\n    const ret = getProperty(rxJsonSchema, usePath);\n    return ret;\n}\n\nexport function fillPrimaryKey<T>(\n    primaryPath: keyof T,\n    jsonSchema: RxJsonSchema<T>,\n    documentData: RxDocumentData<T>\n): RxDocumentData<T> {\n    // optimization shortcut.\n    if (typeof jsonSchema.primaryKey === 'string') {\n        return documentData;\n    }\n\n    const newPrimary = getComposedPrimaryKeyOfDocumentData<T>(\n        jsonSchema,\n        documentData\n    );\n    const existingPrimary: string | undefined = documentData[primaryPath] as any;\n    if (\n        existingPrimary &&\n        existingPrimary !== newPrimary\n    ) {\n        throw newRxError(\n            'DOC19',\n            {\n                args: {\n                    documentData,\n                    existingPrimary,\n                    newPrimary,\n                },\n                schema: jsonSchema\n            });\n    }\n\n    (documentData as any)[primaryPath] = newPrimary;\n    return documentData;\n}\n\nexport function getPrimaryFieldOfPrimaryKey<RxDocType>(\n    primaryKey: PrimaryKey<RxDocType>\n): StringKeys<RxDocType> {\n    if (typeof primaryKey === 'string') {\n        return primaryKey as any;\n    } else {\n        return (primaryKey as CompositePrimaryKey<RxDocType>).key;\n    }\n}\n\nexport function getLengthOfPrimaryKey<RxDocType>(\n    schema: RxJsonSchema<RxDocumentData<RxDocType>>\n): number {\n    const primaryPath = getPrimaryFieldOfPrimaryKey(schema.primaryKey);\n    const schemaPart = getSchemaByObjectPath(schema, primaryPath);\n    return ensureNotFalsy(schemaPart.maxLength);\n}\n\n/**\n * Returns the composed primaryKey of a document by its data.\n */\nexport function getComposedPrimaryKeyOfDocumentData<RxDocType>(\n    jsonSchema: RxJsonSchema<RxDocType> | RxJsonSchema<RxDocumentData<RxDocType>>,\n    documentData: Partial<RxDocType>\n): string {\n    if (typeof jsonSchema.primaryKey === 'string') {\n        return (documentData as any)[jsonSchema.primaryKey];\n    }\n\n    const compositePrimary: CompositePrimaryKey<RxDocType> = jsonSchema.primaryKey as any;\n    return compositePrimary.fields.map(field => {\n        const value = getProperty(documentData as any, field as string);\n        if (typeof value === 'undefined') {\n            throw newRxError('DOC18', { args: { field, documentData } });\n        }\n        return value;\n    }).join(compositePrimary.separator);\n}\n\n\n/**\n * Normalize the RxJsonSchema.\n * We need this to ensure everything is set up properly\n * and we have the same hash on schemas that represent the same value but\n * have different json.\n *\n * - Orders the schemas attributes by alphabetical order\n * - Adds the primaryKey to all indexes that do not contain the primaryKey\n * - We need this for deterministic sort order on all queries, which is required for event-reduce to work.\n *\n * @return RxJsonSchema - ordered and filled\n */\nexport function normalizeRxJsonSchema<T>(jsonSchema: RxJsonSchema<T>): RxJsonSchema<T> {\n    const normalizedSchema: RxJsonSchema<T> = sortObject(jsonSchema, true);\n    return normalizedSchema;\n}\n\n/**\n * If the schema does not specify any index,\n * we add this index so we at least can run RxQuery()\n * and only select non-deleted fields.\n */\nexport function getDefaultIndex(primaryPath: string) {\n    return ['_deleted', primaryPath];\n}\n\n/**\n * fills the schema-json with default-settings\n * @return cloned schemaObj\n */\nexport function fillWithDefaultSettings<T = any>(\n    schemaObj: RxJsonSchema<T>\n): RxJsonSchema<RxDocumentData<T>> {\n    schemaObj = flatClone(schemaObj);\n    const primaryPath: string = getPrimaryFieldOfPrimaryKey(schemaObj.primaryKey);\n    schemaObj.properties = flatClone(schemaObj.properties);\n\n    // additionalProperties is always false\n    schemaObj.additionalProperties = false;\n\n    // fill with key-compression-state ()\n    if (!Object.prototype.hasOwnProperty.call(schemaObj, 'keyCompression')) {\n        schemaObj.keyCompression = false;\n    }\n\n    // indexes must be array\n    schemaObj.indexes = schemaObj.indexes ? schemaObj.indexes.slice(0) : [];\n\n    // required must be array\n    schemaObj.required = schemaObj.required ? schemaObj.required.slice(0) : [];\n\n    // encrypted must be array\n    schemaObj.encrypted = schemaObj.encrypted ? schemaObj.encrypted.slice(0) : [];\n\n    // add _rev\n    (schemaObj.properties as any)._rev = {\n        type: 'string',\n        minLength: 1\n    };\n\n    // add attachments\n    (schemaObj.properties as any)._attachments = {\n        type: 'object'\n    };\n\n    // add deleted flag\n    (schemaObj.properties as any)._deleted = {\n        type: 'boolean'\n    };\n\n    // add meta property\n    (schemaObj.properties as any)._meta = RX_META_SCHEMA;\n\n    /**\n     * meta fields are all required\n     */\n    schemaObj.required = schemaObj.required ? schemaObj.required.slice(0) : [];\n    (schemaObj.required as string[]).push('_deleted');\n    (schemaObj.required as string[]).push('_rev');\n    (schemaObj.required as string[]).push('_meta');\n    (schemaObj.required as string[]).push('_attachments');\n\n    // final fields are always required\n    const finalFields = getFinalFields(schemaObj);\n    appendToArray(schemaObj.required as any, finalFields);\n    schemaObj.required = schemaObj.required\n        .filter((field: string) => !field.includes('.'))\n        .filter((elem: any, pos: any, arr: any) => arr.indexOf(elem) === pos); // unique;\n\n    // version is 0 by default\n    schemaObj.version = schemaObj.version || 0;\n\n    const useIndexes: string[][] = schemaObj.indexes.map(index => {\n        const arIndex = isMaybeReadonlyArray(index) ? index.slice(0) : [index];\n        /**\n         * Append primary key to indexes that do not contain the primaryKey.\n         * All indexes must have the primaryKey to ensure a deterministic sort order.\n         */\n        if (!arIndex.includes(primaryPath)) {\n            arIndex.push(primaryPath);\n        }\n\n        // add _deleted flag to all indexes so we can query only non-deleted fields\n        // in RxDB itself\n        if (arIndex[0] !== '_deleted') {\n            arIndex.unshift('_deleted');\n        }\n\n        return arIndex;\n    });\n\n    if (useIndexes.length === 0) {\n        useIndexes.push(getDefaultIndex(primaryPath));\n    }\n\n    // we need this index for the getChangedDocumentsSince() method\n    useIndexes.push(['_meta.lwt', primaryPath]);\n\n    // also add the internalIndexes\n    if (schemaObj.internalIndexes) {\n        schemaObj.internalIndexes.map(idx => {\n            useIndexes.push(idx);\n        });\n    }\n\n    // make indexes unique\n    const hasIndex = new Set<string>();\n    useIndexes.filter(index => {\n        const indexStr = index.join(',');\n        if (hasIndex.has(indexStr)) {\n            return false;\n        } else {\n            hasIndex.add(indexStr);\n            return true;\n        }\n    });\n\n    schemaObj.indexes = useIndexes;\n\n    return schemaObj as any;\n}\n\n\nexport const RX_META_SCHEMA: JsonSchema = {\n    type: 'object',\n    properties: {\n        /**\n         * The last-write time.\n         * Unix time in milliseconds.\n         */\n        lwt: {\n            type: 'number',\n            /**\n             * We use 1 as minimum so that the value is never falsy.\n             */\n            minimum: RX_META_LWT_MINIMUM,\n            maximum: 1000000000000000,\n            multipleOf: 0.01\n        }\n    },\n    /**\n     * Additional properties are allowed\n     * and can be used by plugins to set various flags.\n     */\n    additionalProperties: true as any,\n    required: [\n        'lwt'\n    ]\n};\n\n\n/**\n * returns the final-fields of the schema\n * @return field-names of the final-fields\n */\nexport function getFinalFields<T = any>(\n    jsonSchema: RxJsonSchema<T>\n): string[] {\n    const ret = Object.keys(jsonSchema.properties)\n        .filter(key => (jsonSchema as any).properties[key].final);\n\n    // primary is also final\n    const primaryPath = getPrimaryFieldOfPrimaryKey(jsonSchema.primaryKey);\n    ret.push(primaryPath);\n\n    // fields of composite primary are final\n    if (typeof jsonSchema.primaryKey !== 'string') {\n        (jsonSchema.primaryKey as CompositePrimaryKey<T>).fields\n            .forEach(field => ret.push(field as string));\n    }\n\n    return ret;\n}\n\n/**\n * fills all unset fields with default-values if set\n * @hotPath\n */\nexport function fillObjectWithDefaults(rxSchema: RxSchema<any>, obj: any): any {\n    const defaultKeys = Object.keys(rxSchema.defaultValues);\n    for (let i = 0; i < defaultKeys.length; ++i) {\n        const key = defaultKeys[i];\n        if (!Object.prototype.hasOwnProperty.call(obj, key) || typeof obj[key] === 'undefined') {\n            obj[key] = rxSchema.defaultValues[key];\n        }\n    }\n    return obj;\n}\n\nexport const DEFAULT_CHECKPOINT_SCHEMA: DeepReadonly<JsonSchema<RxStorageDefaultCheckpoint>> = {\n    type: 'object',\n    properties: {\n        id: {\n            type: 'string'\n        },\n        lwt: {\n            type: 'number'\n        }\n    },\n    required: [\n        'id',\n        'lwt'\n    ],\n    additionalProperties: false\n} as const;\n","import {\n    overwriteGetterForCaching,\n    isMaybeReadonlyArray,\n    deepEqual\n} from './plugins/utils/index.ts';\nimport {\n    newRxError,\n} from './rx-error.ts';\nimport {\n    runPluginHooks\n} from './hooks.ts';\n\nimport type {\n    DeepMutable,\n    DeepReadonly,\n    HashFunction,\n    MaybeReadonly,\n    RxDocument,\n    RxDocumentData,\n    RxJsonSchema,\n    StringKeys\n} from './types/index.d.ts';\nimport {\n    fillWithDefaultSettings,\n    getComposedPrimaryKeyOfDocumentData,\n    getFinalFields,\n    getPrimaryFieldOfPrimaryKey,\n    getSchemaByObjectPath,\n    normalizeRxJsonSchema\n} from './rx-schema-helper.ts';\nimport { overwritable } from './overwritable.ts';\n\nexport class RxSchema<RxDocType = any> {\n    public indexes: MaybeReadonly<string[]>[];\n    public readonly primaryPath: StringKeys<RxDocumentData<RxDocType>>;\n    public finalFields: string[];\n\n    constructor(\n        public readonly jsonSchema: RxJsonSchema<RxDocumentData<RxDocType>>,\n        public readonly hashFunction: HashFunction\n    ) {\n        this.indexes = getIndexes(this.jsonSchema);\n\n        // primary is always required\n        this.primaryPath = getPrimaryFieldOfPrimaryKey(this.jsonSchema.primaryKey);\n\n        this.finalFields = getFinalFields(this.jsonSchema);\n    }\n\n    public get version(): number {\n        return this.jsonSchema.version;\n    }\n\n    public get defaultValues(): { [P in keyof RxDocType]: RxDocType[P] } {\n        const values = {} as { [P in keyof RxDocType]: RxDocType[P] };\n        Object\n            .entries(this.jsonSchema.properties)\n            .filter(([, v]) => Object.prototype.hasOwnProperty.call(v, 'default'))\n            .forEach(([k, v]) => (values as any)[k] = (v as any).default);\n        return overwriteGetterForCaching(\n            this,\n            'defaultValues',\n            values\n        );\n    }\n\n    /**\n     * @overrides itself on the first call\n     *\n     * TODO this should be a pure function that\n     * caches the hash in a WeakMap.\n     */\n    public get hash(): Promise<string> {\n        return overwriteGetterForCaching(\n            this,\n            'hash',\n            this.hashFunction(JSON.stringify(this.jsonSchema))\n        );\n    }\n\n    /**\n     * checks if a given change on a document is allowed\n     * Ensures that:\n     * - final fields are not modified\n     * @throws {Error} if not valid\n     */\n    validateChange(dataBefore: any, dataAfter: any): void {\n        this.finalFields.forEach(fieldName => {\n            if (!deepEqual(dataBefore[fieldName], dataAfter[fieldName])) {\n                throw newRxError('DOC9', {\n                    dataBefore,\n                    dataAfter,\n                    fieldName,\n                    schema: this.jsonSchema\n                });\n            }\n        });\n    }\n\n    /**\n     * creates the schema-based document-prototype,\n     * see RxCollection.getDocumentPrototype()\n     */\n    public getDocumentPrototype(): any {\n        const proto: any = {};\n\n        /**\n         * On the top level, we know all keys\n         * and therefore do not have to create a new Proxy object\n         * for each document. Instead we define the getter in the prototype once.\n         */\n        const pathProperties = getSchemaByObjectPath(\n            this.jsonSchema,\n            ''\n        );\n        Object.keys(pathProperties)\n            .forEach(key => {\n                const fullPath = key;\n\n                // getter - value\n                proto.__defineGetter__(\n                    key,\n                    function (this: RxDocument) {\n                        if (!this.get || typeof this.get !== 'function') {\n                            /**\n                             * When an object gets added to the state of a vuejs-component,\n                             * it happens that this getter is called with another scope.\n                             * To prevent errors, we have to return undefined in this case\n                             */\n                            return undefined;\n                        }\n                        const ret = this.get(fullPath);\n                        return ret;\n                    }\n                );\n                // getter - observable$\n                Object.defineProperty(proto, key + '$', {\n                    get: function () {\n                        return this.get$(fullPath);\n                    },\n                    enumerable: false,\n                    configurable: false\n                });\n                // getter - reactivity$$\n                Object.defineProperty(proto, key + '$$', {\n                    get: function () {\n                        return this.get$$(fullPath);\n                    },\n                    enumerable: false,\n                    configurable: false\n                });\n                // getter - populate_\n                Object.defineProperty(proto, key + '_', {\n                    get: function () {\n                        return this.populate(fullPath);\n                    },\n                    enumerable: false,\n                    configurable: false\n                });\n            });\n\n        overwriteGetterForCaching(\n            this,\n            'getDocumentPrototype',\n            () => proto\n        );\n        return proto;\n    }\n\n\n    getPrimaryOfDocumentData(\n        documentData: Partial<RxDocType>\n    ): string {\n        return getComposedPrimaryKeyOfDocumentData(\n            this.jsonSchema,\n            documentData\n        );\n    }\n}\n\nexport function getIndexes<RxDocType = any>(\n    jsonSchema: RxJsonSchema<RxDocType>\n): MaybeReadonly<string[]>[] {\n    return (jsonSchema.indexes || []).map(index => isMaybeReadonlyArray(index) ? index : [index]);\n}\n\n/**\n * array with previous version-numbers\n */\nexport function getPreviousVersions(schema: RxJsonSchema<any>): number[] {\n    const version = schema.version ? schema.version : 0;\n    let c = 0;\n    return new Array(version)\n        .fill(0)\n        .map(() => c++);\n}\n\nexport function createRxSchema<T>(\n    jsonSchema: RxJsonSchema<T>,\n    hashFunction: HashFunction,\n    runPreCreateHooks = true\n): RxSchema<T> {\n    if (runPreCreateHooks) {\n        runPluginHooks('preCreateRxSchema', jsonSchema);\n    }\n\n    let useJsonSchema = fillWithDefaultSettings(jsonSchema);\n    useJsonSchema = normalizeRxJsonSchema(useJsonSchema);\n    overwritable.deepFreezeWhenDevMode(useJsonSchema);\n\n    const schema = new RxSchema(useJsonSchema, hashFunction);\n    runPluginHooks('createRxSchema', schema);\n    return schema;\n}\n\nexport function isRxSchema(obj: any): boolean {\n    return obj instanceof RxSchema;\n}\n\n/**\n * Used as helper function the generate the document type out of the schema via typescript.\n * @link https://github.com/pubkey/rxdb/discussions/3467\n */\nexport function toTypedRxJsonSchema<T extends DeepReadonly<RxJsonSchema<any>>>(schema: T): DeepMutable<T> {\n    return schema as any;\n}\n","/**\n * Returns true if the object is a function.\n * @param value The value to check\n */\nexport function isFunction(value: any): value is (...args: any[]) => any {\n  return typeof value === 'function';\n}\n","import { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { OperatorFunction } from '../types';\nimport { isFunction } from './isFunction';\n\n/**\n * Used to determine if an object is an Observable with a lift function.\n */\nexport function hasLift(source: any): source is { lift: InstanceType<typeof Observable>['lift'] } {\n  return isFunction(source?.lift);\n}\n\n/**\n * Creates an `OperatorFunction`. Used to define operators throughout the library in a concise way.\n * @param init The logic to connect the liftedSource to the subscriber at the moment of subscription.\n */\nexport function operate<T, R>(\n  init: (liftedSource: Observable<T>, subscriber: Subscriber<R>) => (() => void) | void\n): OperatorFunction<T, R> {\n  return (source: Observable<T>) => {\n    if (hasLift(source)) {\n      return source.lift(function (this: Subscriber<R>, liftedSource: Observable<T>) {\n        try {\n          return init(liftedSource, this);\n        } catch (err) {\n          this.error(err);\n        }\n      });\n    }\n    throw new TypeError('Unable to lift unknown Observable type');\n  };\n}\n","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","/**\n * Used to create Error subclasses until the community moves away from ES5.\n *\n * This is because compiling from TypeScript down to ES5 has issues with subclassing Errors\n * as well as other built-in types: https://github.com/Microsoft/TypeScript/issues/12123\n *\n * @param createImpl A factory function to create the actual constructor implementation. The returned\n * function should be a named function that calls `_super` internally.\n */\nexport function createErrorClass<T>(createImpl: (_super: any) => any): T {\n  const _super = (instance: any) => {\n    Error.call(instance);\n    instance.stack = new Error().stack;\n  };\n\n  const ctorFunc = createImpl(_super);\n  ctorFunc.prototype = Object.create(Error.prototype);\n  ctorFunc.prototype.constructor = ctorFunc;\n  return ctorFunc;\n}\n","import { createErrorClass } from './createErrorClass';\n\nexport interface UnsubscriptionError extends Error {\n  readonly errors: any[];\n}\n\nexport interface UnsubscriptionErrorCtor {\n  /**\n   * @deprecated Internal implementation detail. Do not construct error instances.\n   * Cannot be tagged as internal: https://github.com/ReactiveX/rxjs/issues/6269\n   */\n  new (errors: any[]): UnsubscriptionError;\n}\n\n/**\n * An error thrown when one or more errors have occurred during the\n * `unsubscribe` of a {@link Subscription}.\n */\nexport const UnsubscriptionError: UnsubscriptionErrorCtor = createErrorClass(\n  (_super) =>\n    function UnsubscriptionErrorImpl(this: any, errors: (Error | string)[]) {\n      _super(this);\n      this.message = errors\n        ? `${errors.length} errors occurred during unsubscription:\n${errors.map((err, i) => `${i + 1}) ${err.toString()}`).join('\\n  ')}`\n        : '';\n      this.name = 'UnsubscriptionError';\n      this.errors = errors;\n    }\n);\n","/**\n * Removes an item from an array, mutating it.\n * @param arr The array to remove the item from\n * @param item The item to remove\n */\nexport function arrRemove<T>(arr: T[] | undefined | null, item: T) {\n  if (arr) {\n    const index = arr.indexOf(item);\n    0 <= index && arr.splice(index, 1);\n  }\n}\n","import { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { SubscriptionLike, TeardownLogic, Unsubscribable } from './types';\nimport { arrRemove } from './util/arrRemove';\n\n/**\n * Represents a disposable resource, such as the execution of an Observable. A\n * Subscription has one important method, `unsubscribe`, that takes no argument\n * and just disposes the resource held by the subscription.\n *\n * Additionally, subscriptions may be grouped together through the `add()`\n * method, which will attach a child Subscription to the current Subscription.\n * When a Subscription is unsubscribed, all its children (and its grandchildren)\n * will be unsubscribed as well.\n *\n * @class Subscription\n */\nexport class Subscription implements SubscriptionLike {\n  /** @nocollapse */\n  public static EMPTY = (() => {\n    const empty = new Subscription();\n    empty.closed = true;\n    return empty;\n  })();\n\n  /**\n   * A flag to indicate whether this Subscription has already been unsubscribed.\n   */\n  public closed = false;\n\n  private _parentage: Subscription[] | Subscription | null = null;\n\n  /**\n   * The list of registered finalizers to execute upon unsubscription. Adding and removing from this\n   * list occurs in the {@link #add} and {@link #remove} methods.\n   */\n  private _finalizers: Exclude<TeardownLogic, void>[] | null = null;\n\n  /**\n   * @param initialTeardown A function executed first as part of the finalization\n   * process that is kicked off when {@link #unsubscribe} is called.\n   */\n  constructor(private initialTeardown?: () => void) {}\n\n  /**\n   * Disposes the resources held by the subscription. May, for instance, cancel\n   * an ongoing Observable execution or cancel any other type of work that\n   * started when the Subscription was created.\n   * @return {void}\n   */\n  unsubscribe(): void {\n    let errors: any[] | undefined;\n\n    if (!this.closed) {\n      this.closed = true;\n\n      // Remove this from it's parents.\n      const { _parentage } = this;\n      if (_parentage) {\n        this._parentage = null;\n        if (Array.isArray(_parentage)) {\n          for (const parent of _parentage) {\n            parent.remove(this);\n          }\n        } else {\n          _parentage.remove(this);\n        }\n      }\n\n      const { initialTeardown: initialFinalizer } = this;\n      if (isFunction(initialFinalizer)) {\n        try {\n          initialFinalizer();\n        } catch (e) {\n          errors = e instanceof UnsubscriptionError ? e.errors : [e];\n        }\n      }\n\n      const { _finalizers } = this;\n      if (_finalizers) {\n        this._finalizers = null;\n        for (const finalizer of _finalizers) {\n          try {\n            execFinalizer(finalizer);\n          } catch (err) {\n            errors = errors ?? [];\n            if (err instanceof UnsubscriptionError) {\n              errors = [...errors, ...err.errors];\n            } else {\n              errors.push(err);\n            }\n          }\n        }\n      }\n\n      if (errors) {\n        throw new UnsubscriptionError(errors);\n      }\n    }\n  }\n\n  /**\n   * Adds a finalizer to this subscription, so that finalization will be unsubscribed/called\n   * when this subscription is unsubscribed. If this subscription is already {@link #closed},\n   * because it has already been unsubscribed, then whatever finalizer is passed to it\n   * will automatically be executed (unless the finalizer itself is also a closed subscription).\n   *\n   * Closed Subscriptions cannot be added as finalizers to any subscription. Adding a closed\n   * subscription to a any subscription will result in no operation. (A noop).\n   *\n   * Adding a subscription to itself, or adding `null` or `undefined` will not perform any\n   * operation at all. (A noop).\n   *\n   * `Subscription` instances that are added to this instance will automatically remove themselves\n   * if they are unsubscribed. Functions and {@link Unsubscribable} objects that you wish to remove\n   * will need to be removed manually with {@link #remove}\n   *\n   * @param teardown The finalization logic to add to this subscription.\n   */\n  add(teardown: TeardownLogic): void {\n    // Only add the finalizer if it's not undefined\n    // and don't add a subscription to itself.\n    if (teardown && teardown !== this) {\n      if (this.closed) {\n        // If this subscription is already closed,\n        // execute whatever finalizer is handed to it automatically.\n        execFinalizer(teardown);\n      } else {\n        if (teardown instanceof Subscription) {\n          // We don't add closed subscriptions, and we don't add the same subscription\n          // twice. Subscription unsubscribe is idempotent.\n          if (teardown.closed || teardown._hasParent(this)) {\n            return;\n          }\n          teardown._addParent(this);\n        }\n        (this._finalizers = this._finalizers ?? []).push(teardown);\n      }\n    }\n  }\n\n  /**\n   * Checks to see if a this subscription already has a particular parent.\n   * This will signal that this subscription has already been added to the parent in question.\n   * @param parent the parent to check for\n   */\n  private _hasParent(parent: Subscription) {\n    const { _parentage } = this;\n    return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));\n  }\n\n  /**\n   * Adds a parent to this subscription so it can be removed from the parent if it\n   * unsubscribes on it's own.\n   *\n   * NOTE: THIS ASSUMES THAT {@link _hasParent} HAS ALREADY BEEN CHECKED.\n   * @param parent The parent subscription to add\n   */\n  private _addParent(parent: Subscription) {\n    const { _parentage } = this;\n    this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n  }\n\n  /**\n   * Called on a child when it is removed via {@link #remove}.\n   * @param parent The parent to remove\n   */\n  private _removeParent(parent: Subscription) {\n    const { _parentage } = this;\n    if (_parentage === parent) {\n      this._parentage = null;\n    } else if (Array.isArray(_parentage)) {\n      arrRemove(_parentage, parent);\n    }\n  }\n\n  /**\n   * Removes a finalizer from this subscription that was previously added with the {@link #add} method.\n   *\n   * Note that `Subscription` instances, when unsubscribed, will automatically remove themselves\n   * from every other `Subscription` they have been added to. This means that using the `remove` method\n   * is not a common thing and should be used thoughtfully.\n   *\n   * If you add the same finalizer instance of a function or an unsubscribable object to a `Subscription` instance\n   * more than once, you will need to call `remove` the same number of times to remove all instances.\n   *\n   * All finalizer instances are removed to free up memory upon unsubscription.\n   *\n   * @param teardown The finalizer to remove from this subscription\n   */\n  remove(teardown: Exclude<TeardownLogic, void>): void {\n    const { _finalizers } = this;\n    _finalizers && arrRemove(_finalizers, teardown);\n\n    if (teardown instanceof Subscription) {\n      teardown._removeParent(this);\n    }\n  }\n}\n\nexport const EMPTY_SUBSCRIPTION = Subscription.EMPTY;\n\nexport function isSubscription(value: any): value is Subscription {\n  return (\n    value instanceof Subscription ||\n    (value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe))\n  );\n}\n\nfunction execFinalizer(finalizer: Unsubscribable | (() => void)) {\n  if (isFunction(finalizer)) {\n    finalizer();\n  } else {\n    finalizer.unsubscribe();\n  }\n}\n","import { Subscriber } from './Subscriber';\nimport { ObservableNotification } from './types';\n\n/**\n * The {@link GlobalConfig} object for RxJS. It is used to configure things\n * like how to react on unhandled errors.\n */\nexport const config: GlobalConfig = {\n  onUnhandledError: null,\n  onStoppedNotification: null,\n  Promise: undefined,\n  useDeprecatedSynchronousErrorHandling: false,\n  useDeprecatedNextContext: false,\n};\n\n/**\n * The global configuration object for RxJS, used to configure things\n * like how to react on unhandled errors. Accessible via {@link config}\n * object.\n */\nexport interface GlobalConfig {\n  /**\n   * A registration point for unhandled errors from RxJS. These are errors that\n   * cannot were not handled by consuming code in the usual subscription path. For\n   * example, if you have this configured, and you subscribe to an observable without\n   * providing an error handler, errors from that subscription will end up here. This\n   * will _always_ be called asynchronously on another job in the runtime. This is because\n   * we do not want errors thrown in this user-configured handler to interfere with the\n   * behavior of the library.\n   */\n  onUnhandledError: ((err: any) => void) | null;\n\n  /**\n   * A registration point for notifications that cannot be sent to subscribers because they\n   * have completed, errored or have been explicitly unsubscribed. By default, next, complete\n   * and error notifications sent to stopped subscribers are noops. However, sometimes callers\n   * might want a different behavior. For example, with sources that attempt to report errors\n   * to stopped subscribers, a caller can configure RxJS to throw an unhandled error instead.\n   * This will _always_ be called asynchronously on another job in the runtime. This is because\n   * we do not want errors thrown in this user-configured handler to interfere with the\n   * behavior of the library.\n   */\n  onStoppedNotification: ((notification: ObservableNotification<any>, subscriber: Subscriber<any>) => void) | null;\n\n  /**\n   * The promise constructor used by default for {@link Observable#toPromise toPromise} and {@link Observable#forEach forEach}\n   * methods.\n   *\n   * @deprecated As of version 8, RxJS will no longer support this sort of injection of a\n   * Promise constructor. If you need a Promise implementation other than native promises,\n   * please polyfill/patch Promise as you see appropriate. Will be removed in v8.\n   */\n  Promise?: PromiseConstructorLike;\n\n  /**\n   * If true, turns on synchronous error rethrowing, which is a deprecated behavior\n   * in v6 and higher. This behavior enables bad patterns like wrapping a subscribe\n   * call in a try/catch block. It also enables producer interference, a nasty bug\n   * where a multicast can be broken for all observers by a downstream consumer with\n   * an unhandled error. DO NOT USE THIS FLAG UNLESS IT'S NEEDED TO BUY TIME\n   * FOR MIGRATION REASONS.\n   *\n   * @deprecated As of version 8, RxJS will no longer support synchronous throwing\n   * of unhandled errors. All errors will be thrown on a separate call stack to prevent bad\n   * behaviors described above. Will be removed in v8.\n   */\n  useDeprecatedSynchronousErrorHandling: boolean;\n\n  /**\n   * If true, enables an as-of-yet undocumented feature from v5: The ability to access\n   * `unsubscribe()` via `this` context in `next` functions created in observers passed\n   * to `subscribe`.\n   *\n   * This is being removed because the performance was severely problematic, and it could also cause\n   * issues when types other than POJOs are passed to subscribe as subscribers, as they will likely have\n   * their `this` context overwritten.\n   *\n   * @deprecated As of version 8, RxJS will no longer support altering the\n   * context of next functions provided as part of an observer to Subscribe. Instead,\n   * you will have access to a subscription or a signal or token that will allow you to do things like\n   * unsubscribe and test closed status. Will be removed in v8.\n   */\n  useDeprecatedNextContext: boolean;\n}\n","import type { TimerHandle } from './timerHandle';\ntype SetTimeoutFunction = (handler: () => void, timeout?: number, ...args: any[]) => TimerHandle;\ntype ClearTimeoutFunction = (handle: TimerHandle) => void;\n\ninterface TimeoutProvider {\n  setTimeout: SetTimeoutFunction;\n  clearTimeout: ClearTimeoutFunction;\n  delegate:\n    | {\n        setTimeout: SetTimeoutFunction;\n        clearTimeout: ClearTimeoutFunction;\n      }\n    | undefined;\n}\n\nexport const timeoutProvider: TimeoutProvider = {\n  // When accessing the delegate, use the variable rather than `this` so that\n  // the functions can be called without being bound to the provider.\n  setTimeout(handler: () => void, timeout?: number, ...args) {\n    const { delegate } = timeoutProvider;\n    if (delegate?.setTimeout) {\n      return delegate.setTimeout(handler, timeout, ...args);\n    }\n    return setTimeout(handler, timeout, ...args);\n  },\n  clearTimeout(handle) {\n    const { delegate } = timeoutProvider;\n    return (delegate?.clearTimeout || clearTimeout)(handle as any);\n  },\n  delegate: undefined,\n};\n","import { config } from '../config';\nimport { timeoutProvider } from '../scheduler/timeoutProvider';\n\n/**\n * Handles an error on another job either with the user-configured {@link onUnhandledError},\n * or by throwing it on that new job so it can be picked up by `window.onerror`, `process.on('error')`, etc.\n *\n * This should be called whenever there is an error that is out-of-band with the subscription\n * or when an error hits a terminal boundary of the subscription and no error handler was provided.\n *\n * @param err the error to report\n */\nexport function reportUnhandledError(err: any) {\n  timeoutProvider.setTimeout(() => {\n    const { onUnhandledError } = config;\n    if (onUnhandledError) {\n      // Execute the user-configured error handler.\n      onUnhandledError(err);\n    } else {\n      // Throw so it is picked up by the runtime's uncaught error mechanism.\n      throw err;\n    }\n  });\n}\n","/* tslint:disable:no-empty */\nexport function noop() { }\n","import { CompleteNotification, NextNotification, ErrorNotification } from './types';\n\n/**\n * A completion object optimized for memory use and created to be the\n * same \"shape\" as other notifications in v8.\n * @internal\n */\nexport const COMPLETE_NOTIFICATION = (() => createNotification('C', undefined, undefined) as CompleteNotification)();\n\n/**\n * Internal use only. Creates an optimized error notification that is the same \"shape\"\n * as other notifications.\n * @internal\n */\nexport function errorNotification(error: any): ErrorNotification {\n  return createNotification('E', undefined, error) as any;\n}\n\n/**\n * Internal use only. Creates an optimized next notification that is the same \"shape\"\n * as other notifications.\n * @internal\n */\nexport function nextNotification<T>(value: T) {\n  return createNotification('N', value, undefined) as NextNotification<T>;\n}\n\n/**\n * Ensures that all notifications created internally have the same \"shape\" in v8.\n *\n * TODO: This is only exported to support a crazy legacy test in `groupBy`.\n * @internal\n */\nexport function createNotification(kind: 'N' | 'E' | 'C', value: any, error: any) {\n  return {\n    kind,\n    value,\n    error,\n  };\n}\n","import { config } from '../config';\n\nlet context: { errorThrown: boolean; error: any } | null = null;\n\n/**\n * Handles dealing with errors for super-gross mode. Creates a context, in which\n * any synchronously thrown errors will be passed to {@link captureError}. Which\n * will record the error such that it will be rethrown after the call back is complete.\n * TODO: Remove in v8\n * @param cb An immediately executed function.\n */\nexport function errorContext(cb: () => void) {\n  if (config.useDeprecatedSynchronousErrorHandling) {\n    const isRoot = !context;\n    if (isRoot) {\n      context = { errorThrown: false, error: null };\n    }\n    cb();\n    if (isRoot) {\n      const { errorThrown, error } = context!;\n      context = null;\n      if (errorThrown) {\n        throw error;\n      }\n    }\n  } else {\n    // This is the general non-deprecated path for everyone that\n    // isn't crazy enough to use super-gross mode (useDeprecatedSynchronousErrorHandling)\n    cb();\n  }\n}\n\n/**\n * Captures errors only in super-gross mode.\n * @param err the error to capture\n */\nexport function captureError(err: any) {\n  if (config.useDeprecatedSynchronousErrorHandling && context) {\n    context.errorThrown = true;\n    context.error = err;\n  }\n}\n","import { isFunction } from './util/isFunction';\nimport { Observer, ObservableNotification } from './types';\nimport { isSubscription, Subscription } from './Subscription';\nimport { config } from './config';\nimport { reportUnhandledError } from './util/reportUnhandledError';\nimport { noop } from './util/noop';\nimport { nextNotification, errorNotification, COMPLETE_NOTIFICATION } from './NotificationFactories';\nimport { timeoutProvider } from './scheduler/timeoutProvider';\nimport { captureError } from './util/errorContext';\n\n/**\n * Implements the {@link Observer} interface and extends the\n * {@link Subscription} class. While the {@link Observer} is the public API for\n * consuming the values of an {@link Observable}, all Observers get converted to\n * a Subscriber, in order to provide Subscription-like capabilities such as\n * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n * implementing operators, but it is rarely used as a public API.\n *\n * @class Subscriber<T>\n */\nexport class Subscriber<T> extends Subscription implements Observer<T> {\n  /**\n   * A static factory for a Subscriber, given a (potentially partial) definition\n   * of an Observer.\n   * @param next The `next` callback of an Observer.\n   * @param error The `error` callback of an\n   * Observer.\n   * @param complete The `complete` callback of an\n   * Observer.\n   * @return A Subscriber wrapping the (partially defined)\n   * Observer represented by the given arguments.\n   * @nocollapse\n   * @deprecated Do not use. Will be removed in v8. There is no replacement for this\n   * method, and there is no reason to be creating instances of `Subscriber` directly.\n   * If you have a specific use case, please file an issue.\n   */\n  static create<T>(next?: (x?: T) => void, error?: (e?: any) => void, complete?: () => void): Subscriber<T> {\n    return new SafeSubscriber(next, error, complete);\n  }\n\n  /** @deprecated Internal implementation detail, do not use directly. Will be made internal in v8. */\n  protected isStopped: boolean = false;\n  /** @deprecated Internal implementation detail, do not use directly. Will be made internal in v8. */\n  protected destination: Subscriber<any> | Observer<any>; // this `any` is the escape hatch to erase extra type param (e.g. R)\n\n  /**\n   * @deprecated Internal implementation detail, do not use directly. Will be made internal in v8.\n   * There is no reason to directly create an instance of Subscriber. This type is exported for typings reasons.\n   */\n  constructor(destination?: Subscriber<any> | Observer<any>) {\n    super();\n    if (destination) {\n      this.destination = destination;\n      // Automatically chain subscriptions together here.\n      // if destination is a Subscription, then it is a Subscriber.\n      if (isSubscription(destination)) {\n        destination.add(this);\n      }\n    } else {\n      this.destination = EMPTY_OBSERVER;\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `next` from\n   * the Observable, with a value. The Observable may call this method 0 or more\n   * times.\n   * @param {T} [value] The `next` value.\n   * @return {void}\n   */\n  next(value?: T): void {\n    if (this.isStopped) {\n      handleStoppedNotification(nextNotification(value), this);\n    } else {\n      this._next(value!);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `error` from\n   * the Observable, with an attached `Error`. Notifies the Observer that\n   * the Observable has experienced an error condition.\n   * @param {any} [err] The `error` exception.\n   * @return {void}\n   */\n  error(err?: any): void {\n    if (this.isStopped) {\n      handleStoppedNotification(errorNotification(err), this);\n    } else {\n      this.isStopped = true;\n      this._error(err);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive a valueless notification of type\n   * `complete` from the Observable. Notifies the Observer that the Observable\n   * has finished sending push-based notifications.\n   * @return {void}\n   */\n  complete(): void {\n    if (this.isStopped) {\n      handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n    } else {\n      this.isStopped = true;\n      this._complete();\n    }\n  }\n\n  unsubscribe(): void {\n    if (!this.closed) {\n      this.isStopped = true;\n      super.unsubscribe();\n      this.destination = null!;\n    }\n  }\n\n  protected _next(value: T): void {\n    this.destination.next(value);\n  }\n\n  protected _error(err: any): void {\n    try {\n      this.destination.error(err);\n    } finally {\n      this.unsubscribe();\n    }\n  }\n\n  protected _complete(): void {\n    try {\n      this.destination.complete();\n    } finally {\n      this.unsubscribe();\n    }\n  }\n}\n\n/**\n * This bind is captured here because we want to be able to have\n * compatibility with monoid libraries that tend to use a method named\n * `bind`. In particular, a library called Monio requires this.\n */\nconst _bind = Function.prototype.bind;\n\nfunction bind<Fn extends (...args: any[]) => any>(fn: Fn, thisArg: any): Fn {\n  return _bind.call(fn, thisArg);\n}\n\n/**\n * Internal optimization only, DO NOT EXPOSE.\n * @internal\n */\nclass ConsumerObserver<T> implements Observer<T> {\n  constructor(private partialObserver: Partial<Observer<T>>) {}\n\n  next(value: T): void {\n    const { partialObserver } = this;\n    if (partialObserver.next) {\n      try {\n        partialObserver.next(value);\n      } catch (error) {\n        handleUnhandledError(error);\n      }\n    }\n  }\n\n  error(err: any): void {\n    const { partialObserver } = this;\n    if (partialObserver.error) {\n      try {\n        partialObserver.error(err);\n      } catch (error) {\n        handleUnhandledError(error);\n      }\n    } else {\n      handleUnhandledError(err);\n    }\n  }\n\n  complete(): void {\n    const { partialObserver } = this;\n    if (partialObserver.complete) {\n      try {\n        partialObserver.complete();\n      } catch (error) {\n        handleUnhandledError(error);\n      }\n    }\n  }\n}\n\nexport class SafeSubscriber<T> extends Subscriber<T> {\n  constructor(\n    observerOrNext?: Partial<Observer<T>> | ((value: T) => void) | null,\n    error?: ((e?: any) => void) | null,\n    complete?: (() => void) | null\n  ) {\n    super();\n\n    let partialObserver: Partial<Observer<T>>;\n    if (isFunction(observerOrNext) || !observerOrNext) {\n      // The first argument is a function, not an observer. The next\n      // two arguments *could* be observers, or they could be empty.\n      partialObserver = {\n        next: (observerOrNext ?? undefined) as (((value: T) => void) | undefined),\n        error: error ?? undefined,\n        complete: complete ?? undefined,\n      };\n    } else {\n      // The first argument is a partial observer.\n      let context: any;\n      if (this && config.useDeprecatedNextContext) {\n        // This is a deprecated path that made `this.unsubscribe()` available in\n        // next handler functions passed to subscribe. This only exists behind a flag\n        // now, as it is *very* slow.\n        context = Object.create(observerOrNext);\n        context.unsubscribe = () => this.unsubscribe();\n        partialObserver = {\n          next: observerOrNext.next && bind(observerOrNext.next, context),\n          error: observerOrNext.error && bind(observerOrNext.error, context),\n          complete: observerOrNext.complete && bind(observerOrNext.complete, context),\n        };\n      } else {\n        // The \"normal\" path. Just use the partial observer directly.\n        partialObserver = observerOrNext;\n      }\n    }\n\n    // Wrap the partial observer to ensure it's a full observer, and\n    // make sure proper error handling is accounted for.\n    this.destination = new ConsumerObserver(partialObserver);\n  }\n}\n\nfunction handleUnhandledError(error: any) {\n  if (config.useDeprecatedSynchronousErrorHandling) {\n    captureError(error);\n  } else {\n    // Ideal path, we report this as an unhandled error,\n    // which is thrown on a new call stack.\n    reportUnhandledError(error);\n  }\n}\n\n/**\n * An error handler used when no error handler was supplied\n * to the SafeSubscriber -- meaning no error handler was supplied\n * do the `subscribe` call on our observable.\n * @param err The error to handle\n */\nfunction defaultErrorHandler(err: any) {\n  throw err;\n}\n\n/**\n * A handler for notifications that cannot be sent to a stopped subscriber.\n * @param notification The notification being sent\n * @param subscriber The stopped subscriber\n */\nfunction handleStoppedNotification(notification: ObservableNotification<any>, subscriber: Subscriber<any>) {\n  const { onStoppedNotification } = config;\n  onStoppedNotification && timeoutProvider.setTimeout(() => onStoppedNotification(notification, subscriber));\n}\n\n/**\n * The observer used as a stub for subscriptions where the user did not\n * pass any arguments to `subscribe`. Comes with the default error handling\n * behavior.\n */\nexport const EMPTY_OBSERVER: Readonly<Observer<any>> & { closed: true } = {\n  closed: true,\n  next: noop,\n  error: defaultErrorHandler,\n  complete: noop,\n};\n","import { Subscriber } from '../Subscriber';\n\n/**\n * Creates an instance of an `OperatorSubscriber`.\n * @param destination The downstream subscriber.\n * @param onNext Handles next values, only called if this subscriber is not stopped or closed. Any\n * error that occurs in this function is caught and sent to the `error` method of this subscriber.\n * @param onError Handles errors from the subscription, any errors that occur in this handler are caught\n * and send to the `destination` error handler.\n * @param onComplete Handles completion notification from the subscription. Any errors that occur in\n * this handler are sent to the `destination` error handler.\n * @param onFinalize Additional teardown logic here. This will only be called on teardown if the\n * subscriber itself is not already closed. This is called after all other teardown logic is executed.\n */\nexport function createOperatorSubscriber<T>(\n  destination: Subscriber<any>,\n  onNext?: (value: T) => void,\n  onComplete?: () => void,\n  onError?: (err: any) => void,\n  onFinalize?: () => void\n): Subscriber<T> {\n  return new OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize);\n}\n\n/**\n * A generic helper for allowing operators to be created with a Subscriber and\n * use closures to capture necessary state from the operator function itself.\n */\nexport class OperatorSubscriber<T> extends Subscriber<T> {\n  /**\n   * Creates an instance of an `OperatorSubscriber`.\n   * @param destination The downstream subscriber.\n   * @param onNext Handles next values, only called if this subscriber is not stopped or closed. Any\n   * error that occurs in this function is caught and sent to the `error` method of this subscriber.\n   * @param onError Handles errors from the subscription, any errors that occur in this handler are caught\n   * and send to the `destination` error handler.\n   * @param onComplete Handles completion notification from the subscription. Any errors that occur in\n   * this handler are sent to the `destination` error handler.\n   * @param onFinalize Additional finalization logic here. This will only be called on finalization if the\n   * subscriber itself is not already closed. This is called after all other finalization logic is executed.\n   * @param shouldUnsubscribe An optional check to see if an unsubscribe call should truly unsubscribe.\n   * NOTE: This currently **ONLY** exists to support the strange behavior of {@link groupBy}, where unsubscription\n   * to the resulting observable does not actually disconnect from the source if there are active subscriptions\n   * to any grouped observable. (DO NOT EXPOSE OR USE EXTERNALLY!!!)\n   */\n  constructor(\n    destination: Subscriber<any>,\n    onNext?: (value: T) => void,\n    onComplete?: () => void,\n    onError?: (err: any) => void,\n    private onFinalize?: () => void,\n    private shouldUnsubscribe?: () => boolean\n  ) {\n    // It's important - for performance reasons - that all of this class's\n    // members are initialized and that they are always initialized in the same\n    // order. This will ensure that all OperatorSubscriber instances have the\n    // same hidden class in V8. This, in turn, will help keep the number of\n    // hidden classes involved in property accesses within the base class as\n    // low as possible. If the number of hidden classes involved exceeds four,\n    // the property accesses will become megamorphic and performance penalties\n    // will be incurred - i.e. inline caches won't be used.\n    //\n    // The reasons for ensuring all instances have the same hidden class are\n    // further discussed in this blog post from Benedikt Meurer:\n    // https://benediktmeurer.de/2018/03/23/impact-of-polymorphism-on-component-based-frameworks-like-react/\n    super(destination);\n    this._next = onNext\n      ? function (this: OperatorSubscriber<T>, value: T) {\n          try {\n            onNext(value);\n          } catch (err) {\n            destination.error(err);\n          }\n        }\n      : super._next;\n    this._error = onError\n      ? function (this: OperatorSubscriber<T>, err: any) {\n          try {\n            onError(err);\n          } catch (err) {\n            // Send any errors that occur down stream.\n            destination.error(err);\n          } finally {\n            // Ensure finalization.\n            this.unsubscribe();\n          }\n        }\n      : super._error;\n    this._complete = onComplete\n      ? function (this: OperatorSubscriber<T>) {\n          try {\n            onComplete();\n          } catch (err) {\n            // Send any errors that occur down stream.\n            destination.error(err);\n          } finally {\n            // Ensure finalization.\n            this.unsubscribe();\n          }\n        }\n      : super._complete;\n  }\n\n  unsubscribe() {\n    if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {\n      const { closed } = this;\n      super.unsubscribe();\n      // Execute additional teardown if we have any and we didn't already do so.\n      !closed && this.onFinalize?.();\n    }\n  }\n}\n","import { OperatorFunction } from '../types';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\n\nexport function map<T, R>(project: (value: T, index: number) => R): OperatorFunction<T, R>;\n/** @deprecated Use a closure instead of a `thisArg`. Signatures accepting a `thisArg` will be removed in v8. */\nexport function map<T, R, A>(project: (this: A, value: T, index: number) => R, thisArg: A): OperatorFunction<T, R>;\n\n/**\n * Applies a given `project` function to each value emitted by the source\n * Observable, and emits the resulting values as an Observable.\n *\n * <span class=\"informal\">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),\n * it passes each source value through a transformation function to get\n * corresponding output values.</span>\n *\n * ![](map.png)\n *\n * Similar to the well known `Array.prototype.map` function, this operator\n * applies a projection to each value and emits that projection in the output\n * Observable.\n *\n * ## Example\n *\n * Map every click to the `clientX` position of that click\n *\n * ```ts\n * import { fromEvent, map } from 'rxjs';\n *\n * const clicks = fromEvent<PointerEvent>(document, 'click');\n * const positions = clicks.pipe(map(ev => ev.clientX));\n *\n * positions.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link mapTo}\n * @see {@link pluck}\n *\n * @param {function(value: T, index: number): R} project The function to apply\n * to each `value` emitted by the source Observable. The `index` parameter is\n * the number `i` for the i-th emission that has happened since the\n * subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to define what `this` is in the\n * `project` function.\n * @return A function that returns an Observable that emits the values from the\n * source Observable transformed by the given `project` function.\n */\nexport function map<T, R>(project: (value: T, index: number) => R, thisArg?: any): OperatorFunction<T, R> {\n  return operate((source, subscriber) => {\n    // The index of the value from the source. Used with projection.\n    let index = 0;\n    // Subscribe to the source, all errors and completions are sent along\n    // to the consumer.\n    source.subscribe(\n      createOperatorSubscriber(subscriber, (value: T) => {\n        // Call the projection function with the appropriate this context,\n        // and send the resulting value to the consumer.\n        subscriber.next(project.call(thisArg, value, index++));\n      })\n    );\n  });\n}\n","import { OperatorFunction, MonoTypeOperatorFunction, TruthyTypesOf } from '../types';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\n\n/** @deprecated Use a closure instead of a `thisArg`. Signatures accepting a `thisArg` will be removed in v8. */\nexport function filter<T, S extends T, A>(predicate: (this: A, value: T, index: number) => value is S, thisArg: A): OperatorFunction<T, S>;\nexport function filter<T, S extends T>(predicate: (value: T, index: number) => value is S): OperatorFunction<T, S>;\nexport function filter<T>(predicate: BooleanConstructor): OperatorFunction<T, TruthyTypesOf<T>>;\n/** @deprecated Use a closure instead of a `thisArg`. Signatures accepting a `thisArg` will be removed in v8. */\nexport function filter<T, A>(predicate: (this: A, value: T, index: number) => boolean, thisArg: A): MonoTypeOperatorFunction<T>;\nexport function filter<T>(predicate: (value: T, index: number) => boolean): MonoTypeOperatorFunction<T>;\n\n/**\n * Filter items emitted by the source Observable by only emitting those that\n * satisfy a specified predicate.\n *\n * <span class=\"informal\">Like\n * [Array.prototype.filter()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter),\n * it only emits a value from the source if it passes a criterion function.</span>\n *\n * ![](filter.png)\n *\n * Similar to the well-known `Array.prototype.filter` method, this operator\n * takes values from the source Observable, passes them through a `predicate`\n * function and only emits those values that yielded `true`.\n *\n * ## Example\n *\n * Emit only click events whose target was a DIV element\n *\n * ```ts\n * import { fromEvent, filter } from 'rxjs';\n *\n * const div = document.createElement('div');\n * div.style.cssText = 'width: 200px; height: 200px; background: #09c;';\n * document.body.appendChild(div);\n *\n * const clicks = fromEvent(document, 'click');\n * const clicksOnDivs = clicks.pipe(filter(ev => (<HTMLElement>ev.target).tagName === 'DIV'));\n * clicksOnDivs.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link distinct}\n * @see {@link distinctUntilChanged}\n * @see {@link distinctUntilKeyChanged}\n * @see {@link ignoreElements}\n * @see {@link partition}\n * @see {@link skip}\n *\n * @param predicate A function that\n * evaluates each value emitted by the source Observable. If it returns `true`,\n * the value is emitted, if `false` the value is not passed to the output\n * Observable. The `index` parameter is the number `i` for the i-th source\n * emission that has happened since the subscription, starting from the number\n * `0`.\n * @param thisArg An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return A function that returns an Observable that emits items from the\n * source Observable that satisfy the specified `predicate`.\n */\nexport function filter<T>(predicate: (value: T, index: number) => boolean, thisArg?: any): MonoTypeOperatorFunction<T> {\n  return operate((source, subscriber) => {\n    // An index passed to our predicate function on each call.\n    let index = 0;\n\n    // Subscribe to the source, all errors and completions are\n    // forwarded to the consumer.\n    source.subscribe(\n      // Call the predicate with the appropriate `this` context,\n      // if the predicate returns `true`, then send the value\n      // to the consumer.\n      createOperatorSubscriber(subscriber, (value) => predicate.call(thisArg, value, index++) && subscriber.next(value))\n    );\n  });\n}\n","export const isArrayLike = (<T>(x: any): x is ArrayLike<T> => x && typeof x.length === 'number' && typeof x !== 'function');","import { isFunction } from \"./isFunction\";\n\n/**\n * Tests to see if the object is \"thennable\".\n * @param value the object to test\n */\nexport function isPromise(value: any): value is PromiseLike<any> {\n  return isFunction(value?.then);\n}\n","/**\n * Symbol.observable or a string \"@@observable\". Used for interop\n *\n * @deprecated We will no longer be exporting this symbol in upcoming versions of RxJS.\n * Instead polyfill and use Symbol.observable directly *or* use https://www.npmjs.com/package/symbol-observable\n */\nexport const observable: string | symbol = (() => (typeof Symbol === 'function' && Symbol.observable) || '@@observable')();\n","/**\n * This function takes one parameter and just returns it. Simply put,\n * this is like `<T>(x: T): T => x`.\n *\n * ## Examples\n *\n * This is useful in some cases when using things like `mergeMap`\n *\n * ```ts\n * import { interval, take, map, range, mergeMap, identity } from 'rxjs';\n *\n * const source$ = interval(1000).pipe(take(5));\n *\n * const result$ = source$.pipe(\n *   map(i => range(i)),\n *   mergeMap(identity) // same as mergeMap(x => x)\n * );\n *\n * result$.subscribe({\n *   next: console.log\n * });\n * ```\n *\n * Or when you want to selectively apply an operator\n *\n * ```ts\n * import { interval, take, identity } from 'rxjs';\n *\n * const shouldLimit = () => Math.random() < 0.5;\n *\n * const source$ = interval(1000);\n *\n * const result$ = source$.pipe(shouldLimit() ? take(5) : identity);\n *\n * result$.subscribe({\n *   next: console.log\n * });\n * ```\n *\n * @param x Any value that is returned by this function\n * @returns The value passed as the first parameter to this function\n */\nexport function identity<T>(x: T): T {\n  return x;\n}\n","import { identity } from './identity';\nimport { UnaryFunction } from '../types';\n\nexport function pipe(): typeof identity;\nexport function pipe<T, A>(fn1: UnaryFunction<T, A>): UnaryFunction<T, A>;\nexport function pipe<T, A, B>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>): UnaryFunction<T, B>;\nexport function pipe<T, A, B, C>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>): UnaryFunction<T, C>;\nexport function pipe<T, A, B, C, D>(\n  fn1: UnaryFunction<T, A>,\n  fn2: UnaryFunction<A, B>,\n  fn3: UnaryFunction<B, C>,\n  fn4: UnaryFunction<C, D>\n): UnaryFunction<T, D>;\nexport function pipe<T, A, B, C, D, E>(\n  fn1: UnaryFunction<T, A>,\n  fn2: UnaryFunction<A, B>,\n  fn3: UnaryFunction<B, C>,\n  fn4: UnaryFunction<C, D>,\n  fn5: UnaryFunction<D, E>\n): UnaryFunction<T, E>;\nexport function pipe<T, A, B, C, D, E, F>(\n  fn1: UnaryFunction<T, A>,\n  fn2: UnaryFunction<A, B>,\n  fn3: UnaryFunction<B, C>,\n  fn4: UnaryFunction<C, D>,\n  fn5: UnaryFunction<D, E>,\n  fn6: UnaryFunction<E, F>\n): UnaryFunction<T, F>;\nexport function pipe<T, A, B, C, D, E, F, G>(\n  fn1: UnaryFunction<T, A>,\n  fn2: UnaryFunction<A, B>,\n  fn3: UnaryFunction<B, C>,\n  fn4: UnaryFunction<C, D>,\n  fn5: UnaryFunction<D, E>,\n  fn6: UnaryFunction<E, F>,\n  fn7: UnaryFunction<F, G>\n): UnaryFunction<T, G>;\nexport function pipe<T, A, B, C, D, E, F, G, H>(\n  fn1: UnaryFunction<T, A>,\n  fn2: UnaryFunction<A, B>,\n  fn3: UnaryFunction<B, C>,\n  fn4: UnaryFunction<C, D>,\n  fn5: UnaryFunction<D, E>,\n  fn6: UnaryFunction<E, F>,\n  fn7: UnaryFunction<F, G>,\n  fn8: UnaryFunction<G, H>\n): UnaryFunction<T, H>;\nexport function pipe<T, A, B, C, D, E, F, G, H, I>(\n  fn1: UnaryFunction<T, A>,\n  fn2: UnaryFunction<A, B>,\n  fn3: UnaryFunction<B, C>,\n  fn4: UnaryFunction<C, D>,\n  fn5: UnaryFunction<D, E>,\n  fn6: UnaryFunction<E, F>,\n  fn7: UnaryFunction<F, G>,\n  fn8: UnaryFunction<G, H>,\n  fn9: UnaryFunction<H, I>\n): UnaryFunction<T, I>;\nexport function pipe<T, A, B, C, D, E, F, G, H, I>(\n  fn1: UnaryFunction<T, A>,\n  fn2: UnaryFunction<A, B>,\n  fn3: UnaryFunction<B, C>,\n  fn4: UnaryFunction<C, D>,\n  fn5: UnaryFunction<D, E>,\n  fn6: UnaryFunction<E, F>,\n  fn7: UnaryFunction<F, G>,\n  fn8: UnaryFunction<G, H>,\n  fn9: UnaryFunction<H, I>,\n  ...fns: UnaryFunction<any, any>[]\n): UnaryFunction<T, unknown>;\n\n/**\n * pipe() can be called on one or more functions, each of which can take one argument (\"UnaryFunction\")\n * and uses it to return a value.\n * It returns a function that takes one argument, passes it to the first UnaryFunction, and then\n * passes the result to the next one, passes that result to the next one, and so on.  \n */\nexport function pipe(...fns: Array<UnaryFunction<any, any>>): UnaryFunction<any, any> {\n  return pipeFromArray(fns);\n}\n\n/** @internal */\nexport function pipeFromArray<T, R>(fns: Array<UnaryFunction<T, R>>): UnaryFunction<T, R> {\n  if (fns.length === 0) {\n    return identity as UnaryFunction<any, any>;\n  }\n\n  if (fns.length === 1) {\n    return fns[0];\n  }\n\n  return function piped(input: T): R {\n    return fns.reduce((prev: any, fn: UnaryFunction<T, R>) => fn(prev), input as any);\n  };\n}\n","import { Operator } from './Operator';\nimport { SafeSubscriber, Subscriber } from './Subscriber';\nimport { isSubscription, Subscription } from './Subscription';\nimport { TeardownLogic, OperatorFunction, Subscribable, Observer } from './types';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nimport { isFunction } from './util/isFunction';\nimport { errorContext } from './util/errorContext';\n\n/**\n * A representation of any set of values over any amount of time. This is the most basic building block\n * of RxJS.\n *\n * @class Observable<T>\n */\nexport class Observable<T> implements Subscribable<T> {\n  /**\n   * @deprecated Internal implementation detail, do not use directly. Will be made internal in v8.\n   */\n  source: Observable<any> | undefined;\n\n  /**\n   * @deprecated Internal implementation detail, do not use directly. Will be made internal in v8.\n   */\n  operator: Operator<any, T> | undefined;\n\n  /**\n   * @constructor\n   * @param {Function} subscribe the function that is called when the Observable is\n   * initially subscribed to. This function is given a Subscriber, to which new values\n   * can be `next`ed, or an `error` method can be called to raise an error, or\n   * `complete` can be called to notify of a successful completion.\n   */\n  constructor(subscribe?: (this: Observable<T>, subscriber: Subscriber<T>) => TeardownLogic) {\n    if (subscribe) {\n      this._subscribe = subscribe;\n    }\n  }\n\n  // HACK: Since TypeScript inherits static properties too, we have to\n  // fight against TypeScript here so Subject can have a different static create signature\n  /**\n   * Creates a new Observable by calling the Observable constructor\n   * @owner Observable\n   * @method create\n   * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n   * @return {Observable} a new observable\n   * @nocollapse\n   * @deprecated Use `new Observable()` instead. Will be removed in v8.\n   */\n  static create: (...args: any[]) => any = <T>(subscribe?: (subscriber: Subscriber<T>) => TeardownLogic) => {\n    return new Observable<T>(subscribe);\n  };\n\n  /**\n   * Creates a new Observable, with this Observable instance as the source, and the passed\n   * operator defined as the new observable's operator.\n   * @method lift\n   * @param operator the operator defining the operation to take on the observable\n   * @return a new observable with the Operator applied\n   * @deprecated Internal implementation detail, do not use directly. Will be made internal in v8.\n   * If you have implemented an operator using `lift`, it is recommended that you create an\n   * operator by simply returning `new Observable()` directly. See \"Creating new operators from\n   * scratch\" section here: https://rxjs.dev/guide/operators\n   */\n  lift<R>(operator?: Operator<T, R>): Observable<R> {\n    const observable = new Observable<R>();\n    observable.source = this;\n    observable.operator = operator;\n    return observable;\n  }\n\n  subscribe(observerOrNext?: Partial<Observer<T>> | ((value: T) => void)): Subscription;\n  /** @deprecated Instead of passing separate callback arguments, use an observer argument. Signatures taking separate callback arguments will be removed in v8. Details: https://rxjs.dev/deprecations/subscribe-arguments */\n  subscribe(next?: ((value: T) => void) | null, error?: ((error: any) => void) | null, complete?: (() => void) | null): Subscription;\n  /**\n   * Invokes an execution of an Observable and registers Observer handlers for notifications it will emit.\n   *\n   * <span class=\"informal\">Use it when you have all these Observables, but still nothing is happening.</span>\n   *\n   * `subscribe` is not a regular operator, but a method that calls Observable's internal `subscribe` function. It\n   * might be for example a function that you passed to Observable's constructor, but most of the time it is\n   * a library implementation, which defines what will be emitted by an Observable, and when it be will emitted. This means\n   * that calling `subscribe` is actually the moment when Observable starts its work, not when it is created, as it is often\n   * the thought.\n   *\n   * Apart from starting the execution of an Observable, this method allows you to listen for values\n   * that an Observable emits, as well as for when it completes or errors. You can achieve this in two\n   * of the following ways.\n   *\n   * The first way is creating an object that implements {@link Observer} interface. It should have methods\n   * defined by that interface, but note that it should be just a regular JavaScript object, which you can create\n   * yourself in any way you want (ES6 class, classic function constructor, object literal etc.). In particular, do\n   * not attempt to use any RxJS implementation details to create Observers - you don't need them. Remember also\n   * that your object does not have to implement all methods. If you find yourself creating a method that doesn't\n   * do anything, you can simply omit it. Note however, if the `error` method is not provided and an error happens,\n   * it will be thrown asynchronously. Errors thrown asynchronously cannot be caught using `try`/`catch`. Instead,\n   * use the {@link onUnhandledError} configuration option or use a runtime handler (like `window.onerror` or\n   * `process.on('error)`) to be notified of unhandled errors. Because of this, it's recommended that you provide\n   * an `error` method to avoid missing thrown errors.\n   *\n   * The second way is to give up on Observer object altogether and simply provide callback functions in place of its methods.\n   * This means you can provide three functions as arguments to `subscribe`, where the first function is equivalent\n   * of a `next` method, the second of an `error` method and the third of a `complete` method. Just as in case of an Observer,\n   * if you do not need to listen for something, you can omit a function by passing `undefined` or `null`,\n   * since `subscribe` recognizes these functions by where they were placed in function call. When it comes\n   * to the `error` function, as with an Observer, if not provided, errors emitted by an Observable will be thrown asynchronously.\n   *\n   * You can, however, subscribe with no parameters at all. This may be the case where you're not interested in terminal events\n   * and you also handled emissions internally by using operators (e.g. using `tap`).\n   *\n   * Whichever style of calling `subscribe` you use, in both cases it returns a Subscription object.\n   * This object allows you to call `unsubscribe` on it, which in turn will stop the work that an Observable does and will clean\n   * up all resources that an Observable used. Note that cancelling a subscription will not call `complete` callback\n   * provided to `subscribe` function, which is reserved for a regular completion signal that comes from an Observable.\n   *\n   * Remember that callbacks provided to `subscribe` are not guaranteed to be called asynchronously.\n   * It is an Observable itself that decides when these functions will be called. For example {@link of}\n   * by default emits all its values synchronously. Always check documentation for how given Observable\n   * will behave when subscribed and if its default behavior can be modified with a `scheduler`.\n   *\n   * #### Examples\n   *\n   * Subscribe with an {@link guide/observer Observer}\n   *\n   * ```ts\n   * import { of } from 'rxjs';\n   *\n   * const sumObserver = {\n   *   sum: 0,\n   *   next(value) {\n   *     console.log('Adding: ' + value);\n   *     this.sum = this.sum + value;\n   *   },\n   *   error() {\n   *     // We actually could just remove this method,\n   *     // since we do not really care about errors right now.\n   *   },\n   *   complete() {\n   *     console.log('Sum equals: ' + this.sum);\n   *   }\n   * };\n   *\n   * of(1, 2, 3) // Synchronously emits 1, 2, 3 and then completes.\n   *   .subscribe(sumObserver);\n   *\n   * // Logs:\n   * // 'Adding: 1'\n   * // 'Adding: 2'\n   * // 'Adding: 3'\n   * // 'Sum equals: 6'\n   * ```\n   *\n   * Subscribe with functions ({@link deprecations/subscribe-arguments deprecated})\n   *\n   * ```ts\n   * import { of } from 'rxjs'\n   *\n   * let sum = 0;\n   *\n   * of(1, 2, 3).subscribe(\n   *   value => {\n   *     console.log('Adding: ' + value);\n   *     sum = sum + value;\n   *   },\n   *   undefined,\n   *   () => console.log('Sum equals: ' + sum)\n   * );\n   *\n   * // Logs:\n   * // 'Adding: 1'\n   * // 'Adding: 2'\n   * // 'Adding: 3'\n   * // 'Sum equals: 6'\n   * ```\n   *\n   * Cancel a subscription\n   *\n   * ```ts\n   * import { interval } from 'rxjs';\n   *\n   * const subscription = interval(1000).subscribe({\n   *   next(num) {\n   *     console.log(num)\n   *   },\n   *   complete() {\n   *     // Will not be called, even when cancelling subscription.\n   *     console.log('completed!');\n   *   }\n   * });\n   *\n   * setTimeout(() => {\n   *   subscription.unsubscribe();\n   *   console.log('unsubscribed!');\n   * }, 2500);\n   *\n   * // Logs:\n   * // 0 after 1s\n   * // 1 after 2s\n   * // 'unsubscribed!' after 2.5s\n   * ```\n   *\n   * @param {Observer|Function} observerOrNext (optional) Either an observer with methods to be called,\n   * or the first of three possible handlers, which is the handler for each value emitted from the subscribed\n   * Observable.\n   * @param {Function} error (optional) A handler for a terminal event resulting from an error. If no error handler is provided,\n   * the error will be thrown asynchronously as unhandled.\n   * @param {Function} complete (optional) A handler for a terminal event resulting from successful completion.\n   * @return {Subscription} a subscription reference to the registered handlers\n   * @method subscribe\n   */\n  subscribe(\n    observerOrNext?: Partial<Observer<T>> | ((value: T) => void) | null,\n    error?: ((error: any) => void) | null,\n    complete?: (() => void) | null\n  ): Subscription {\n    const subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);\n\n    errorContext(() => {\n      const { operator, source } = this;\n      subscriber.add(\n        operator\n          ? // We're dealing with a subscription in the\n            // operator chain to one of our lifted operators.\n            operator.call(subscriber, source)\n          : source\n          ? // If `source` has a value, but `operator` does not, something that\n            // had intimate knowledge of our API, like our `Subject`, must have\n            // set it. We're going to just call `_subscribe` directly.\n            this._subscribe(subscriber)\n          : // In all other cases, we're likely wrapping a user-provided initializer\n            // function, so we need to catch errors and handle them appropriately.\n            this._trySubscribe(subscriber)\n      );\n    });\n\n    return subscriber;\n  }\n\n  /** @internal */\n  protected _trySubscribe(sink: Subscriber<T>): TeardownLogic {\n    try {\n      return this._subscribe(sink);\n    } catch (err) {\n      // We don't need to return anything in this case,\n      // because it's just going to try to `add()` to a subscription\n      // above.\n      sink.error(err);\n    }\n  }\n\n  /**\n   * Used as a NON-CANCELLABLE means of subscribing to an observable, for use with\n   * APIs that expect promises, like `async/await`. You cannot unsubscribe from this.\n   *\n   * **WARNING**: Only use this with observables you *know* will complete. If the source\n   * observable does not complete, you will end up with a promise that is hung up, and\n   * potentially all of the state of an async function hanging out in memory. To avoid\n   * this situation, look into adding something like {@link timeout}, {@link take},\n   * {@link takeWhile}, or {@link takeUntil} amongst others.\n   *\n   * #### Example\n   *\n   * ```ts\n   * import { interval, take } from 'rxjs';\n   *\n   * const source$ = interval(1000).pipe(take(4));\n   *\n   * async function getTotal() {\n   *   let total = 0;\n   *\n   *   await source$.forEach(value => {\n   *     total += value;\n   *     console.log('observable -> ' + value);\n   *   });\n   *\n   *   return total;\n   * }\n   *\n   * getTotal().then(\n   *   total => console.log('Total: ' + total)\n   * );\n   *\n   * // Expected:\n   * // 'observable -> 0'\n   * // 'observable -> 1'\n   * // 'observable -> 2'\n   * // 'observable -> 3'\n   * // 'Total: 6'\n   * ```\n   *\n   * @param next a handler for each value emitted by the observable\n   * @return a promise that either resolves on observable completion or\n   *  rejects with the handled error\n   */\n  forEach(next: (value: T) => void): Promise<void>;\n\n  /**\n   * @param next a handler for each value emitted by the observable\n   * @param promiseCtor a constructor function used to instantiate the Promise\n   * @return a promise that either resolves on observable completion or\n   *  rejects with the handled error\n   * @deprecated Passing a Promise constructor will no longer be available\n   * in upcoming versions of RxJS. This is because it adds weight to the library, for very\n   * little benefit. If you need this functionality, it is recommended that you either\n   * polyfill Promise, or you create an adapter to convert the returned native promise\n   * to whatever promise implementation you wanted. Will be removed in v8.\n   */\n  forEach(next: (value: T) => void, promiseCtor: PromiseConstructorLike): Promise<void>;\n\n  forEach(next: (value: T) => void, promiseCtor?: PromiseConstructorLike): Promise<void> {\n    promiseCtor = getPromiseCtor(promiseCtor);\n\n    return new promiseCtor<void>((resolve, reject) => {\n      const subscriber = new SafeSubscriber<T>({\n        next: (value) => {\n          try {\n            next(value);\n          } catch (err) {\n            reject(err);\n            subscriber.unsubscribe();\n          }\n        },\n        error: reject,\n        complete: resolve,\n      });\n      this.subscribe(subscriber);\n    }) as Promise<void>;\n  }\n\n  /** @internal */\n  protected _subscribe(subscriber: Subscriber<any>): TeardownLogic {\n    return this.source?.subscribe(subscriber);\n  }\n\n  /**\n   * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n   * @method Symbol.observable\n   * @return {Observable} this instance of the observable\n   */\n  [Symbol_observable]() {\n    return this;\n  }\n\n  /* tslint:disable:max-line-length */\n  pipe(): Observable<T>;\n  pipe<A>(op1: OperatorFunction<T, A>): Observable<A>;\n  pipe<A, B>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>): Observable<B>;\n  pipe<A, B, C>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>): Observable<C>;\n  pipe<A, B, C, D>(\n    op1: OperatorFunction<T, A>,\n    op2: OperatorFunction<A, B>,\n    op3: OperatorFunction<B, C>,\n    op4: OperatorFunction<C, D>\n  ): Observable<D>;\n  pipe<A, B, C, D, E>(\n    op1: OperatorFunction<T, A>,\n    op2: OperatorFunction<A, B>,\n    op3: OperatorFunction<B, C>,\n    op4: OperatorFunction<C, D>,\n    op5: OperatorFunction<D, E>\n  ): Observable<E>;\n  pipe<A, B, C, D, E, F>(\n    op1: OperatorFunction<T, A>,\n    op2: OperatorFunction<A, B>,\n    op3: OperatorFunction<B, C>,\n    op4: OperatorFunction<C, D>,\n    op5: OperatorFunction<D, E>,\n    op6: OperatorFunction<E, F>\n  ): Observable<F>;\n  pipe<A, B, C, D, E, F, G>(\n    op1: OperatorFunction<T, A>,\n    op2: OperatorFunction<A, B>,\n    op3: OperatorFunction<B, C>,\n    op4: OperatorFunction<C, D>,\n    op5: OperatorFunction<D, E>,\n    op6: OperatorFunction<E, F>,\n    op7: OperatorFunction<F, G>\n  ): Observable<G>;\n  pipe<A, B, C, D, E, F, G, H>(\n    op1: OperatorFunction<T, A>,\n    op2: OperatorFunction<A, B>,\n    op3: OperatorFunction<B, C>,\n    op4: OperatorFunction<C, D>,\n    op5: OperatorFunction<D, E>,\n    op6: OperatorFunction<E, F>,\n    op7: OperatorFunction<F, G>,\n    op8: OperatorFunction<G, H>\n  ): Observable<H>;\n  pipe<A, B, C, D, E, F, G, H, I>(\n    op1: OperatorFunction<T, A>,\n    op2: OperatorFunction<A, B>,\n    op3: OperatorFunction<B, C>,\n    op4: OperatorFunction<C, D>,\n    op5: OperatorFunction<D, E>,\n    op6: OperatorFunction<E, F>,\n    op7: OperatorFunction<F, G>,\n    op8: OperatorFunction<G, H>,\n    op9: OperatorFunction<H, I>\n  ): Observable<I>;\n  pipe<A, B, C, D, E, F, G, H, I>(\n    op1: OperatorFunction<T, A>,\n    op2: OperatorFunction<A, B>,\n    op3: OperatorFunction<B, C>,\n    op4: OperatorFunction<C, D>,\n    op5: OperatorFunction<D, E>,\n    op6: OperatorFunction<E, F>,\n    op7: OperatorFunction<F, G>,\n    op8: OperatorFunction<G, H>,\n    op9: OperatorFunction<H, I>,\n    ...operations: OperatorFunction<any, any>[]\n  ): Observable<unknown>;\n  /* tslint:enable:max-line-length */\n\n  /**\n   * Used to stitch together functional operators into a chain.\n   * @method pipe\n   * @return {Observable} the Observable result of all of the operators having\n   * been called in the order they were passed in.\n   *\n   * ## Example\n   *\n   * ```ts\n   * import { interval, filter, map, scan } from 'rxjs';\n   *\n   * interval(1000)\n   *   .pipe(\n   *     filter(x => x % 2 === 0),\n   *     map(x => x + x),\n   *     scan((acc, x) => acc + x)\n   *   )\n   *   .subscribe(x => console.log(x));\n   * ```\n   */\n  pipe(...operations: OperatorFunction<any, any>[]): Observable<any> {\n    return pipeFromArray(operations)(this);\n  }\n\n  /* tslint:disable:max-line-length */\n  /** @deprecated Replaced with {@link firstValueFrom} and {@link lastValueFrom}. Will be removed in v8. Details: https://rxjs.dev/deprecations/to-promise */\n  toPromise(): Promise<T | undefined>;\n  /** @deprecated Replaced with {@link firstValueFrom} and {@link lastValueFrom}. Will be removed in v8. Details: https://rxjs.dev/deprecations/to-promise */\n  toPromise(PromiseCtor: typeof Promise): Promise<T | undefined>;\n  /** @deprecated Replaced with {@link firstValueFrom} and {@link lastValueFrom}. Will be removed in v8. Details: https://rxjs.dev/deprecations/to-promise */\n  toPromise(PromiseCtor: PromiseConstructorLike): Promise<T | undefined>;\n  /* tslint:enable:max-line-length */\n\n  /**\n   * Subscribe to this Observable and get a Promise resolving on\n   * `complete` with the last emission (if any).\n   *\n   * **WARNING**: Only use this with observables you *know* will complete. If the source\n   * observable does not complete, you will end up with a promise that is hung up, and\n   * potentially all of the state of an async function hanging out in memory. To avoid\n   * this situation, look into adding something like {@link timeout}, {@link take},\n   * {@link takeWhile}, or {@link takeUntil} amongst others.\n   *\n   * @method toPromise\n   * @param [promiseCtor] a constructor function used to instantiate\n   * the Promise\n   * @return A Promise that resolves with the last value emit, or\n   * rejects on an error. If there were no emissions, Promise\n   * resolves with undefined.\n   * @deprecated Replaced with {@link firstValueFrom} and {@link lastValueFrom}. Will be removed in v8. Details: https://rxjs.dev/deprecations/to-promise\n   */\n  toPromise(promiseCtor?: PromiseConstructorLike): Promise<T | undefined> {\n    promiseCtor = getPromiseCtor(promiseCtor);\n\n    return new promiseCtor((resolve, reject) => {\n      let value: T | undefined;\n      this.subscribe(\n        (x: T) => (value = x),\n        (err: any) => reject(err),\n        () => resolve(value)\n      );\n    }) as Promise<T | undefined>;\n  }\n}\n\n/**\n * Decides between a passed promise constructor from consuming code,\n * A default configured promise constructor, and the native promise\n * constructor and returns it. If nothing can be found, it will throw\n * an error.\n * @param promiseCtor The optional promise constructor to passed by consuming code\n */\nfunction getPromiseCtor(promiseCtor: PromiseConstructorLike | undefined) {\n  return promiseCtor ?? config.Promise ?? Promise;\n}\n\nfunction isObserver<T>(value: any): value is Observer<T> {\n  return value && isFunction(value.next) && isFunction(value.error) && isFunction(value.complete);\n}\n\nfunction isSubscriber<T>(value: any): value is Subscriber<T> {\n  return (value && value instanceof Subscriber) || (isObserver(value) && isSubscription(value));\n}\n","import { InteropObservable } from '../types';\nimport { observable as Symbol_observable } from '../symbol/observable';\nimport { isFunction } from './isFunction';\n\n/** Identifies an input as being Observable (but not necessary an Rx Observable) */\nexport function isInteropObservable(input: any): input is InteropObservable<any> {\n  return isFunction(input[Symbol_observable]);\n}\n","import { isFunction } from './isFunction';\n\nexport function isAsyncIterable<T>(obj: any): obj is AsyncIterable<T> {\n  return Symbol.asyncIterator && isFunction(obj?.[Symbol.asyncIterator]);\n}\n","/**\n * Creates the TypeError to throw if an invalid object is passed to `from` or `scheduled`.\n * @param input The object that was passed.\n */\nexport function createInvalidObservableTypeError(input: any) {\n  // TODO: We should create error codes that can be looked up, so this can be less verbose.\n  return new TypeError(\n    `You provided ${\n      input !== null && typeof input === 'object' ? 'an invalid object' : `'${input}'`\n    } where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`\n  );\n}\n","export function getSymbolIterator(): symbol {\n  if (typeof Symbol !== 'function' || !Symbol.iterator) {\n    return '@@iterator' as any;\n  }\n\n  return Symbol.iterator;\n}\n\nexport const iterator = getSymbolIterator();\n","import { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { isFunction } from './isFunction';\n\n/** Identifies an input as being an Iterable */\nexport function isIterable(input: any): input is Iterable<any> {\n  return isFunction(input?.[Symbol_iterator]);\n}\n","import { ReadableStreamLike } from '../types';\nimport { isFunction } from './isFunction';\n\nexport async function* readableStreamLikeToAsyncGenerator<T>(readableStream: ReadableStreamLike<T>): AsyncGenerator<T> {\n  const reader = readableStream.getReader();\n  try {\n    while (true) {\n      const { value, done } = await reader.read();\n      if (done) {\n        return;\n      }\n      yield value!;\n    }\n  } finally {\n    reader.releaseLock();\n  }\n}\n\nexport function isReadableStreamLike<T>(obj: any): obj is ReadableStreamLike<T> {\n  // We don't want to use instanceof checks because they would return\n  // false for instances from another Realm, like an <iframe>.\n  return isFunction(obj?.getReader);\n}\n","import { isArrayLike } from '../util/isArrayLike';\nimport { isPromise } from '../util/isPromise';\nimport { Observable } from '../Observable';\nimport { ObservableInput, ObservedValueOf, ReadableStreamLike } from '../types';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isAsyncIterable } from '../util/isAsyncIterable';\nimport { createInvalidObservableTypeError } from '../util/throwUnobservableError';\nimport { isIterable } from '../util/isIterable';\nimport { isReadableStreamLike, readableStreamLikeToAsyncGenerator } from '../util/isReadableStreamLike';\nimport { Subscriber } from '../Subscriber';\nimport { isFunction } from '../util/isFunction';\nimport { reportUnhandledError } from '../util/reportUnhandledError';\nimport { observable as Symbol_observable } from '../symbol/observable';\n\nexport function innerFrom<O extends ObservableInput<any>>(input: O): Observable<ObservedValueOf<O>>;\nexport function innerFrom<T>(input: ObservableInput<T>): Observable<T> {\n  if (input instanceof Observable) {\n    return input;\n  }\n  if (input != null) {\n    if (isInteropObservable(input)) {\n      return fromInteropObservable(input);\n    }\n    if (isArrayLike(input)) {\n      return fromArrayLike(input);\n    }\n    if (isPromise(input)) {\n      return fromPromise(input);\n    }\n    if (isAsyncIterable(input)) {\n      return fromAsyncIterable(input);\n    }\n    if (isIterable(input)) {\n      return fromIterable(input);\n    }\n    if (isReadableStreamLike(input)) {\n      return fromReadableStreamLike(input);\n    }\n  }\n\n  throw createInvalidObservableTypeError(input);\n}\n\n/**\n * Creates an RxJS Observable from an object that implements `Symbol.observable`.\n * @param obj An object that properly implements `Symbol.observable`.\n */\nexport function fromInteropObservable<T>(obj: any) {\n  return new Observable((subscriber: Subscriber<T>) => {\n    const obs = obj[Symbol_observable]();\n    if (isFunction(obs.subscribe)) {\n      return obs.subscribe(subscriber);\n    }\n    // Should be caught by observable subscribe function error handling.\n    throw new TypeError('Provided object does not correctly implement Symbol.observable');\n  });\n}\n\n/**\n * Synchronously emits the values of an array like and completes.\n * This is exported because there are creation functions and operators that need to\n * make direct use of the same logic, and there's no reason to make them run through\n * `from` conditionals because we *know* they're dealing with an array.\n * @param array The array to emit values from\n */\nexport function fromArrayLike<T>(array: ArrayLike<T>) {\n  return new Observable((subscriber: Subscriber<T>) => {\n    // Loop over the array and emit each value. Note two things here:\n    // 1. We're making sure that the subscriber is not closed on each loop.\n    //    This is so we don't continue looping over a very large array after\n    //    something like a `take`, `takeWhile`, or other synchronous unsubscription\n    //    has already unsubscribed.\n    // 2. In this form, reentrant code can alter that array we're looping over.\n    //    This is a known issue, but considered an edge case. The alternative would\n    //    be to copy the array before executing the loop, but this has\n    //    performance implications.\n    for (let i = 0; i < array.length && !subscriber.closed; i++) {\n      subscriber.next(array[i]);\n    }\n    subscriber.complete();\n  });\n}\n\nexport function fromPromise<T>(promise: PromiseLike<T>) {\n  return new Observable((subscriber: Subscriber<T>) => {\n    promise\n      .then(\n        (value) => {\n          if (!subscriber.closed) {\n            subscriber.next(value);\n            subscriber.complete();\n          }\n        },\n        (err: any) => subscriber.error(err)\n      )\n      .then(null, reportUnhandledError);\n  });\n}\n\nexport function fromIterable<T>(iterable: Iterable<T>) {\n  return new Observable((subscriber: Subscriber<T>) => {\n    for (const value of iterable) {\n      subscriber.next(value);\n      if (subscriber.closed) {\n        return;\n      }\n    }\n    subscriber.complete();\n  });\n}\n\nexport function fromAsyncIterable<T>(asyncIterable: AsyncIterable<T>) {\n  return new Observable((subscriber: Subscriber<T>) => {\n    process(asyncIterable, subscriber).catch((err) => subscriber.error(err));\n  });\n}\n\nexport function fromReadableStreamLike<T>(readableStream: ReadableStreamLike<T>) {\n  return fromAsyncIterable(readableStreamLikeToAsyncGenerator(readableStream));\n}\n\nasync function process<T>(asyncIterable: AsyncIterable<T>, subscriber: Subscriber<T>) {\n  for await (const value of asyncIterable) {\n    subscriber.next(value);\n    // A side-effect may have closed our subscriber,\n    // check before the next iteration.\n    if (subscriber.closed) {\n      return;\n    }\n  }\n  subscriber.complete();\n}\n","import { Subscription } from '../Subscription';\nimport { SchedulerAction, SchedulerLike } from '../types';\n\nexport function executeSchedule(\n  parentSubscription: Subscription,\n  scheduler: SchedulerLike,\n  work: () => void,\n  delay: number,\n  repeat: true\n): void;\nexport function executeSchedule(\n  parentSubscription: Subscription,\n  scheduler: SchedulerLike,\n  work: () => void,\n  delay?: number,\n  repeat?: false\n): Subscription;\n\nexport function executeSchedule(\n  parentSubscription: Subscription,\n  scheduler: SchedulerLike,\n  work: () => void,\n  delay = 0,\n  repeat = false\n): Subscription | void {\n  const scheduleSubscription = scheduler.schedule(function (this: SchedulerAction<any>) {\n    work();\n    if (repeat) {\n      parentSubscription.add(this.schedule(null, delay));\n    } else {\n      this.unsubscribe();\n    }\n  }, delay);\n\n  parentSubscription.add(scheduleSubscription);\n\n  if (!repeat) {\n    // Because user-land scheduler implementations are unlikely to properly reuse\n    // Actions for repeat scheduling, we can't trust that the returned subscription\n    // will control repeat subscription scenarios. So we're trying to avoid using them\n    // incorrectly within this library.\n    return scheduleSubscription;\n  }\n}\n","import { ObservableInput, OperatorFunction, ObservedValueOf } from '../types';\nimport { map } from './map';\nimport { innerFrom } from '../observable/innerFrom';\nimport { operate } from '../util/lift';\nimport { mergeInternals } from './mergeInternals';\nimport { isFunction } from '../util/isFunction';\n\n/* tslint:disable:max-line-length */\nexport function mergeMap<T, O extends ObservableInput<any>>(\n  project: (value: T, index: number) => O,\n  concurrent?: number\n): OperatorFunction<T, ObservedValueOf<O>>;\n/** @deprecated The `resultSelector` parameter will be removed in v8. Use an inner `map` instead. Details: https://rxjs.dev/deprecations/resultSelector */\nexport function mergeMap<T, O extends ObservableInput<any>>(\n  project: (value: T, index: number) => O,\n  resultSelector: undefined,\n  concurrent?: number\n): OperatorFunction<T, ObservedValueOf<O>>;\n/** @deprecated The `resultSelector` parameter will be removed in v8. Use an inner `map` instead. Details: https://rxjs.dev/deprecations/resultSelector */\nexport function mergeMap<T, R, O extends ObservableInput<any>>(\n  project: (value: T, index: number) => O,\n  resultSelector: (outerValue: T, innerValue: ObservedValueOf<O>, outerIndex: number, innerIndex: number) => R,\n  concurrent?: number\n): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link mergeAll}.</span>\n *\n * ![](mergeMap.png)\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an Observable, and then merging those resulting Observables and\n * emitting the results of this merger.\n *\n * ## Example\n *\n * Map and flatten each letter to an Observable ticking every 1 second\n *\n * ```ts\n * import { of, mergeMap, interval, map } from 'rxjs';\n *\n * const letters = of('a', 'b', 'c');\n * const result = letters.pipe(\n *   mergeMap(x => interval(1000).pipe(map(i => x + i)))\n * );\n *\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // a0\n * // b0\n * // c0\n * // a1\n * // b1\n * // c1\n * // continues to list a, b, c every second with respective ascending integers\n * ```\n *\n * @see {@link concatMap}\n * @see {@link exhaustMap}\n * @see {@link merge}\n * @see {@link mergeAll}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switchMap}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @param {number} [concurrent=Infinity] Maximum number of input\n * Observables being subscribed to concurrently.\n * @return A function that returns an Observable that emits the result of\n * applying the projection function (and the optional deprecated\n * `resultSelector`) to each item emitted by the source Observable and merging\n * the results of the Observables obtained from this transformation.\n */\nexport function mergeMap<T, R, O extends ObservableInput<any>>(\n  project: (value: T, index: number) => O,\n  resultSelector?: ((outerValue: T, innerValue: ObservedValueOf<O>, outerIndex: number, innerIndex: number) => R) | number,\n  concurrent: number = Infinity\n): OperatorFunction<T, ObservedValueOf<O> | R> {\n  if (isFunction(resultSelector)) {\n    // DEPRECATED PATH\n    return mergeMap((a, i) => map((b: any, ii: number) => resultSelector(a, b, i, ii))(innerFrom(project(a, i))), concurrent);\n  } else if (typeof resultSelector === 'number') {\n    concurrent = resultSelector;\n  }\n\n  return operate((source, subscriber) => mergeInternals(source, subscriber, project, concurrent));\n}\n","import { Observable } from '../Observable';\nimport { innerFrom } from '../observable/innerFrom';\nimport { Subscriber } from '../Subscriber';\nimport { ObservableInput, SchedulerLike } from '../types';\nimport { executeSchedule } from '../util/executeSchedule';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\n\n/**\n * A process embodying the general \"merge\" strategy. This is used in\n * `mergeMap` and `mergeScan` because the logic is otherwise nearly identical.\n * @param source The original source observable\n * @param subscriber The consumer subscriber\n * @param project The projection function to get our inner sources\n * @param concurrent The number of concurrent inner subscriptions\n * @param onBeforeNext Additional logic to apply before nexting to our consumer\n * @param expand If `true` this will perform an \"expand\" strategy, which differs only\n * in that it recurses, and the inner subscription must be schedule-able.\n * @param innerSubScheduler A scheduler to use to schedule inner subscriptions,\n * this is to support the expand strategy, mostly, and should be deprecated\n */\nexport function mergeInternals<T, R>(\n  source: Observable<T>,\n  subscriber: Subscriber<R>,\n  project: (value: T, index: number) => ObservableInput<R>,\n  concurrent: number,\n  onBeforeNext?: (innerValue: R) => void,\n  expand?: boolean,\n  innerSubScheduler?: SchedulerLike,\n  additionalFinalizer?: () => void\n) {\n  // Buffered values, in the event of going over our concurrency limit\n  const buffer: T[] = [];\n  // The number of active inner subscriptions.\n  let active = 0;\n  // An index to pass to our accumulator function\n  let index = 0;\n  // Whether or not the outer source has completed.\n  let isComplete = false;\n\n  /**\n   * Checks to see if we can complete our result or not.\n   */\n  const checkComplete = () => {\n    // If the outer has completed, and nothing is left in the buffer,\n    // and we don't have any active inner subscriptions, then we can\n    // Emit the state and complete.\n    if (isComplete && !buffer.length && !active) {\n      subscriber.complete();\n    }\n  };\n\n  // If we're under our concurrency limit, just start the inner subscription, otherwise buffer and wait.\n  const outerNext = (value: T) => (active < concurrent ? doInnerSub(value) : buffer.push(value));\n\n  const doInnerSub = (value: T) => {\n    // If we're expanding, we need to emit the outer values and the inner values\n    // as the inners will \"become outers\" in a way as they are recursively fed\n    // back to the projection mechanism.\n    expand && subscriber.next(value as any);\n\n    // Increment the number of active subscriptions so we can track it\n    // against our concurrency limit later.\n    active++;\n\n    // A flag used to show that the inner observable completed.\n    // This is checked during finalization to see if we should\n    // move to the next item in the buffer, if there is on.\n    let innerComplete = false;\n\n    // Start our inner subscription.\n    innerFrom(project(value, index++)).subscribe(\n      createOperatorSubscriber(\n        subscriber,\n        (innerValue) => {\n          // `mergeScan` has additional handling here. For example\n          // taking the inner value and updating state.\n          onBeforeNext?.(innerValue);\n\n          if (expand) {\n            // If we're expanding, then just recurse back to our outer\n            // handler. It will emit the value first thing.\n            outerNext(innerValue as any);\n          } else {\n            // Otherwise, emit the inner value.\n            subscriber.next(innerValue);\n          }\n        },\n        () => {\n          // Flag that we have completed, so we know to check the buffer\n          // during finalization.\n          innerComplete = true;\n        },\n        // Errors are passed to the destination.\n        undefined,\n        () => {\n          // During finalization, if the inner completed (it wasn't errored or\n          // cancelled), then we want to try the next item in the buffer if\n          // there is one.\n          if (innerComplete) {\n            // We have to wrap this in a try/catch because it happens during\n            // finalization, possibly asynchronously, and we want to pass\n            // any errors that happen (like in a projection function) to\n            // the outer Subscriber.\n            try {\n              // INNER SOURCE COMPLETE\n              // Decrement the active count to ensure that the next time\n              // we try to call `doInnerSub`, the number is accurate.\n              active--;\n              // If we have more values in the buffer, try to process those\n              // Note that this call will increment `active` ahead of the\n              // next conditional, if there were any more inner subscriptions\n              // to start.\n              while (buffer.length && active < concurrent) {\n                const bufferedValue = buffer.shift()!;\n                // Particularly for `expand`, we need to check to see if a scheduler was provided\n                // for when we want to start our inner subscription. Otherwise, we just start\n                // are next inner subscription.\n                if (innerSubScheduler) {\n                  executeSchedule(subscriber, innerSubScheduler, () => doInnerSub(bufferedValue));\n                } else {\n                  doInnerSub(bufferedValue);\n                }\n              }\n              // Check to see if we can complete, and complete if so.\n              checkComplete();\n            } catch (err) {\n              subscriber.error(err);\n            }\n          }\n        }\n      )\n    );\n  };\n\n  // Subscribe to our source observable.\n  source.subscribe(\n    createOperatorSubscriber(subscriber, outerNext, () => {\n      // Outer completed, make a note of it, and check to see if we can complete everything.\n      isComplete = true;\n      checkComplete();\n    })\n  );\n\n  // Additional finalization (for when the destination is torn down).\n  // Other finalization is added implicitly via subscription above.\n  return () => {\n    additionalFinalizer?.();\n  };\n}\n","import { mergeMap } from './mergeMap';\nimport { identity } from '../util/identity';\nimport { OperatorFunction, ObservableInput, ObservedValueOf } from '../types';\n\n/**\n * Converts a higher-order Observable into a first-order Observable which\n * concurrently delivers all values that are emitted on the inner Observables.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables.</span>\n *\n * ![](mergeAll.png)\n *\n * `mergeAll` subscribes to an Observable that emits Observables, also known as\n * a higher-order Observable. Each time it observes one of these emitted inner\n * Observables, it subscribes to that and delivers all the values from the\n * inner Observable on the output Observable. The output Observable only\n * completes once all inner Observables have completed. Any error delivered by\n * a inner Observable will be immediately emitted on the output Observable.\n *\n * ## Examples\n *\n * Spawn a new interval Observable for each click event, and blend their outputs as one Observable\n *\n * ```ts\n * import { fromEvent, map, interval, mergeAll } from 'rxjs';\n *\n * const clicks = fromEvent(document, 'click');\n * const higherOrder = clicks.pipe(map(() => interval(1000)));\n * const firstOrder = higherOrder.pipe(mergeAll());\n *\n * firstOrder.subscribe(x => console.log(x));\n * ```\n *\n * Count from 0 to 9 every second for each click, but only allow 2 concurrent timers\n *\n * ```ts\n * import { fromEvent, map, interval, take, mergeAll } from 'rxjs';\n *\n * const clicks = fromEvent(document, 'click');\n * const higherOrder = clicks.pipe(\n *   map(() => interval(1000).pipe(take(10)))\n * );\n * const firstOrder = higherOrder.pipe(mergeAll(2));\n *\n * firstOrder.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link combineLatestAll}\n * @see {@link concatAll}\n * @see {@link exhaustAll}\n * @see {@link merge}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switchAll}\n * @see {@link switchMap}\n * @see {@link zipAll}\n *\n * @param {number} [concurrent=Infinity] Maximum number of inner\n * Observables being subscribed to concurrently.\n * @return A function that returns an Observable that emits values coming from\n * all the inner Observables emitted by the source Observable.\n */\nexport function mergeAll<O extends ObservableInput<any>>(concurrent: number = Infinity): OperatorFunction<O, ObservedValueOf<O>> {\n  return mergeMap(identity, concurrent);\n}\n","import { SchedulerLike } from '../types';\nimport { isFunction } from './isFunction';\nimport { isScheduler } from './isScheduler';\n\nfunction last<T>(arr: T[]): T | undefined {\n  return arr[arr.length - 1];\n}\n\nexport function popResultSelector(args: any[]): ((...args: unknown[]) => unknown) | undefined {\n  return isFunction(last(args)) ? args.pop() : undefined;\n}\n\nexport function popScheduler(args: any[]): SchedulerLike | undefined {\n  return isScheduler(last(args)) ? args.pop() : undefined;\n}\n\nexport function popNumber(args: any[], defaultValue: number): number {\n  return typeof last(args) === 'number' ? args.pop()! : defaultValue;\n}\n","import { SchedulerLike } from '../types';\nimport { isFunction } from './isFunction';\n\nexport function isScheduler(value: any): value is SchedulerLike {\n  return value && isFunction(value.schedule);\n}\n","/** @prettier */\nimport { MonoTypeOperatorFunction, SchedulerLike } from '../types';\nimport { executeSchedule } from '../util/executeSchedule';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\n\n/**\n * Re-emits all notifications from source Observable with specified scheduler.\n *\n * <span class=\"informal\">Ensure a specific scheduler is used, from outside of an Observable.</span>\n *\n * `observeOn` is an operator that accepts a scheduler as a first parameter, which will be used to reschedule\n * notifications emitted by the source Observable. It might be useful, if you do not have control over\n * internal scheduler of a given Observable, but want to control when its values are emitted nevertheless.\n *\n * Returned Observable emits the same notifications (nexted values, complete and error events) as the source Observable,\n * but rescheduled with provided scheduler. Note that this doesn't mean that source Observables internal\n * scheduler will be replaced in any way. Original scheduler still will be used, but when the source Observable emits\n * notification, it will be immediately scheduled again - this time with scheduler passed to `observeOn`.\n * An anti-pattern would be calling `observeOn` on Observable that emits lots of values synchronously, to split\n * that emissions into asynchronous chunks. For this to happen, scheduler would have to be passed into the source\n * Observable directly (usually into the operator that creates it). `observeOn` simply delays notifications a\n * little bit more, to ensure that they are emitted at expected moments.\n *\n * As a matter of fact, `observeOn` accepts second parameter, which specifies in milliseconds with what delay notifications\n * will be emitted. The main difference between {@link delay} operator and `observeOn` is that `observeOn`\n * will delay all notifications - including error notifications - while `delay` will pass through error\n * from source Observable immediately when it is emitted. In general it is highly recommended to use `delay` operator\n * for any kind of delaying of values in the stream, while using `observeOn` to specify which scheduler should be used\n * for notification emissions in general.\n *\n * ## Example\n *\n * Ensure values in subscribe are called just before browser repaint\n *\n * ```ts\n * import { interval, observeOn, animationFrameScheduler } from 'rxjs';\n *\n * const someDiv = document.createElement('div');\n * someDiv.style.cssText = 'width: 200px;background: #09c';\n * document.body.appendChild(someDiv);\n * const intervals = interval(10);      // Intervals are scheduled\n *                                      // with async scheduler by default...\n * intervals.pipe(\n *   observeOn(animationFrameScheduler) // ...but we will observe on animationFrame\n * )                                    // scheduler to ensure smooth animation.\n * .subscribe(val => {\n *   someDiv.style.height = val + 'px';\n * });\n * ```\n *\n * @see {@link delay}\n *\n * @param scheduler Scheduler that will be used to reschedule notifications from source Observable.\n * @param delay Number of milliseconds that states with what delay every notification should be rescheduled.\n * @return A function that returns an Observable that emits the same\n * notifications as the source Observable, but with provided scheduler.\n */\nexport function observeOn<T>(scheduler: SchedulerLike, delay = 0): MonoTypeOperatorFunction<T> {\n  return operate((source, subscriber) => {\n    source.subscribe(\n      createOperatorSubscriber(\n        subscriber,\n        (value) => executeSchedule(subscriber, scheduler, () => subscriber.next(value), delay),\n        () => executeSchedule(subscriber, scheduler, () => subscriber.complete(), delay),\n        (err) => executeSchedule(subscriber, scheduler, () => subscriber.error(err), delay)\n      )\n    );\n  });\n}\n","import { MonoTypeOperatorFunction, SchedulerLike } from '../types';\nimport { operate } from '../util/lift';\n\n/**\n * Asynchronously subscribes Observers to this Observable on the specified {@link SchedulerLike}.\n *\n * With `subscribeOn` you can decide what type of scheduler a specific Observable will be using when it is subscribed to.\n *\n * Schedulers control the speed and order of emissions to observers from an Observable stream.\n *\n * ![](subscribeOn.png)\n *\n * ## Example\n *\n * Given the following code:\n *\n * ```ts\n * import { of, merge } from 'rxjs';\n *\n * const a = of(1, 2, 3);\n * const b = of(4, 5, 6);\n *\n * merge(a, b).subscribe(console.log);\n *\n * // Outputs\n * // 1\n * // 2\n * // 3\n * // 4\n * // 5\n * // 6\n * ```\n *\n * Both Observable `a` and `b` will emit their values directly and synchronously once they are subscribed to.\n *\n * If we instead use the `subscribeOn` operator declaring that we want to use the {@link asyncScheduler} for values emitted by Observable `a`:\n *\n * ```ts\n * import { of, subscribeOn, asyncScheduler, merge } from 'rxjs';\n *\n * const a = of(1, 2, 3).pipe(subscribeOn(asyncScheduler));\n * const b = of(4, 5, 6);\n *\n * merge(a, b).subscribe(console.log);\n *\n * // Outputs\n * // 4\n * // 5\n * // 6\n * // 1\n * // 2\n * // 3\n * ```\n *\n * The reason for this is that Observable `b` emits its values directly and synchronously like before\n * but the emissions from `a` are scheduled on the event loop because we are now using the {@link asyncScheduler} for that specific Observable.\n *\n * @param scheduler The {@link SchedulerLike} to perform subscription actions on.\n * @param delay A delay to pass to the scheduler to delay subscriptions\n * @return A function that returns an Observable modified so that its\n * subscriptions happen on the specified {@link SchedulerLike}.\n */\nexport function subscribeOn<T>(scheduler: SchedulerLike, delay: number = 0): MonoTypeOperatorFunction<T> {\n  return operate((source, subscriber) => {\n    subscriber.add(scheduler.schedule(() => source.subscribe(subscriber), delay));\n  });\n}\n","import { SchedulerLike } from '../types';\nimport { Observable } from '../Observable';\nimport { executeSchedule } from '../util/executeSchedule';\n\nexport function scheduleAsyncIterable<T>(input: AsyncIterable<T>, scheduler: SchedulerLike) {\n  if (!input) {\n    throw new Error('Iterable cannot be null');\n  }\n  return new Observable<T>((subscriber) => {\n    executeSchedule(subscriber, scheduler, () => {\n      const iterator = input[Symbol.asyncIterator]();\n      executeSchedule(\n        subscriber,\n        scheduler,\n        () => {\n          iterator.next().then((result) => {\n            if (result.done) {\n              // This will remove the subscriptions from\n              // the parent subscription.\n              subscriber.complete();\n            } else {\n              subscriber.next(result.value);\n            }\n          });\n        },\n        0,\n        true\n      );\n    });\n  });\n}\n","import { scheduleObservable } from './scheduleObservable';\nimport { schedulePromise } from './schedulePromise';\nimport { scheduleArray } from './scheduleArray';\nimport { scheduleIterable } from './scheduleIterable';\nimport { scheduleAsyncIterable } from './scheduleAsyncIterable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isPromise } from '../util/isPromise';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isIterable } from '../util/isIterable';\nimport { ObservableInput, SchedulerLike } from '../types';\nimport { Observable } from '../Observable';\nimport { isAsyncIterable } from '../util/isAsyncIterable';\nimport { createInvalidObservableTypeError } from '../util/throwUnobservableError';\nimport { isReadableStreamLike } from '../util/isReadableStreamLike';\nimport { scheduleReadableStreamLike } from './scheduleReadableStreamLike';\n\n/**\n * Converts from a common {@link ObservableInput} type to an observable where subscription and emissions\n * are scheduled on the provided scheduler.\n *\n * @see {@link from}\n * @see {@link of}\n *\n * @param input The observable, array, promise, iterable, etc you would like to schedule\n * @param scheduler The scheduler to use to schedule the subscription and emissions from\n * the returned observable.\n */\nexport function scheduled<T>(input: ObservableInput<T>, scheduler: SchedulerLike): Observable<T> {\n  if (input != null) {\n    if (isInteropObservable(input)) {\n      return scheduleObservable(input, scheduler);\n    }\n    if (isArrayLike(input)) {\n      return scheduleArray(input, scheduler);\n    }\n    if (isPromise(input)) {\n      return schedulePromise(input, scheduler);\n    }\n    if (isAsyncIterable(input)) {\n      return scheduleAsyncIterable(input, scheduler);\n    }\n    if (isIterable(input)) {\n      return scheduleIterable(input, scheduler);\n    }\n    if (isReadableStreamLike(input)) {\n      return scheduleReadableStreamLike(input, scheduler);\n    }\n  }\n  throw createInvalidObservableTypeError(input);\n}\n","import { innerFrom } from '../observable/innerFrom';\nimport { observeOn } from '../operators/observeOn';\nimport { subscribeOn } from '../operators/subscribeOn';\nimport { InteropObservable, SchedulerLike } from '../types';\n\nexport function scheduleObservable<T>(input: InteropObservable<T>, scheduler: SchedulerLike) {\n  return innerFrom(input).pipe(subscribeOn(scheduler), observeOn(scheduler));\n}\n","import { Observable } from '../Observable';\nimport { SchedulerLike } from '../types';\n\nexport function scheduleArray<T>(input: ArrayLike<T>, scheduler: SchedulerLike) {\n  return new Observable<T>((subscriber) => {\n    // The current array index.\n    let i = 0;\n    // Start iterating over the array like on a schedule.\n    return scheduler.schedule(function () {\n      if (i === input.length) {\n        // If we have hit the end of the array like in the\n        // previous job, we can complete.\n        subscriber.complete();\n      } else {\n        // Otherwise let's next the value at the current index,\n        // then increment our index.\n        subscriber.next(input[i++]);\n        // If the last emission didn't cause us to close the subscriber\n        // (via take or some side effect), reschedule the job and we'll\n        // make another pass.\n        if (!subscriber.closed) {\n          this.schedule();\n        }\n      }\n    });\n  });\n}\n","import { innerFrom } from '../observable/innerFrom';\nimport { observeOn } from '../operators/observeOn';\nimport { subscribeOn } from '../operators/subscribeOn';\nimport { SchedulerLike } from '../types';\n\nexport function schedulePromise<T>(input: PromiseLike<T>, scheduler: SchedulerLike) {\n  return innerFrom(input).pipe(subscribeOn(scheduler), observeOn(scheduler));\n}\n","import { Observable } from '../Observable';\nimport { SchedulerLike } from '../types';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { isFunction } from '../util/isFunction';\nimport { executeSchedule } from '../util/executeSchedule';\n\n/**\n * Used in {@link scheduled} to create an observable from an Iterable.\n * @param input The iterable to create an observable from\n * @param scheduler The scheduler to use\n */\nexport function scheduleIterable<T>(input: Iterable<T>, scheduler: SchedulerLike) {\n  return new Observable<T>((subscriber) => {\n    let iterator: Iterator<T, T>;\n\n    // Schedule the initial creation of the iterator from\n    // the iterable. This is so the code in the iterable is\n    // not called until the scheduled job fires.\n    executeSchedule(subscriber, scheduler, () => {\n      // Create the iterator.\n      iterator = (input as any)[Symbol_iterator]();\n\n      executeSchedule(\n        subscriber,\n        scheduler,\n        () => {\n          let value: T;\n          let done: boolean | undefined;\n          try {\n            // Pull the value out of the iterator\n            ({ value, done } = iterator.next());\n          } catch (err) {\n            // We got an error while pulling from the iterator\n            subscriber.error(err);\n            return;\n          }\n\n          if (done) {\n            // If it is \"done\" we just complete. This mimics the\n            // behavior of JavaScript's `for..of` consumption of\n            // iterables, which will not emit the value from an iterator\n            // result of `{ done: true: value: 'here' }`.\n            subscriber.complete();\n          } else {\n            // The iterable is not done, emit the value.\n            subscriber.next(value);\n          }\n        },\n        0,\n        true\n      );\n    });\n\n    // During finalization, if we see this iterator has a `return` method,\n    // then we know it is a Generator, and not just an Iterator. So we call\n    // the `return()` function. This will ensure that any `finally { }` blocks\n    // inside of the generator we can hit will be hit properly.\n    return () => isFunction(iterator?.return) && iterator.return();\n  });\n}\n","import { SchedulerLike, ReadableStreamLike } from '../types';\nimport { Observable } from '../Observable';\nimport { scheduleAsyncIterable } from './scheduleAsyncIterable';\nimport { readableStreamLikeToAsyncGenerator } from '../util/isReadableStreamLike';\n\nexport function scheduleReadableStreamLike<T>(input: ReadableStreamLike<T>, scheduler: SchedulerLike): Observable<T> {\n  return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(input), scheduler);\n}\n","import { Observable } from '../Observable';\nimport { ObservableInput, SchedulerLike, ObservedValueOf } from '../types';\nimport { scheduled } from '../scheduled/scheduled';\nimport { innerFrom } from './innerFrom';\n\nexport function from<O extends ObservableInput<any>>(input: O): Observable<ObservedValueOf<O>>;\n/** @deprecated The `scheduler` parameter will be removed in v8. Use `scheduled`. Details: https://rxjs.dev/deprecations/scheduler-argument */\nexport function from<O extends ObservableInput<any>>(input: O, scheduler: SchedulerLike | undefined): Observable<ObservedValueOf<O>>;\n\n/**\n * Creates an Observable from an Array, an array-like object, a Promise, an iterable object, or an Observable-like object.\n *\n * <span class=\"informal\">Converts almost anything to an Observable.</span>\n *\n * ![](from.png)\n *\n * `from` converts various other objects and data types into Observables. It also converts a Promise, an array-like, or an\n * <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#iterable\" target=\"_blank\">iterable</a>\n * object into an Observable that emits the items in that promise, array, or iterable. A String, in this context, is treated\n * as an array of characters. Observable-like objects (contains a function named with the ES2015 Symbol for Observable) can also be\n * converted through this operator.\n *\n * ## Examples\n *\n * Converts an array to an Observable\n *\n * ```ts\n * import { from } from 'rxjs';\n *\n * const array = [10, 20, 30];\n * const result = from(array);\n *\n * result.subscribe(x => console.log(x));\n *\n * // Logs:\n * // 10\n * // 20\n * // 30\n * ```\n *\n * Convert an infinite iterable (from a generator) to an Observable\n *\n * ```ts\n * import { from, take } from 'rxjs';\n *\n * function* generateDoubles(seed) {\n *    let i = seed;\n *    while (true) {\n *      yield i;\n *      i = 2 * i; // double it\n *    }\n * }\n *\n * const iterator = generateDoubles(3);\n * const result = from(iterator).pipe(take(10));\n *\n * result.subscribe(x => console.log(x));\n *\n * // Logs:\n * // 3\n * // 6\n * // 12\n * // 24\n * // 48\n * // 96\n * // 192\n * // 384\n * // 768\n * // 1536\n * ```\n *\n * With `asyncScheduler`\n *\n * ```ts\n * import { from, asyncScheduler } from 'rxjs';\n *\n * console.log('start');\n *\n * const array = [10, 20, 30];\n * const result = from(array, asyncScheduler);\n *\n * result.subscribe(x => console.log(x));\n *\n * console.log('end');\n *\n * // Logs:\n * // 'start'\n * // 'end'\n * // 10\n * // 20\n * // 30\n * ```\n *\n * @see {@link fromEvent}\n * @see {@link fromEventPattern}\n *\n * @param {ObservableInput<T>} A subscription object, a Promise, an Observable-like,\n * an Array, an iterable, or an array-like object to be converted.\n * @param {SchedulerLike} An optional {@link SchedulerLike} on which to schedule the emission of values.\n * @return {Observable<T>}\n */\nexport function from<T>(input: ObservableInput<T>, scheduler?: SchedulerLike): Observable<T> {\n  return scheduler ? scheduled(input, scheduler) : innerFrom(input);\n}\n","import { Observable } from '../Observable';\nimport { ObservableInputTuple, SchedulerLike } from '../types';\nimport { concatAll } from '../operators/concatAll';\nimport { popScheduler } from '../util/args';\nimport { from } from './from';\n\nexport function concat<T extends readonly unknown[]>(...inputs: [...ObservableInputTuple<T>]): Observable<T[number]>;\nexport function concat<T extends readonly unknown[]>(\n  ...inputsAndScheduler: [...ObservableInputTuple<T>, SchedulerLike]\n): Observable<T[number]>;\n\n/**\n * Creates an output Observable which sequentially emits all values from the first given\n * Observable and then moves on to the next.\n *\n * <span class=\"informal\">Concatenates multiple Observables together by\n * sequentially emitting their values, one Observable after the other.</span>\n *\n * ![](concat.png)\n *\n * `concat` joins multiple Observables together, by subscribing to them one at a time and\n * merging their results into the output Observable. You can pass either an array of\n * Observables, or put them directly as arguments. Passing an empty array will result\n * in Observable that completes immediately.\n *\n * `concat` will subscribe to first input Observable and emit all its values, without\n * changing or affecting them in any way. When that Observable completes, it will\n * subscribe to then next Observable passed and, again, emit its values. This will be\n * repeated, until the operator runs out of Observables. When last input Observable completes,\n * `concat` will complete as well. At any given moment only one Observable passed to operator\n * emits values. If you would like to emit values from passed Observables concurrently, check out\n * {@link merge} instead, especially with optional `concurrent` parameter. As a matter of fact,\n * `concat` is an equivalent of `merge` operator with `concurrent` parameter set to `1`.\n *\n * Note that if some input Observable never completes, `concat` will also never complete\n * and Observables following the one that did not complete will never be subscribed. On the other\n * hand, if some Observable simply completes immediately after it is subscribed, it will be\n * invisible for `concat`, which will just move on to the next Observable.\n *\n * If any Observable in chain errors, instead of passing control to the next Observable,\n * `concat` will error immediately as well. Observables that would be subscribed after\n * the one that emitted error, never will.\n *\n * If you pass to `concat` the same Observable many times, its stream of values\n * will be \"replayed\" on every subscription, which means you can repeat given Observable\n * as many times as you like. If passing the same Observable to `concat` 1000 times becomes tedious,\n * you can always use {@link repeat}.\n *\n * ## Examples\n *\n * Concatenate a timer counting from 0 to 3 with a synchronous sequence from 1 to 10\n *\n * ```ts\n * import { interval, take, range, concat } from 'rxjs';\n *\n * const timer = interval(1000).pipe(take(4));\n * const sequence = range(1, 10);\n * const result = concat(timer, sequence);\n * result.subscribe(x => console.log(x));\n *\n * // results in:\n * // 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3 -immediate-> 1 ... 10\n * ```\n *\n * Concatenate 3 Observables\n *\n * ```ts\n * import { interval, take, concat } from 'rxjs';\n *\n * const timer1 = interval(1000).pipe(take(10));\n * const timer2 = interval(2000).pipe(take(6));\n * const timer3 = interval(500).pipe(take(10));\n *\n * const result = concat(timer1, timer2, timer3);\n * result.subscribe(x => console.log(x));\n *\n * // results in the following:\n * // (Prints to console sequentially)\n * // -1000ms-> 0 -1000ms-> 1 -1000ms-> ... 9\n * // -2000ms-> 0 -2000ms-> 1 -2000ms-> ... 5\n * // -500ms-> 0 -500ms-> 1 -500ms-> ... 9\n * ```\n *\n * Concatenate the same Observable to repeat it\n *\n * ```ts\n * import { interval, take, concat } from 'rxjs';\n *\n * const timer = interval(1000).pipe(take(2));\n *\n * concat(timer, timer) // concatenating the same Observable!\n *   .subscribe({\n *     next: value => console.log(value),\n *     complete: () => console.log('...and it is done!')\n *   });\n *\n * // Logs:\n * // 0 after 1s\n * // 1 after 2s\n * // 0 after 3s\n * // 1 after 4s\n * // '...and it is done!' also after 4s\n * ```\n *\n * @see {@link concatAll}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n * @see {@link startWith}\n * @see {@link endWith}\n *\n * @param args Input Observables to concatenate.\n */\nexport function concat(...args: any[]): Observable<unknown> {\n  return concatAll()(from(args, popScheduler(args)));\n}\n","import { mergeAll } from './mergeAll';\nimport { OperatorFunction, ObservableInput, ObservedValueOf } from '../types';\n\n/**\n * Converts a higher-order Observable into a first-order Observable by\n * concatenating the inner Observables in order.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables by putting one\n * inner Observable after the other.</span>\n *\n * ![](concatAll.svg)\n *\n * Joins every Observable emitted by the source (a higher-order Observable), in\n * a serial fashion. It subscribes to each inner Observable only after the\n * previous inner Observable has completed, and merges all of their values into\n * the returned observable.\n *\n * __Warning:__ If the source Observable emits Observables quickly and\n * endlessly, and the inner Observables it emits generally complete slower than\n * the source emits, you can run into memory issues as the incoming Observables\n * collect in an unbounded buffer.\n *\n * Note: `concatAll` is equivalent to `mergeAll` with concurrency parameter set\n * to `1`.\n *\n * ## Example\n *\n * For each click event, tick every second from 0 to 3, with no concurrency\n *\n * ```ts\n * import { fromEvent, map, interval, take, concatAll } from 'rxjs';\n *\n * const clicks = fromEvent(document, 'click');\n * const higherOrder = clicks.pipe(\n *   map(() => interval(1000).pipe(take(4)))\n * );\n * const firstOrder = higherOrder.pipe(concatAll());\n * firstOrder.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // (results are not concurrent)\n * // For every click on the \"document\" it will emit values 0 to 3 spaced\n * // on a 1000ms interval\n * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3\n * ```\n *\n * @see {@link combineLatestAll}\n * @see {@link concat}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n * @see {@link exhaustAll}\n * @see {@link mergeAll}\n * @see {@link switchAll}\n * @see {@link switchMap}\n * @see {@link zipAll}\n *\n * @return A function that returns an Observable emitting values from all the\n * inner Observables concatenated.\n */\nexport function concatAll<O extends ObservableInput<any>>(): OperatorFunction<O, ObservedValueOf<O>> {\n  return mergeAll(1);\n}\n","import { concat } from '../observable/concat';\nimport { OperatorFunction, SchedulerLike, ValueFromArray } from '../types';\nimport { popScheduler } from '../util/args';\nimport { operate } from '../util/lift';\n\n// Devs are more likely to pass null or undefined than they are a scheduler\n// without accompanying values. To make things easier for (naughty) devs who\n// use the `strictNullChecks: false` TypeScript compiler option, these\n// overloads with explicit null and undefined values are included.\n\nexport function startWith<T>(value: null): OperatorFunction<T, T | null>;\nexport function startWith<T>(value: undefined): OperatorFunction<T, T | undefined>;\n\n/** @deprecated The `scheduler` parameter will be removed in v8. Use `scheduled` and `concatAll`. Details: https://rxjs.dev/deprecations/scheduler-argument */\nexport function startWith<T, A extends readonly unknown[] = T[]>(\n  ...valuesAndScheduler: [...A, SchedulerLike]\n): OperatorFunction<T, T | ValueFromArray<A>>;\nexport function startWith<T, A extends readonly unknown[] = T[]>(...values: A): OperatorFunction<T, T | ValueFromArray<A>>;\n\n/**\n * Returns an observable that, at the moment of subscription, will synchronously emit all\n * values provided to this operator, then subscribe to the source and mirror all of its emissions\n * to subscribers.\n *\n * This is a useful way to know when subscription has occurred on an existing observable.\n *\n * <span class=\"informal\">First emits its arguments in order, and then any\n * emissions from the source.</span>\n *\n * ![](startWith.png)\n *\n * ## Examples\n *\n * Emit a value when a timer starts.\n *\n * ```ts\n * import { timer, map, startWith } from 'rxjs';\n *\n * timer(1000)\n *   .pipe(\n *     map(() => 'timer emit'),\n *     startWith('timer start')\n *   )\n *   .subscribe(x => console.log(x));\n *\n * // results:\n * // 'timer start'\n * // 'timer emit'\n * ```\n *\n * @param values Items you want the modified Observable to emit first.\n * @return A function that returns an Observable that synchronously emits\n * provided values before subscribing to the source Observable.\n *\n * @see {@link endWith}\n * @see {@link finalize}\n * @see {@link concat}\n */\nexport function startWith<T, D>(...values: D[]): OperatorFunction<T, T | D> {\n  const scheduler = popScheduler(values);\n  return operate((source, subscriber) => {\n    // Here we can't pass `undefined` as a scheduler, because if we did, the\n    // code inside of `concat` would be confused by the `undefined`, and treat it\n    // like an invalid observable. So we have to split it two different ways.\n    (scheduler ? concat(values, source, scheduler) : concat(values, source)).subscribe(subscriber);\n  });\n}\n","import { MonoTypeOperatorFunction } from '../types';\nimport { identity } from '../util/identity';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\n\nexport function distinctUntilChanged<T>(comparator?: (previous: T, current: T) => boolean): MonoTypeOperatorFunction<T>;\nexport function distinctUntilChanged<T, K>(\n  comparator: (previous: K, current: K) => boolean,\n  keySelector: (value: T) => K\n): MonoTypeOperatorFunction<T>;\n\n/**\n * Returns a result {@link Observable} that emits all values pushed by the source observable if they\n * are distinct in comparison to the last value the result observable emitted.\n *\n * When provided without parameters or with the first parameter (`{@link distinctUntilChanged#comparator comparator}`),\n * it behaves like this:\n *\n * 1. It will always emit the first value from the source.\n * 2. For all subsequent values pushed by the source, they will be compared to the previously emitted values\n *    using the provided `comparator` or an `===` equality check.\n * 3. If the value pushed by the source is determined to be unequal by this check, that value is emitted and\n *    becomes the new \"previously emitted value\" internally.\n *\n * When the second parameter (`{@link distinctUntilChanged#keySelector keySelector}`) is provided, the behavior\n * changes:\n *\n * 1. It will always emit the first value from the source.\n * 2. The `keySelector` will be run against all values, including the first value.\n * 3. For all values after the first, the selected key will be compared against the key selected from\n *    the previously emitted value using the `comparator`.\n * 4. If the keys are determined to be unequal by this check, the value (not the key), is emitted\n *    and the selected key from that value is saved for future comparisons against other keys.\n *\n * ## Examples\n *\n * A very basic example with no `{@link distinctUntilChanged#comparator comparator}`. Note that `1` is emitted more than once,\n * because it's distinct in comparison to the _previously emitted_ value,\n * not in comparison to _all other emitted values_.\n *\n * ```ts\n * import { of, distinctUntilChanged } from 'rxjs';\n *\n * of(1, 1, 1, 2, 2, 2, 1, 1, 3, 3)\n *   .pipe(distinctUntilChanged())\n *   .subscribe(console.log);\n * // Logs: 1, 2, 1, 3\n * ```\n *\n * With a `{@link distinctUntilChanged#comparator comparator}`, you can do custom comparisons. Let's say\n * you only want to emit a value when all of its components have\n * changed:\n *\n * ```ts\n * import { of, distinctUntilChanged } from 'rxjs';\n *\n * const totallyDifferentBuilds$ = of(\n *   { engineVersion: '1.1.0', transmissionVersion: '1.2.0' },\n *   { engineVersion: '1.1.0', transmissionVersion: '1.4.0' },\n *   { engineVersion: '1.3.0', transmissionVersion: '1.4.0' },\n *   { engineVersion: '1.3.0', transmissionVersion: '1.5.0' },\n *   { engineVersion: '2.0.0', transmissionVersion: '1.5.0' }\n * ).pipe(\n *   distinctUntilChanged((prev, curr) => {\n *     return (\n *       prev.engineVersion === curr.engineVersion ||\n *       prev.transmissionVersion === curr.transmissionVersion\n *     );\n *   })\n * );\n *\n * totallyDifferentBuilds$.subscribe(console.log);\n *\n * // Logs:\n * // { engineVersion: '1.1.0', transmissionVersion: '1.2.0' }\n * // { engineVersion: '1.3.0', transmissionVersion: '1.4.0' }\n * // { engineVersion: '2.0.0', transmissionVersion: '1.5.0' }\n * ```\n *\n * You can also provide a custom `{@link distinctUntilChanged#comparator comparator}` to check that emitted\n * changes are only in one direction. Let's say you only want to get\n * the next record temperature:\n *\n * ```ts\n * import { of, distinctUntilChanged } from 'rxjs';\n *\n * const temps$ = of(30, 31, 20, 34, 33, 29, 35, 20);\n *\n * const recordHighs$ = temps$.pipe(\n *   distinctUntilChanged((prevHigh, temp) => {\n *     // If the current temp is less than\n *     // or the same as the previous record,\n *     // the record hasn't changed.\n *     return temp <= prevHigh;\n *   })\n * );\n *\n * recordHighs$.subscribe(console.log);\n * // Logs: 30, 31, 34, 35\n * ```\n *\n * Selecting update events only when the `updatedBy` field shows\n * the account changed hands.\n *\n * ```ts\n * import { of, distinctUntilChanged } from 'rxjs';\n *\n * // A stream of updates to a given account\n * const accountUpdates$ = of(\n *   { updatedBy: 'blesh', data: [] },\n *   { updatedBy: 'blesh', data: [] },\n *   { updatedBy: 'ncjamieson', data: [] },\n *   { updatedBy: 'ncjamieson', data: [] },\n *   { updatedBy: 'blesh', data: [] }\n * );\n *\n * // We only want the events where it changed hands\n * const changedHands$ = accountUpdates$.pipe(\n *   distinctUntilChanged(undefined, update => update.updatedBy)\n * );\n *\n * changedHands$.subscribe(console.log);\n * // Logs:\n * // { updatedBy: 'blesh', data: Array[0] }\n * // { updatedBy: 'ncjamieson', data: Array[0] }\n * // { updatedBy: 'blesh', data: Array[0] }\n * ```\n *\n * @see {@link distinct}\n * @see {@link distinctUntilKeyChanged}\n *\n * @param comparator A function used to compare the previous and current keys for\n * equality. Defaults to a `===` check.\n * @param keySelector Used to select a key value to be passed to the `comparator`.\n *\n * @return A function that returns an Observable that emits items from the\n * source Observable with distinct values.\n */\nexport function distinctUntilChanged<T, K>(\n  comparator?: (previous: K, current: K) => boolean,\n  keySelector: (value: T) => K = identity as (value: T) => K\n): MonoTypeOperatorFunction<T> {\n  // We've been allowing `null` do be passed as the `compare`, so we can't do\n  // a default value for the parameter, because that will only work\n  // for `undefined`.\n  comparator = comparator ?? defaultCompare;\n\n  return operate((source, subscriber) => {\n    // The previous key, used to compare against keys selected\n    // from new arrivals to determine \"distinctiveness\".\n    let previousKey: K;\n    // Whether or not this is the first value we've gotten.\n    let first = true;\n\n    source.subscribe(\n      createOperatorSubscriber(subscriber, (value) => {\n        // We always call the key selector.\n        const currentKey = keySelector(value);\n\n        // If it's the first value, we always emit it.\n        // Otherwise, we compare this key to the previous key, and\n        // if the comparer returns false, we emit.\n        if (first || !comparator!(previousKey, currentKey)) {\n          // Update our state *before* we emit the value\n          // as emission can be the source of re-entrant code\n          // in functional libraries like this. We only really\n          // need to do this if it's the first value, or if the\n          // key we're tracking in previous needs to change.\n          first = false;\n          previousKey = currentKey;\n\n          // Emit the value!\n          subscriber.next(value);\n        }\n      })\n    );\n  });\n}\n\nfunction defaultCompare(a: any, b: any) {\n  return a === b;\n}\n","import { createErrorClass } from './createErrorClass';\n\nexport interface ObjectUnsubscribedError extends Error {}\n\nexport interface ObjectUnsubscribedErrorCtor {\n  /**\n   * @deprecated Internal implementation detail. Do not construct error instances.\n   * Cannot be tagged as internal: https://github.com/ReactiveX/rxjs/issues/6269\n   */\n  new (): ObjectUnsubscribedError;\n}\n\n/**\n * An error thrown when an action is invalid because the object has been\n * unsubscribed.\n *\n * @see {@link Subject}\n * @see {@link BehaviorSubject}\n *\n * @class ObjectUnsubscribedError\n */\nexport const ObjectUnsubscribedError: ObjectUnsubscribedErrorCtor = createErrorClass(\n  (_super) =>\n    function ObjectUnsubscribedErrorImpl(this: any) {\n      _super(this);\n      this.name = 'ObjectUnsubscribedError';\n      this.message = 'object unsubscribed';\n    }\n);\n","import { Operator } from './Operator';\nimport { Observable } from './Observable';\nimport { Subscriber } from './Subscriber';\nimport { Subscription, EMPTY_SUBSCRIPTION } from './Subscription';\nimport { Observer, SubscriptionLike, TeardownLogic } from './types';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { arrRemove } from './util/arrRemove';\nimport { errorContext } from './util/errorContext';\n\n/**\n * A Subject is a special type of Observable that allows values to be\n * multicasted to many Observers. Subjects are like EventEmitters.\n *\n * Every Subject is an Observable and an Observer. You can subscribe to a\n * Subject, and you can call next to feed values as well as error and complete.\n */\nexport class Subject<T> extends Observable<T> implements SubscriptionLike {\n  closed = false;\n\n  private currentObservers: Observer<T>[] | null = null;\n\n  /** @deprecated Internal implementation detail, do not use directly. Will be made internal in v8. */\n  observers: Observer<T>[] = [];\n  /** @deprecated Internal implementation detail, do not use directly. Will be made internal in v8. */\n  isStopped = false;\n  /** @deprecated Internal implementation detail, do not use directly. Will be made internal in v8. */\n  hasError = false;\n  /** @deprecated Internal implementation detail, do not use directly. Will be made internal in v8. */\n  thrownError: any = null;\n\n  /**\n   * Creates a \"subject\" by basically gluing an observer to an observable.\n   *\n   * @nocollapse\n   * @deprecated Recommended you do not use. Will be removed at some point in the future. Plans for replacement still under discussion.\n   */\n  static create: (...args: any[]) => any = <T>(destination: Observer<T>, source: Observable<T>): AnonymousSubject<T> => {\n    return new AnonymousSubject<T>(destination, source);\n  };\n\n  constructor() {\n    // NOTE: This must be here to obscure Observable's constructor.\n    super();\n  }\n\n  /** @deprecated Internal implementation detail, do not use directly. Will be made internal in v8. */\n  lift<R>(operator: Operator<T, R>): Observable<R> {\n    const subject = new AnonymousSubject(this, this);\n    subject.operator = operator as any;\n    return subject as any;\n  }\n\n  /** @internal */\n  protected _throwIfClosed() {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    }\n  }\n\n  next(value: T) {\n    errorContext(() => {\n      this._throwIfClosed();\n      if (!this.isStopped) {\n        if (!this.currentObservers) {\n          this.currentObservers = Array.from(this.observers);\n        }\n        for (const observer of this.currentObservers) {\n          observer.next(value);\n        }\n      }\n    });\n  }\n\n  error(err: any) {\n    errorContext(() => {\n      this._throwIfClosed();\n      if (!this.isStopped) {\n        this.hasError = this.isStopped = true;\n        this.thrownError = err;\n        const { observers } = this;\n        while (observers.length) {\n          observers.shift()!.error(err);\n        }\n      }\n    });\n  }\n\n  complete() {\n    errorContext(() => {\n      this._throwIfClosed();\n      if (!this.isStopped) {\n        this.isStopped = true;\n        const { observers } = this;\n        while (observers.length) {\n          observers.shift()!.complete();\n        }\n      }\n    });\n  }\n\n  unsubscribe() {\n    this.isStopped = this.closed = true;\n    this.observers = this.currentObservers = null!;\n  }\n\n  get observed() {\n    return this.observers?.length > 0;\n  }\n\n  /** @internal */\n  protected _trySubscribe(subscriber: Subscriber<T>): TeardownLogic {\n    this._throwIfClosed();\n    return super._trySubscribe(subscriber);\n  }\n\n  /** @internal */\n  protected _subscribe(subscriber: Subscriber<T>): Subscription {\n    this._throwIfClosed();\n    this._checkFinalizedStatuses(subscriber);\n    return this._innerSubscribe(subscriber);\n  }\n\n  /** @internal */\n  protected _innerSubscribe(subscriber: Subscriber<any>) {\n    const { hasError, isStopped, observers } = this;\n    if (hasError || isStopped) {\n      return EMPTY_SUBSCRIPTION;\n    }\n    this.currentObservers = null;\n    observers.push(subscriber);\n    return new Subscription(() => {\n      this.currentObservers = null;\n      arrRemove(observers, subscriber);\n    });\n  }\n\n  /** @internal */\n  protected _checkFinalizedStatuses(subscriber: Subscriber<any>) {\n    const { hasError, thrownError, isStopped } = this;\n    if (hasError) {\n      subscriber.error(thrownError);\n    } else if (isStopped) {\n      subscriber.complete();\n    }\n  }\n\n  /**\n   * Creates a new Observable with this Subject as the source. You can do this\n   * to create custom Observer-side logic of the Subject and conceal it from\n   * code that uses the Observable.\n   * @return {Observable} Observable that the Subject casts to\n   */\n  asObservable(): Observable<T> {\n    const observable: any = new Observable<T>();\n    observable.source = this;\n    return observable;\n  }\n}\n\n/**\n * @class AnonymousSubject<T>\n */\nexport class AnonymousSubject<T> extends Subject<T> {\n  constructor(\n    /** @deprecated Internal implementation detail, do not use directly. Will be made internal in v8. */\n    public destination?: Observer<T>,\n    source?: Observable<T>\n  ) {\n    super();\n    this.source = source;\n  }\n\n  next(value: T) {\n    this.destination?.next?.(value);\n  }\n\n  error(err: any) {\n    this.destination?.error?.(err);\n  }\n\n  complete() {\n    this.destination?.complete?.();\n  }\n\n  /** @internal */\n  protected _subscribe(subscriber: Subscriber<T>): Subscription {\n    return this.source?.subscribe(subscriber) ?? EMPTY_SUBSCRIPTION;\n  }\n}\n","import { TimestampProvider } from '../types';\n\ninterface DateTimestampProvider extends TimestampProvider {\n  delegate: TimestampProvider | undefined;\n}\n\nexport const dateTimestampProvider: DateTimestampProvider = {\n  now() {\n    // Use the variable rather than `this` so that the function can be called\n    // without being bound to the provider.\n    return (dateTimestampProvider.delegate || Date).now();\n  },\n  delegate: undefined,\n};\n","import { Subject } from './Subject';\nimport { TimestampProvider } from './types';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { dateTimestampProvider } from './scheduler/dateTimestampProvider';\n\n/**\n * A variant of {@link Subject} that \"replays\" old values to new subscribers by emitting them when they first subscribe.\n *\n * `ReplaySubject` has an internal buffer that will store a specified number of values that it has observed. Like `Subject`,\n * `ReplaySubject` \"observes\" values by having them passed to its `next` method. When it observes a value, it will store that\n * value for a time determined by the configuration of the `ReplaySubject`, as passed to its constructor.\n *\n * When a new subscriber subscribes to the `ReplaySubject` instance, it will synchronously emit all values in its buffer in\n * a First-In-First-Out (FIFO) manner. The `ReplaySubject` will also complete, if it has observed completion; and it will\n * error if it has observed an error.\n *\n * There are two main configuration items to be concerned with:\n *\n * 1. `bufferSize` - This will determine how many items are stored in the buffer, defaults to infinite.\n * 2. `windowTime` - The amount of time to hold a value in the buffer before removing it from the buffer.\n *\n * Both configurations may exist simultaneously. So if you would like to buffer a maximum of 3 values, as long as the values\n * are less than 2 seconds old, you could do so with a `new ReplaySubject(3, 2000)`.\n *\n * ### Differences with BehaviorSubject\n *\n * `BehaviorSubject` is similar to `new ReplaySubject(1)`, with a couple of exceptions:\n *\n * 1. `BehaviorSubject` comes \"primed\" with a single value upon construction.\n * 2. `ReplaySubject` will replay values, even after observing an error, where `BehaviorSubject` will not.\n *\n * @see {@link Subject}\n * @see {@link BehaviorSubject}\n * @see {@link shareReplay}\n */\nexport class ReplaySubject<T> extends Subject<T> {\n  private _buffer: (T | number)[] = [];\n  private _infiniteTimeWindow = true;\n\n  /**\n   * @param bufferSize The size of the buffer to replay on subscription\n   * @param windowTime The amount of time the buffered items will stay buffered\n   * @param timestampProvider An object with a `now()` method that provides the current timestamp. This is used to\n   * calculate the amount of time something has been buffered.\n   */\n  constructor(\n    private _bufferSize = Infinity,\n    private _windowTime = Infinity,\n    private _timestampProvider: TimestampProvider = dateTimestampProvider\n  ) {\n    super();\n    this._infiniteTimeWindow = _windowTime === Infinity;\n    this._bufferSize = Math.max(1, _bufferSize);\n    this._windowTime = Math.max(1, _windowTime);\n  }\n\n  next(value: T): void {\n    const { isStopped, _buffer, _infiniteTimeWindow, _timestampProvider, _windowTime } = this;\n    if (!isStopped) {\n      _buffer.push(value);\n      !_infiniteTimeWindow && _buffer.push(_timestampProvider.now() + _windowTime);\n    }\n    this._trimBuffer();\n    super.next(value);\n  }\n\n  /** @internal */\n  protected _subscribe(subscriber: Subscriber<T>): Subscription {\n    this._throwIfClosed();\n    this._trimBuffer();\n\n    const subscription = this._innerSubscribe(subscriber);\n\n    const { _infiniteTimeWindow, _buffer } = this;\n    // We use a copy here, so reentrant code does not mutate our array while we're\n    // emitting it to a new subscriber.\n    const copy = _buffer.slice();\n    for (let i = 0; i < copy.length && !subscriber.closed; i += _infiniteTimeWindow ? 1 : 2) {\n      subscriber.next(copy[i] as T);\n    }\n\n    this._checkFinalizedStatuses(subscriber);\n\n    return subscription;\n  }\n\n  private _trimBuffer() {\n    const { _bufferSize, _timestampProvider, _buffer, _infiniteTimeWindow } = this;\n    // If we don't have an infinite buffer size, and we're over the length,\n    // use splice to truncate the old buffer values off. Note that we have to\n    // double the size for instances where we're not using an infinite time window\n    // because we're storing the values and the timestamps in the same array.\n    const adjustedBufferSize = (_infiniteTimeWindow ? 1 : 2) * _bufferSize;\n    _bufferSize < Infinity && adjustedBufferSize < _buffer.length && _buffer.splice(0, _buffer.length - adjustedBufferSize);\n\n    // Now, if we're not in an infinite time window, remove all values where the time is\n    // older than what is allowed.\n    if (!_infiniteTimeWindow) {\n      const now = _timestampProvider.now();\n      let last = 0;\n      // Search the array for the first timestamp that isn't expired and\n      // truncate the buffer up to that point.\n      for (let i = 1; i < _buffer.length && (_buffer[i] as number) <= now; i += 2) {\n        last = i;\n      }\n      last && _buffer.splice(0, last + 1);\n    }\n  }\n}\n","import { innerFrom } from '../observable/innerFrom';\nimport { Subject } from '../Subject';\nimport { SafeSubscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { MonoTypeOperatorFunction, SubjectLike, ObservableInput } from '../types';\nimport { operate } from '../util/lift';\n\nexport interface ShareConfig<T> {\n  /**\n   * The factory used to create the subject that will connect the source observable to\n   * multicast consumers.\n   */\n  connector?: () => SubjectLike<T>;\n  /**\n   * If `true`, the resulting observable will reset internal state on error from source and return to a \"cold\" state. This\n   * allows the resulting observable to be \"retried\" in the event of an error.\n   * If `false`, when an error comes from the source it will push the error into the connecting subject, and the subject\n   * will remain the connecting subject, meaning the resulting observable will not go \"cold\" again, and subsequent retries\n   * or resubscriptions will resubscribe to that same subject. In all cases, RxJS subjects will emit the same error again, however\n   * {@link ReplaySubject} will also push its buffered values before pushing the error.\n   * It is also possible to pass a notifier factory returning an `ObservableInput` instead which grants more fine-grained\n   * control over how and when the reset should happen. This allows behaviors like conditional or delayed resets.\n   */\n  resetOnError?: boolean | ((error: any) => ObservableInput<any>);\n  /**\n   * If `true`, the resulting observable will reset internal state on completion from source and return to a \"cold\" state. This\n   * allows the resulting observable to be \"repeated\" after it is done.\n   * If `false`, when the source completes, it will push the completion through the connecting subject, and the subject\n   * will remain the connecting subject, meaning the resulting observable will not go \"cold\" again, and subsequent repeats\n   * or resubscriptions will resubscribe to that same subject.\n   * It is also possible to pass a notifier factory returning an `ObservableInput` instead which grants more fine-grained\n   * control over how and when the reset should happen. This allows behaviors like conditional or delayed resets.\n   */\n  resetOnComplete?: boolean | (() => ObservableInput<any>);\n  /**\n   * If `true`, when the number of subscribers to the resulting observable reaches zero due to those subscribers unsubscribing, the\n   * internal state will be reset and the resulting observable will return to a \"cold\" state. This means that the next\n   * time the resulting observable is subscribed to, a new subject will be created and the source will be subscribed to\n   * again.\n   * If `false`, when the number of subscribers to the resulting observable reaches zero due to unsubscription, the subject\n   * will remain connected to the source, and new subscriptions to the result will be connected through that same subject.\n   * It is also possible to pass a notifier factory returning an `ObservableInput` instead which grants more fine-grained\n   * control over how and when the reset should happen. This allows behaviors like conditional or delayed resets.\n   */\n  resetOnRefCountZero?: boolean | (() => ObservableInput<any>);\n}\n\nexport function share<T>(): MonoTypeOperatorFunction<T>;\n\nexport function share<T>(options: ShareConfig<T>): MonoTypeOperatorFunction<T>;\n\n/**\n * Returns a new Observable that multicasts (shares) the original Observable. As long as there is at least one\n * Subscriber this Observable will be subscribed and emitting data. When all subscribers have unsubscribed it will\n * unsubscribe from the source Observable. Because the Observable is multicasting it makes the stream `hot`.\n * This is an alias for `multicast(() => new Subject()), refCount()`.\n *\n * The subscription to the underlying source Observable can be reset (unsubscribe and resubscribe for new subscribers),\n * if the subscriber count to the shared observable drops to 0, or if the source Observable errors or completes. It is\n * possible to use notifier factories for the resets to allow for behaviors like conditional or delayed resets. Please\n * note that resetting on error or complete of the source Observable does not behave like a transparent retry or restart\n * of the source because the error or complete will be forwarded to all subscribers and their subscription will be\n * closed. Only new subscribers after a reset on error or complete happened will cause a fresh subscription to the\n * source. To achieve transparent retries or restarts pipe the source through appropriate operators before sharing.\n *\n * ![](share.png)\n *\n * ## Example\n *\n * Generate new multicast Observable from the `source` Observable value\n *\n * ```ts\n * import { interval, tap, map, take, share } from 'rxjs';\n *\n * const source = interval(1000).pipe(\n *   tap(x => console.log('Processing: ', x)),\n *   map(x => x * x),\n *   take(6),\n *   share()\n * );\n *\n * source.subscribe(x => console.log('subscription 1: ', x));\n * source.subscribe(x => console.log('subscription 2: ', x));\n *\n * // Logs:\n * // Processing: 0\n * // subscription 1: 0\n * // subscription 2: 0\n * // Processing: 1\n * // subscription 1: 1\n * // subscription 2: 1\n * // Processing: 2\n * // subscription 1: 4\n * // subscription 2: 4\n * // Processing: 3\n * // subscription 1: 9\n * // subscription 2: 9\n * // Processing: 4\n * // subscription 1: 16\n * // subscription 2: 16\n * // Processing: 5\n * // subscription 1: 25\n * // subscription 2: 25\n * ```\n *\n * ## Example with notifier factory: Delayed reset\n *\n * ```ts\n * import { interval, take, share, timer } from 'rxjs';\n *\n * const source = interval(1000).pipe(\n *   take(3),\n *   share({\n *     resetOnRefCountZero: () => timer(1000)\n *   })\n * );\n *\n * const subscriptionOne = source.subscribe(x => console.log('subscription 1: ', x));\n * setTimeout(() => subscriptionOne.unsubscribe(), 1300);\n *\n * setTimeout(() => source.subscribe(x => console.log('subscription 2: ', x)), 1700);\n *\n * setTimeout(() => source.subscribe(x => console.log('subscription 3: ', x)), 5000);\n *\n * // Logs:\n * // subscription 1:  0\n * // (subscription 1 unsubscribes here)\n * // (subscription 2 subscribes here ~400ms later, source was not reset)\n * // subscription 2:  1\n * // subscription 2:  2\n * // (subscription 2 unsubscribes here)\n * // (subscription 3 subscribes here ~2000ms later, source did reset before)\n * // subscription 3:  0\n * // subscription 3:  1\n * // subscription 3:  2\n * ```\n *\n * @see {@link shareReplay}\n *\n * @return A function that returns an Observable that mirrors the source.\n */\nexport function share<T>(options: ShareConfig<T> = {}): MonoTypeOperatorFunction<T> {\n  const { connector = () => new Subject<T>(), resetOnError = true, resetOnComplete = true, resetOnRefCountZero = true } = options;\n  // It's necessary to use a wrapper here, as the _operator_ must be\n  // referentially transparent. Otherwise, it cannot be used in calls to the\n  // static `pipe` function - to create a partial pipeline.\n  //\n  // The _operator function_ - the function returned by the _operator_ - will\n  // not be referentially transparent - as it shares its source - but the\n  // _operator function_ is called when the complete pipeline is composed via a\n  // call to a source observable's `pipe` method - not when the static `pipe`\n  // function is called.\n  return (wrapperSource) => {\n    let connection: SafeSubscriber<T> | undefined;\n    let resetConnection: Subscription | undefined;\n    let subject: SubjectLike<T> | undefined;\n    let refCount = 0;\n    let hasCompleted = false;\n    let hasErrored = false;\n\n    const cancelReset = () => {\n      resetConnection?.unsubscribe();\n      resetConnection = undefined;\n    };\n    // Used to reset the internal state to a \"cold\"\n    // state, as though it had never been subscribed to.\n    const reset = () => {\n      cancelReset();\n      connection = subject = undefined;\n      hasCompleted = hasErrored = false;\n    };\n    const resetAndUnsubscribe = () => {\n      // We need to capture the connection before\n      // we reset (if we need to reset).\n      const conn = connection;\n      reset();\n      conn?.unsubscribe();\n    };\n\n    return operate<T, T>((source, subscriber) => {\n      refCount++;\n      if (!hasErrored && !hasCompleted) {\n        cancelReset();\n      }\n\n      // Create the subject if we don't have one yet. Grab a local reference to\n      // it as well, which avoids non-null assertions when using it and, if we\n      // connect to it now, then error/complete need a reference after it was\n      // reset.\n      const dest = (subject = subject ?? connector());\n\n      // Add the finalization directly to the subscriber - instead of returning it -\n      // so that the handling of the subscriber's unsubscription will be wired\n      // up _before_ the subscription to the source occurs. This is done so that\n      // the assignment to the source connection's `closed` property will be seen\n      // by synchronous firehose sources.\n      subscriber.add(() => {\n        refCount--;\n\n        // If we're resetting on refCount === 0, and it's 0, we only want to do\n        // that on \"unsubscribe\", really. Resetting on error or completion is a different\n        // configuration.\n        if (refCount === 0 && !hasErrored && !hasCompleted) {\n          resetConnection = handleReset(resetAndUnsubscribe, resetOnRefCountZero);\n        }\n      });\n\n      // The following line adds the subscription to the subscriber passed.\n      // Basically, `subscriber === dest.subscribe(subscriber)` is `true`.\n      dest.subscribe(subscriber);\n\n      if (\n        !connection &&\n        // Check this shareReplay is still activate - it can be reset to 0\n        // and be \"unsubscribed\" _before_ it actually subscribes.\n        // If we were to subscribe then, it'd leak and get stuck.\n        refCount > 0\n      ) {\n        // We need to create a subscriber here - rather than pass an observer and\n        // assign the returned subscription to connection - because it's possible\n        // for reentrant subscriptions to the shared observable to occur and in\n        // those situations we want connection to be already-assigned so that we\n        // don't create another connection to the source.\n        connection = new SafeSubscriber({\n          next: (value) => dest.next(value),\n          error: (err) => {\n            hasErrored = true;\n            cancelReset();\n            resetConnection = handleReset(reset, resetOnError, err);\n            dest.error(err);\n          },\n          complete: () => {\n            hasCompleted = true;\n            cancelReset();\n            resetConnection = handleReset(reset, resetOnComplete);\n            dest.complete();\n          },\n        });\n        innerFrom(source).subscribe(connection);\n      }\n    })(wrapperSource);\n  };\n}\n\nfunction handleReset<T extends unknown[] = never[]>(\n  reset: () => void,\n  on: boolean | ((...args: T) => ObservableInput<any>),\n  ...args: T\n): Subscription | undefined {\n  if (on === true) {\n    reset();\n    return;\n  }\n\n  if (on === false) {\n    return;\n  }\n\n  const onSubscriber = new SafeSubscriber({\n    next: () => {\n      onSubscriber.unsubscribe();\n      reset();\n    },\n  });\n\n  return innerFrom(on(...args)).subscribe(onSubscriber);\n}\n","import { ReplaySubject } from '../ReplaySubject';\nimport { MonoTypeOperatorFunction, SchedulerLike } from '../types';\nimport { share } from './share';\n\nexport interface ShareReplayConfig {\n  bufferSize?: number;\n  windowTime?: number;\n  refCount: boolean;\n  scheduler?: SchedulerLike;\n}\n\nexport function shareReplay<T>(config: ShareReplayConfig): MonoTypeOperatorFunction<T>;\nexport function shareReplay<T>(bufferSize?: number, windowTime?: number, scheduler?: SchedulerLike): MonoTypeOperatorFunction<T>;\n\n/**\n * Share source and replay specified number of emissions on subscription.\n *\n * This operator is a specialization of `replay` that connects to a source observable\n * and multicasts through a `ReplaySubject` constructed with the specified arguments.\n * A successfully completed source will stay cached in the `shareReplay`ed observable forever,\n * but an errored source can be retried.\n *\n * ## Why use `shareReplay`?\n *\n * You generally want to use `shareReplay` when you have side-effects or taxing computations\n * that you do not wish to be executed amongst multiple subscribers.\n * It may also be valuable in situations where you know you will have late subscribers to\n * a stream that need access to previously emitted values.\n * This ability to replay values on subscription is what differentiates {@link share} and `shareReplay`.\n *\n * ## Reference counting\n *\n * By default `shareReplay` will use `refCount` of false, meaning that it will _not_ unsubscribe the\n * source when the reference counter drops to zero, i.e. the inner `ReplaySubject` will _not_ be unsubscribed\n * (and potentially run for ever).\n * This is the default as it is expected that `shareReplay` is often used to keep around expensive to setup\n * observables which we want to keep running instead of having to do the expensive setup again.\n *\n * As of RXJS version 6.4.0 a new overload signature was added to allow for manual control over what\n * happens when the operators internal reference counter drops to zero.\n * If `refCount` is true, the source will be unsubscribed from once the reference count drops to zero, i.e.\n * the inner `ReplaySubject` will be unsubscribed. All new subscribers will receive value emissions from a\n * new `ReplaySubject` which in turn will cause a new subscription to the source observable.\n *\n * ## Examples\n *\n * Example with a third subscriber coming late to the party\n *\n * ```ts\n * import { interval, take, shareReplay } from 'rxjs';\n *\n * const shared$ = interval(2000).pipe(\n *   take(6),\n *   shareReplay(3)\n * );\n *\n * shared$.subscribe(x => console.log('sub A: ', x));\n * shared$.subscribe(y => console.log('sub B: ', y));\n *\n * setTimeout(() => {\n *   shared$.subscribe(y => console.log('sub C: ', y));\n * }, 11000);\n *\n * // Logs:\n * // (after ~2000 ms)\n * // sub A: 0\n * // sub B: 0\n * // (after ~4000 ms)\n * // sub A: 1\n * // sub B: 1\n * // (after ~6000 ms)\n * // sub A: 2\n * // sub B: 2\n * // (after ~8000 ms)\n * // sub A: 3\n * // sub B: 3\n * // (after ~10000 ms)\n * // sub A: 4\n * // sub B: 4\n * // (after ~11000 ms, sub C gets the last 3 values)\n * // sub C: 2\n * // sub C: 3\n * // sub C: 4\n * // (after ~12000 ms)\n * // sub A: 5\n * // sub B: 5\n * // sub C: 5\n * ```\n *\n * Example for `refCount` usage\n *\n * ```ts\n * import { Observable, tap, interval, shareReplay, take } from 'rxjs';\n *\n * const log = <T>(name: string, source: Observable<T>) => source.pipe(\n *   tap({\n *     subscribe: () => console.log(`${ name }: subscribed`),\n *     next: value => console.log(`${ name }: ${ value }`),\n *     complete: () => console.log(`${ name }: completed`),\n *     finalize: () => console.log(`${ name }: unsubscribed`)\n *   })\n * );\n *\n * const obs$ = log('source', interval(1000));\n *\n * const shared$ = log('shared', obs$.pipe(\n *   shareReplay({ bufferSize: 1, refCount: true }),\n *   take(2)\n * ));\n *\n * shared$.subscribe(x => console.log('sub A: ', x));\n * shared$.subscribe(y => console.log('sub B: ', y));\n *\n * // PRINTS:\n * // shared: subscribed <-- reference count = 1\n * // source: subscribed\n * // shared: subscribed <-- reference count = 2\n * // source: 0\n * // shared: 0\n * // sub A: 0\n * // shared: 0\n * // sub B: 0\n * // source: 1\n * // shared: 1\n * // sub A: 1\n * // shared: completed <-- take(2) completes the subscription for sub A\n * // shared: unsubscribed <-- reference count = 1\n * // shared: 1\n * // sub B: 1\n * // shared: completed <-- take(2) completes the subscription for sub B\n * // shared: unsubscribed <-- reference count = 0\n * // source: unsubscribed <-- replaySubject unsubscribes from source observable because the reference count dropped to 0 and refCount is true\n *\n * // In case of refCount being false, the unsubscribe is never called on the source and the source would keep on emitting, even if no subscribers\n * // are listening.\n * // source: 2\n * // source: 3\n * // source: 4\n * // ...\n * ```\n *\n * @see {@link publish}\n * @see {@link share}\n * @see {@link publishReplay}\n *\n * @param configOrBufferSize Maximum element count of the replay buffer or {@link ShareReplayConfig configuration}\n * object.\n * @param windowTime Maximum time length of the replay buffer in milliseconds.\n * @param scheduler Scheduler where connected observers within the selector function\n * will be invoked on.\n * @return A function that returns an Observable sequence that contains the\n * elements of a sequence produced by multicasting the source sequence within a\n * selector function.\n */\nexport function shareReplay<T>(\n  configOrBufferSize?: ShareReplayConfig | number,\n  windowTime?: number,\n  scheduler?: SchedulerLike\n): MonoTypeOperatorFunction<T> {\n  let bufferSize: number;\n  let refCount = false;\n  if (configOrBufferSize && typeof configOrBufferSize === 'object') {\n    ({ bufferSize = Infinity, windowTime = Infinity, refCount = false, scheduler } = configOrBufferSize);\n  } else {\n    bufferSize = (configOrBufferSize ?? Infinity) as number;\n  }\n  return share<T>({\n    connector: () => new ReplaySubject(bufferSize, windowTime, scheduler),\n    resetOnError: true,\n    resetOnComplete: false,\n    resetOnRefCountZero: refCount,\n  });\n}\n","export function runXTimes(xTimes: number, fn: (idx: number) => void) {\n    new Array(xTimes).fill(0).forEach((_v, idx) => fn(idx));\n}\n\nexport function ensureNotFalsy<T>(obj: T | false | undefined | null, message?: string): T {\n    if (!obj) {\n        if (!message) {\n            message = '';\n        }\n        throw new Error('ensureNotFalsy() is falsy: ' + message);\n    }\n    return obj;\n}\n\nexport function ensureInteger(obj: unknown): number {\n    if (!Number.isInteger(obj)) {\n        throw new Error('ensureInteger() is falsy');\n    }\n    return obj as number;\n}\n\n/**\n * Using shareReplay() without settings will not unsubscribe\n * if there are no more subscribers.\n * So we use these defaults.\n * @link https://cartant.medium.com/rxjs-whats-changed-with-sharereplay-65c098843e95\n */\nexport const RXJS_SHARE_REPLAY_DEFAULTS = {\n    bufferSize: 1,\n    refCount: true\n};\n","/**\n * returns a promise that resolves on the next tick\n */\nexport function nextTick(): Promise<void> {\n    return new Promise(res => setTimeout(res, 0));\n}\n\nexport function promiseWait(ms: number = 0): Promise<void> {\n    return new Promise(res => setTimeout(res, ms));\n}\n\nexport function toPromise<T>(maybePromise: Promise<T> | T): Promise<T> {\n    if (maybePromise && typeof (maybePromise as any).then === 'function') {\n        // is promise\n        return maybePromise as any;\n    } else {\n        return Promise.resolve(maybePromise);\n    }\n}\n\n/**\n * returns true if promise is given\n */\nexport function isPromise(value: any): boolean {\n    if (\n        typeof value !== 'undefined' &&\n        typeof value.then === 'function'\n    ) {\n        return true;\n    }\n    return false;\n}\n\n/**\n * Reusing resolved promises has a better\n * performance than creating new ones each time.\n */\nexport const PROMISE_RESOLVE_TRUE: Promise<true> = Promise.resolve(true);\nexport const PROMISE_RESOLVE_FALSE: Promise<false> = Promise.resolve(false);\nexport const PROMISE_RESOLVE_NULL: Promise<null> = Promise.resolve(null);\nexport const PROMISE_RESOLVE_VOID: Promise<void> = Promise.resolve();\n\n\nexport function requestIdlePromiseNoQueue(\n    /**\n     * We always set a timeout!\n     * RxDB might be used on the server side where the\n     * server runs 24/4 on 99% CPU. So without a timeout\n     * this would never resolve which could cause a memory leak.\n     */\n    timeout: number | undefined = 10000\n) {\n    /**\n     * Do not use window.requestIdleCallback\n     * because some javascript runtimes like react-native,\n     * do not have a window object, but still have a global\n     * requestIdleCallback function.\n     * @link https://github.com/pubkey/rxdb/issues/4804\n    */\n    if (\n        typeof requestIdleCallback === 'function'\n    ) {\n        return new Promise<void>(res => {\n            requestIdleCallback(\n                () => res(),\n                {\n                    timeout\n                }\n            );\n        });\n    } else {\n        return promiseWait(0);\n    }\n}\n\n/**\n * If multiple operations wait for an requestIdlePromise\n * we do not want them to resolve all at the same time.\n * So we have to queue the calls.\n */\nlet idlePromiseQueue = PROMISE_RESOLVE_VOID;\nexport function requestIdlePromise(\n    timeout: number | undefined = undefined\n) {\n    idlePromiseQueue = idlePromiseQueue.then(() => {\n        return requestIdlePromiseNoQueue(timeout);\n    });\n    return idlePromiseQueue;\n}\n\n\n/**\n * run the callback if requestIdleCallback available\n * do nothing if not\n * @link https://developer.mozilla.org/de/docs/Web/API/Window/requestIdleCallback\n */\nexport function requestIdleCallbackIfAvailable(fun: Function): void {\n    /**\n     * Do not use window.requestIdleCallback\n     * because some javascript runtimes like react-native,\n     * do not have a window object, but still have a global\n     * requestIdleCallback function.\n     * @link https://github.com/pubkey/rxdb/issues/4804\n    */\n    if (\n        typeof requestIdleCallback === 'function'\n    ) {\n        requestIdleCallback(() => {\n            fun();\n        });\n    }\n}\n\n\n/**\n * like Promise.all() but runs in series instead of parallel\n * @link https://github.com/egoist/promise.series/blob/master/index.js\n * @param tasks array with functions that return a promise\n */\nexport function promiseSeries(\n    tasks: Function[],\n    initial?: any\n): Promise<any[]> {\n    return tasks\n        .reduce(\n            (current, next) => (current as any).then(next),\n            Promise.resolve(initial)\n        );\n}\n","\n\n\nexport function getFromMapOrThrow<K, V>(map: Map<K, V> | WeakMap<any, V>, key: K): V {\n    const val = map.get(key);\n    if (typeof val === 'undefined') {\n        throw new Error('missing value from map ' + key);\n    }\n    return val;\n}\n\nexport function getFromMapOrCreate<MapIndex, MapValue>(\n    map: Map<MapIndex, MapValue> | WeakMap<any, MapValue>,\n    index: MapIndex,\n    creator: () => MapValue,\n    ifWasThere?: (value: MapValue) => void\n): MapValue {\n    let value = map.get(index);\n    if (typeof value === 'undefined') {\n        value = creator();\n        map.set(index, value);\n    } else if (ifWasThere) {\n        ifWasThere(value);\n    }\n    return value;\n}\n","import type {\n    PlainJsonError,\n    RxError,\n    RxTypeError\n} from '../../types/index.d.ts';\nimport { ucfirst } from './utils-string.ts';\n\n\n\n/**\n * Returns an error that indicates that a plugin is missing\n * We do not throw a RxError because this should not be handled\n * programmatically but by using the correct import\n */\nexport function pluginMissing(\n    pluginKey: string\n): Error {\n    const keyParts = pluginKey.split('-');\n    let pluginName = 'RxDB';\n    keyParts.forEach(part => {\n        pluginName += ucfirst(part);\n    });\n    pluginName += 'Plugin';\n    return new Error(\n        `You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n            import { ${pluginName} } from 'rxdb/plugins/${pluginKey}';\n            addRxPlugin(${pluginName});\n        `\n    );\n}\n\n\n\nexport function errorToPlainJson(err: Error | TypeError | RxError | RxTypeError): PlainJsonError {\n    const ret: PlainJsonError = {\n        name: err.name,\n        message: err.message,\n        rxdb: (err as any).rxdb,\n        parameters: (err as RxError).parameters,\n        code: (err as RxError).code,\n        /**\n         * stack must be last to make it easier to read the json in a console.\n         * Also we ensure that each linebreak is spaced so that the chrome devtools\n         * shows urls to the source code that can be clicked to inspect\n         * the correct place in the code.\n         */\n        stack: !err.stack ? undefined : err.stack.replace(/\\n/g, ' \\n ')\n    };\n    return ret;\n}\n","/**\n * RxChangeEvents a emitted when something in the database changes\n * they can be grabbed by the observables of database, collection and document\n */\n\nimport type {\n    ChangeEvent as EventReduceChangeEvent,\n} from 'event-reduce-js';\nimport { overwritable } from './overwritable.ts';\n\nimport type {\n    EventBulk,\n    RxChangeEvent,\n    RxDocumentData\n} from './types/index.d.ts';\nimport { appendToArray } from './plugins/utils/index.ts';\n\nexport function getDocumentDataOfRxChangeEvent<T>(\n    rxChangeEvent: RxChangeEvent<T>\n): RxDocumentData<T> {\n    if ((rxChangeEvent as any).documentData) {\n        return (rxChangeEvent as any).documentData;\n    } else {\n        return (rxChangeEvent as any).previousDocumentData;\n    }\n}\n\n/**\n * Might return null which means an\n * already deleted document got modified but still is deleted.\n * These kind of events are not relevant for the event-reduce algorithm\n * and must be filtered out.\n */\nexport function rxChangeEventToEventReduceChangeEvent<DocType>(\n    rxChangeEvent: RxChangeEvent<DocType>\n): EventReduceChangeEvent<DocType> | null {\n    switch (rxChangeEvent.operation) {\n        case 'INSERT':\n            return {\n                operation: rxChangeEvent.operation,\n                id: rxChangeEvent.documentId,\n                doc: rxChangeEvent.documentData as any,\n                previous: null\n            };\n        case 'UPDATE':\n            return {\n                operation: rxChangeEvent.operation,\n                id: rxChangeEvent.documentId,\n                doc: overwritable.deepFreezeWhenDevMode(rxChangeEvent.documentData) as any,\n                previous: rxChangeEvent.previousDocumentData ? rxChangeEvent.previousDocumentData as any : 'UNKNOWN'\n            };\n        case 'DELETE':\n            return {\n                operation: rxChangeEvent.operation,\n                id: rxChangeEvent.documentId,\n                doc: null,\n                previous: rxChangeEvent.previousDocumentData as DocType\n            };\n    }\n}\n\n/**\n * Flattens the given events into a single array of events.\n * Used mostly in tests.\n */\nexport function flattenEvents<EventType>(\n    input: EventBulk<EventType, any> | EventBulk<EventType, any>[] | EventType | EventType[]\n): EventType[] {\n    const output: EventType[] = [];\n    if (Array.isArray(input)) {\n        input.forEach(inputItem => {\n            const add = flattenEvents(inputItem);\n            appendToArray(output, add);\n        });\n    } else {\n        if ((input as any).id && (input as any).events) {\n            // is bulk\n            (input as EventBulk<EventType, any>)\n                .events\n                .forEach(ev => output.push(ev));\n        } else {\n            output.push(input as any);\n        }\n    }\n\n    const usedIds = new Set<string>();\n    const nonDuplicate: EventType[] = [];\n\n    function getEventId(ev: any): string {\n        return [\n            ev.documentId,\n            ev.documentData ? ev.documentData._rev : '',\n            ev.previousDocumentData ? ev.previousDocumentData._rev : ''\n        ].join('|');\n    }\n\n    output.forEach(ev => {\n        const eventId = getEventId(ev);\n        if (!usedIds.has(eventId)) {\n            usedIds.add(eventId);\n            nonDuplicate.push(ev);\n        }\n    });\n\n    return nonDuplicate;\n}\n","\n/**\n * Returns the current unix time in milliseconds (with two decimals!)\n * Because the accuracy of getTime() in javascript is bad,\n * and we cannot rely on performance.now() on all platforms,\n * this method implements a way to never return the same value twice.\n * This ensures that when now() is called often, we do not loose the information\n * about which call came first and which came after.\n *\n * We had to move from having no decimals, to having two decimal\n * because it turned out that some storages are such fast that\n * calling this method too often would return 'the future'.\n */\nlet _lastNow: number = 0;\n/**\n * Returns the current time in milliseconds,\n * also ensures to not return the same value twice.\n */\nexport function now(): number {\n    let ret = Date.now();\n    ret = ret + 0.01;\n    if (ret <= _lastNow) {\n        ret = _lastNow + 0.01;\n    }\n\n    /**\n     * Strip the returned number to max two decimals.\n     * In theory we would not need this but\n     * in practice JavaScript has no such good number precision\n     * so rounding errors could add another decimal place.\n     */\n    const twoDecimals = parseFloat(ret.toFixed(2));\n\n    _lastNow = twoDecimals;\n    return twoDecimals;\n}\n","import type {\n    RxDocumentData\n} from '../../types/index.d.ts';\n\nexport function parseRevision(revision: string): { height: number; hash: string; } {\n    const split = revision.split('-');\n    if (split.length !== 2) {\n        throw new Error('malformatted revision: ' + revision);\n    }\n    return {\n        height: parseInt(split[0], 10),\n        hash: split[1]\n    };\n}\n\n/**\n * @hotPath\n */\nexport function getHeightOfRevision(revision: string): number {\n    const ret = parseInt(revision.split('-')[0], 10);\n    return ret;\n}\n\n\n/**\n * Creates the next write revision for a given document.\n */\nexport function createRevision<RxDocType>(\n    databaseInstanceToken: string,\n    previousDocData?: RxDocumentData<RxDocType>\n): string {\n    const previousRevision = previousDocData ? previousDocData._rev : null;\n    const previousRevisionHeight = previousRevision ? parseRevision(previousRevision).height : 0;\n    const newRevisionHeight = previousRevisionHeight + 1;\n    return newRevisionHeight + '-' + databaseInstanceToken;\n}\n\n","/**\n * Helper functions for accessing the RxStorage instances.\n */\n\nimport { overwritable } from './overwritable.ts';\nimport { newRxError } from './rx-error.ts';\nimport {\n    fillPrimaryKey,\n    getPrimaryFieldOfPrimaryKey\n} from './rx-schema-helper.ts';\nimport type {\n    BulkWriteRow,\n    BulkWriteRowProcessed,\n    CategorizeBulkWriteRowsOutput,\n    EventBulk,\n    RxAttachmentData,\n    RxAttachmentWriteData,\n    RxChangeEvent,\n    RxCollection,\n    RxDatabase,\n    RxDocumentData,\n    RxDocumentWriteData,\n    RxJsonSchema,\n    RxStorageWriteError,\n    RxStorageChangeEvent,\n    RxStorageInstance,\n    RxStorageInstanceCreationParams,\n    StringKeys,\n    RxStorageWriteErrorConflict,\n    RxStorageWriteErrorAttachment,\n    RxStorage,\n    RxStorageDefaultCheckpoint,\n    FilledMangoQuery\n} from './types/index.d.ts';\nimport {\n    PROMISE_RESOLVE_TRUE,\n    RXDB_VERSION,\n    RX_META_LWT_MINIMUM,\n    appendToArray,\n    createRevision,\n    ensureNotFalsy,\n    flatClone,\n    getDefaultRevision,\n    getDefaultRxDocumentMeta,\n    lastOfArray,\n    now,\n    promiseWait,\n    randomCouchString\n} from './plugins/utils/index.ts';\nimport { Observable, filter, map, startWith, switchMap } from 'rxjs';\nimport { prepareQuery } from './rx-query.ts';\nimport { normalizeMangoQuery } from './rx-query-helper.ts';\n\nexport const INTERNAL_STORAGE_NAME = '_rxdb_internal';\nexport const RX_DATABASE_LOCAL_DOCS_STORAGE_NAME = 'rxdatabase_storage_local';\n\nexport async function getSingleDocument<RxDocType>(\n    storageInstance: RxStorageInstance<RxDocType, any, any>,\n    documentId: string\n): Promise<RxDocumentData<RxDocType> | undefined> {\n    const results = await storageInstance.findDocumentsById([documentId], false);\n    const doc = results[0];\n    if (doc) {\n        return doc;\n    } else {\n        return undefined;\n    }\n}\n\n/**\n * Writes a single document,\n * throws RxStorageBulkWriteError on failure\n */\nexport async function writeSingle<RxDocType>(\n    instance: RxStorageInstance<RxDocType, any, any>,\n    writeRow: BulkWriteRow<RxDocType>,\n    context: string\n): Promise<RxDocumentData<RxDocType>> {\n    const writeResult = await instance.bulkWrite(\n        [writeRow],\n        context\n    );\n    if (writeResult.error.length > 0) {\n        const error = writeResult.error[0];\n        throw error;\n    } else {\n        const ret = writeResult.success[0];\n        return ret;\n    }\n}\n\n/**\n * Observe the plain document data of a single document.\n * Do not forget to unsubscribe.\n */\nexport function observeSingle<RxDocType>(\n    storageInstance: RxStorageInstance<RxDocType, any, any>,\n    documentId: string\n): Observable<RxDocumentData<RxDocType>> {\n    const firstFindPromise = getSingleDocument(storageInstance, documentId);\n    const ret = storageInstance\n        .changeStream()\n        .pipe(\n            map(evBulk => evBulk.events.find(ev => ev.documentId === documentId)),\n            filter(ev => !!ev),\n            map(ev => Promise.resolve(ensureNotFalsy(ev).documentData)),\n            startWith(firstFindPromise),\n            switchMap(v => v),\n            filter(v => !!v)\n        ) as any;\n    return ret;\n}\n\n\n/**\n * Checkpoints must be stackable over another.\n * This is required form some RxStorage implementations\n * like the sharding plugin, where a checkpoint only represents\n * the document state from some, but not all shards.\n */\nexport function stackCheckpoints<CheckpointType>(\n    checkpoints: CheckpointType[]\n): CheckpointType {\n    return Object.assign(\n        {},\n        ...checkpoints\n    );\n}\n\nexport function storageChangeEventToRxChangeEvent<DocType>(\n    isLocal: boolean,\n    rxStorageChangeEvent: RxStorageChangeEvent<DocType>,\n    rxCollection?: RxCollection,\n): RxChangeEvent<DocType> {\n    const documentData = rxStorageChangeEvent.documentData;\n    const previousDocumentData = rxStorageChangeEvent.previousDocumentData;\n    const ret: RxChangeEvent<DocType> = {\n        documentId: rxStorageChangeEvent.documentId,\n        collectionName: rxCollection ? rxCollection.name : undefined,\n        isLocal,\n        operation: rxStorageChangeEvent.operation,\n        documentData: overwritable.deepFreezeWhenDevMode(documentData as any),\n        previousDocumentData: overwritable.deepFreezeWhenDevMode(previousDocumentData as any)\n    };\n    return ret;\n}\n\nexport function throwIfIsStorageWriteError<RxDocType>(\n    collection: RxCollection<RxDocType, any, any>,\n    documentId: string,\n    writeData: RxDocumentWriteData<RxDocType> | RxDocType,\n    error: RxStorageWriteError<RxDocType> | undefined\n) {\n    if (error) {\n        if (error.status === 409) {\n            throw newRxError('CONFLICT', {\n                collection: collection.name,\n                id: documentId,\n                writeError: error,\n                data: writeData\n            });\n        } else if (error.status === 422) {\n            throw newRxError('VD2', {\n                collection: collection.name,\n                id: documentId,\n                writeError: error,\n                data: writeData\n            });\n        } else {\n            throw error;\n        }\n    }\n}\n\n\n/**\n * Analyzes a list of BulkWriteRows and determines\n * which documents must be inserted, updated or deleted\n * and which events must be emitted and which documents cause a conflict\n * and must not be written.\n * Used as helper inside of some RxStorage implementations.\n * @hotPath The performance of this function is critical\n */\nexport function categorizeBulkWriteRows<RxDocType>(\n    storageInstance: RxStorageInstance<any, any, any>,\n    primaryPath: StringKeys<RxDocType>,\n    /**\n     * Current state of the documents\n     * inside of the storage. Used to determine\n     * which writes cause conflicts.\n     * This must be a Map for better performance.\n     */\n    docsInDb: Map<RxDocumentData<RxDocType>[StringKeys<RxDocType>] | string, RxDocumentData<RxDocType>>,\n    /**\n     * The write rows that are passed to\n     * RxStorageInstance().bulkWrite().\n     */\n    bulkWriteRows: BulkWriteRow<RxDocType>[],\n    context: string,\n    /**\n     * Used by some storages for better performance.\n     * For example when get-by-id and insert/update can run in parallel.\n     */\n    onInsert?: (docData: RxDocumentData<RxDocType>) => void,\n    onUpdate?: (docData: RxDocumentData<RxDocType>) => void\n): CategorizeBulkWriteRowsOutput<RxDocType> {\n    const hasAttachments = !!storageInstance.schema.attachments;\n    const bulkInsertDocs: BulkWriteRowProcessed<RxDocType>[] = [];\n    const bulkUpdateDocs: BulkWriteRowProcessed<RxDocType>[] = [];\n    const errors: RxStorageWriteError<RxDocType>[] = [];\n    const eventBulkId = randomCouchString(10);\n    const eventBulk: EventBulk<RxStorageChangeEvent<RxDocumentData<RxDocType>>, any> = {\n        id: eventBulkId,\n        events: [],\n        checkpoint: null,\n        context,\n        startTime: now(),\n        endTime: 0\n    };\n    const eventBulkEvents = eventBulk.events;\n\n    const attachmentsAdd: {\n        documentId: string;\n        attachmentId: string;\n        attachmentData: RxAttachmentWriteData;\n        digest: string;\n    }[] = [];\n    const attachmentsRemove: {\n        documentId: string;\n        attachmentId: string;\n        digest: string;\n    }[] = [];\n    const attachmentsUpdate: {\n        documentId: string;\n        attachmentId: string;\n        attachmentData: RxAttachmentWriteData;\n        digest: string;\n    }[] = [];\n\n    const hasDocsInDb = docsInDb.size > 0;\n    let newestRow: BulkWriteRowProcessed<RxDocType> | undefined;\n\n    /**\n     * @performance is really important in this loop!\n     */\n    const rowAmount = bulkWriteRows.length;\n    for (let rowId = 0; rowId < rowAmount; rowId++) {\n        const writeRow = bulkWriteRows[rowId];\n\n        // use these variables to have less property accesses\n        const document = writeRow.document;\n        const previous = writeRow.previous;\n        const docId = document[primaryPath] as string;\n        const documentDeleted = document._deleted;\n        const previousDeleted = previous && previous._deleted;\n\n        let documentInDb: RxDocumentData<RxDocType> | undefined = undefined as any;\n        if (hasDocsInDb) {\n            documentInDb = docsInDb.get(docId);\n        }\n        let attachmentError: RxStorageWriteErrorAttachment<RxDocType> | undefined;\n\n        if (!documentInDb) {\n            /**\n             * It is possible to insert already deleted documents,\n             * this can happen on replication.\n             */\n            const insertedIsDeleted = documentDeleted ? true : false;\n            if (hasAttachments) {\n                Object\n                    .entries(document._attachments)\n                    .forEach(([attachmentId, attachmentData]) => {\n                        if (\n                            !(attachmentData as RxAttachmentWriteData).data\n                        ) {\n                            attachmentError = {\n                                documentId: docId,\n                                isError: true,\n                                status: 510,\n                                writeRow,\n                                attachmentId\n                            };\n                            errors.push(attachmentError);\n                        } else {\n                            attachmentsAdd.push({\n                                documentId: docId,\n                                attachmentId,\n                                attachmentData: attachmentData as any,\n                                digest: attachmentData.digest\n                            });\n                        }\n                    });\n            }\n            if (!attachmentError) {\n                if (hasAttachments) {\n                    bulkInsertDocs.push(stripAttachmentsDataFromRow(writeRow));\n                    if (onInsert) {\n                        onInsert(document);\n                    }\n                } else {\n                    bulkInsertDocs.push(writeRow as any);\n                    if (onInsert) {\n                        onInsert(document);\n                    }\n                }\n\n                newestRow = writeRow as any;\n            }\n\n            if (!insertedIsDeleted) {\n                const event = {\n                    documentId: docId,\n                    operation: 'INSERT' as const,\n                    documentData: hasAttachments ? stripAttachmentsDataFromDocument(document) : document as any,\n                    previousDocumentData: hasAttachments && previous ? stripAttachmentsDataFromDocument(previous) : previous as any\n                };\n                eventBulkEvents.push(event);\n            }\n        } else {\n            // update existing document\n            const revInDb: string = documentInDb._rev;\n\n            /**\n             * Check for conflict\n             */\n            if (\n                (\n                    !previous\n                ) ||\n                (\n                    !!previous &&\n                    revInDb !== previous._rev\n                )\n            ) {\n                // is conflict error\n                const err: RxStorageWriteError<RxDocType> = {\n                    isError: true,\n                    status: 409,\n                    documentId: docId,\n                    writeRow: writeRow,\n                    documentInDb\n                };\n                errors.push(err);\n                continue;\n            }\n\n            // handle attachments data\n\n            const updatedRow: BulkWriteRowProcessed<RxDocType> = hasAttachments ? stripAttachmentsDataFromRow(writeRow) : writeRow as any;\n            if (hasAttachments) {\n                if (documentDeleted) {\n                    /**\n                     * Deleted documents must have cleared all their attachments.\n                     */\n                    if (previous) {\n                        Object\n                            .keys(previous._attachments)\n                            .forEach(attachmentId => {\n                                attachmentsRemove.push({\n                                    documentId: docId,\n                                    attachmentId,\n                                    digest: ensureNotFalsy(previous)._attachments[attachmentId].digest\n                                });\n                            });\n                    }\n                } else {\n                    // first check for errors\n                    Object\n                        .entries(document._attachments)\n                        .find(([attachmentId, attachmentData]) => {\n                            const previousAttachmentData = previous ? previous._attachments[attachmentId] : undefined;\n                            if (\n                                !previousAttachmentData &&\n                                !(attachmentData as RxAttachmentWriteData).data\n                            ) {\n                                attachmentError = {\n                                    documentId: docId,\n                                    documentInDb: documentInDb as any,\n                                    isError: true,\n                                    status: 510,\n                                    writeRow,\n                                    attachmentId\n                                };\n                            }\n                            return true;\n                        });\n                    if (!attachmentError) {\n                        Object\n                            .entries(document._attachments)\n                            .forEach(([attachmentId, attachmentData]) => {\n                                const previousAttachmentData = previous ? previous._attachments[attachmentId] : undefined;\n                                if (!previousAttachmentData) {\n                                    attachmentsAdd.push({\n                                        documentId: docId,\n                                        attachmentId,\n                                        attachmentData: attachmentData as any,\n                                        digest: attachmentData.digest\n                                    });\n                                } else {\n                                    const newDigest = updatedRow.document._attachments[attachmentId].digest;\n                                    if (\n                                        (attachmentData as RxAttachmentWriteData).data &&\n                                        /**\n                                         * Performance shortcut,\n                                         * do not update the attachment data if it did not change.\n                                         */\n                                        previousAttachmentData.digest !== newDigest\n                                    ) {\n                                        attachmentsUpdate.push({\n                                            documentId: docId,\n                                            attachmentId,\n                                            attachmentData: attachmentData as RxAttachmentWriteData,\n                                            digest: attachmentData.digest\n                                        });\n                                    }\n                                }\n                            });\n                    }\n                }\n            }\n\n            if (attachmentError) {\n                errors.push(attachmentError);\n            } else {\n                if (hasAttachments) {\n                    bulkUpdateDocs.push(stripAttachmentsDataFromRow(updatedRow));\n                    if (onUpdate) {\n                        onUpdate(document);\n                    }\n                } else {\n                    bulkUpdateDocs.push(updatedRow);\n                    if (onUpdate) {\n                        onUpdate(document);\n                    }\n                }\n                newestRow = updatedRow as any;\n            }\n\n            let eventDocumentData: RxDocumentData<RxDocType> | undefined = null as any;\n            let previousEventDocumentData: RxDocumentData<RxDocType> | undefined = null as any;\n            let operation: 'INSERT' | 'UPDATE' | 'DELETE' = null as any;\n\n            if (previousDeleted && !documentDeleted) {\n                operation = 'INSERT';\n                eventDocumentData = hasAttachments ? stripAttachmentsDataFromDocument(document) : document as any;\n            } else if (previous && !previousDeleted && !documentDeleted) {\n                operation = 'UPDATE';\n                eventDocumentData = hasAttachments ? stripAttachmentsDataFromDocument(document) : document as any;\n                previousEventDocumentData = previous;\n            } else if (documentDeleted) {\n                operation = 'DELETE';\n                eventDocumentData = ensureNotFalsy(document) as any;\n                previousEventDocumentData = previous;\n            } else {\n                throw newRxError('SNH', { args: { writeRow } });\n            }\n\n            const event = {\n                documentId: docId,\n                documentData: eventDocumentData as RxDocumentData<RxDocType>,\n                previousDocumentData: previousEventDocumentData,\n                operation: operation\n            };\n            eventBulkEvents.push(event);\n        }\n    }\n\n    return {\n        bulkInsertDocs,\n        bulkUpdateDocs,\n        newestRow,\n        errors,\n        eventBulk,\n        attachmentsAdd,\n        attachmentsRemove,\n        attachmentsUpdate\n    };\n}\n\nexport function stripAttachmentsDataFromRow<RxDocType>(writeRow: BulkWriteRow<RxDocType>): BulkWriteRowProcessed<RxDocType> {\n    return {\n        previous: writeRow.previous,\n        document: stripAttachmentsDataFromDocument(writeRow.document)\n    };\n}\n\nexport function getAttachmentSize(\n    attachmentBase64String: string\n): number {\n    return atob(attachmentBase64String).length;\n}\n\n/**\n * Used in custom RxStorage implementations.\n */\nexport function attachmentWriteDataToNormalData(writeData: RxAttachmentData | RxAttachmentWriteData): RxAttachmentData {\n    const data = (writeData as RxAttachmentWriteData).data;\n    if (!data) {\n        return writeData as any;\n    }\n    const ret: RxAttachmentData = {\n        length: getAttachmentSize(data),\n        digest: writeData.digest,\n        type: writeData.type\n    };\n    return ret;\n}\n\nexport function stripAttachmentsDataFromDocument<RxDocType>(doc: RxDocumentWriteData<RxDocType>): RxDocumentData<RxDocType> {\n\n    if (!doc._attachments || Object.keys(doc._attachments).length === 0) {\n        return doc;\n    }\n\n    const useDoc: RxDocumentData<RxDocType> = flatClone(doc) as any;\n    useDoc._attachments = {};\n    Object\n        .entries(doc._attachments)\n        .forEach(([attachmentId, attachmentData]) => {\n            useDoc._attachments[attachmentId] = attachmentWriteDataToNormalData(attachmentData);\n        });\n    return useDoc;\n}\n\n/**\n * Flat clone the document data\n * and also the _meta field.\n * Used many times when we want to change the meta\n * during replication etc.\n */\nexport function flatCloneDocWithMeta<RxDocType>(\n    doc: RxDocumentData<RxDocType>\n): RxDocumentData<RxDocType> {\n    const ret = flatClone(doc);\n    ret._meta = flatClone(doc._meta);\n    return ret;\n}\n\nexport type WrappedRxStorageInstance<RxDocumentType, Internals, InstanceCreationOptions> = RxStorageInstance<RxDocumentType, any, InstanceCreationOptions> & {\n    originalStorageInstance: RxStorageInstance<RxDocumentType, Internals, InstanceCreationOptions>;\n};\n\n/**\n * Wraps the normal storageInstance of a RxCollection\n * to ensure that all access is properly using the hooks\n * and other data transformations and also ensure that database.lockedRun()\n * is used properly.\n */\nexport function getWrappedStorageInstance<\n    RxDocType,\n    Internals,\n    InstanceCreationOptions,\n    CheckpointType\n>(\n    database: RxDatabase<{}, Internals, InstanceCreationOptions, any>,\n    storageInstance: RxStorageInstance<RxDocType, Internals, InstanceCreationOptions, CheckpointType>,\n    /**\n     * The original RxJsonSchema\n     * before it was mutated by hooks.\n     */\n    rxJsonSchema: RxJsonSchema<RxDocumentData<RxDocType>>\n): WrappedRxStorageInstance<RxDocType, Internals, InstanceCreationOptions> {\n    overwritable.deepFreezeWhenDevMode(rxJsonSchema);\n    const primaryPath = getPrimaryFieldOfPrimaryKey(rxJsonSchema.primaryKey);\n\n    function transformDocumentDataFromRxDBToRxStorage(\n        writeRow: BulkWriteRow<RxDocType>\n    ) {\n        let data = flatClone(writeRow.document);\n        data._meta = flatClone(data._meta);\n\n        /**\n         * Do some checks in dev-mode\n         * that would be too performance expensive\n         * in production.\n         */\n        if (overwritable.isDevMode()) {\n            // ensure that the primary key has not been changed\n            data = fillPrimaryKey(\n                primaryPath,\n                rxJsonSchema,\n                data as any\n            );\n\n\n            /**\n             * Ensure it can be structured cloned\n             */\n            try {\n                /**\n                 * Notice that structuredClone() is not available\n                 * in ReactNative, so we test for JSON.stringify() instead\n                 * @link https://github.com/pubkey/rxdb/issues/5046#issuecomment-1827374498\n                 */\n                if (typeof structuredClone === 'function') {\n                    structuredClone(writeRow);\n                } else {\n                    JSON.parse(JSON.stringify(writeRow));\n                }\n            } catch (err) {\n                throw newRxError('DOC24', {\n                    collection: storageInstance.collectionName,\n                    document: writeRow.document\n                });\n            }\n\n            /**\n             * Ensure that the new revision is higher\n             * then the previous one\n             */\n            if (writeRow.previous) {\n                // TODO run this in the dev-mode plugin\n                // const prev = parseRevision(writeRow.previous._rev);\n                // const current = parseRevision(writeRow.document._rev);\n                // if (current.height <= prev.height) {\n                //     throw newRxError('SNH', {\n                //         dataBefore: writeRow.previous,\n                //         dataAfter: writeRow.document,\n                //         args: {\n                //             prev,\n                //             current\n                //         }\n                //     });\n                // }\n            }\n\n            /**\n             * Ensure that _meta fields have been merged\n             * and not replaced.\n             * This is important so that when one plugin A\n             * sets a _meta field and another plugin B does a write\n             * to the document, it must be ensured that the\n             * field of plugin A was not removed.\n             */\n            if (writeRow.previous) {\n                Object.keys(writeRow.previous._meta)\n                    .forEach(metaFieldName => {\n                        if (!Object.prototype.hasOwnProperty.call(writeRow.document._meta, metaFieldName)) {\n                            throw newRxError('SNH', {\n                                dataBefore: writeRow.previous,\n                                dataAfter: writeRow.document\n                            });\n                        }\n                    });\n            }\n        }\n        data._meta.lwt = now();\n\n        /**\n         * Yes we really want to set the revision here.\n         * If you make a plugin that relies on having its own revision\n         * stored into the storage, use this.originalStorageInstance.bulkWrite() instead.\n         */\n        data._rev = createRevision(\n            database.token,\n            writeRow.previous\n        );\n\n        return {\n            document: data,\n            previous: writeRow.previous\n        };\n    }\n\n    const ret: WrappedRxStorageInstance<RxDocType, Internals, InstanceCreationOptions> = {\n        originalStorageInstance: storageInstance,\n        schema: storageInstance.schema,\n        internals: storageInstance.internals,\n        collectionName: storageInstance.collectionName,\n        databaseName: storageInstance.databaseName,\n        options: storageInstance.options,\n        bulkWrite(\n            rows: BulkWriteRow<RxDocType>[],\n            context: string\n        ) {\n            const toStorageWriteRows: BulkWriteRow<RxDocType>[] = rows\n                .map(row => transformDocumentDataFromRxDBToRxStorage(row));\n\n            return database.lockedRun(\n                () => storageInstance.bulkWrite(\n                    toStorageWriteRows,\n                    context\n                )\n            )\n                /**\n                 * The RxStorageInstance MUST NOT allow to insert already _deleted documents,\n                 * without sending the previous document version.\n                 * But for better developer experience, RxDB does allow to re-insert deleted documents.\n                 * We do this by automatically fixing the conflict errors for that case\n                 * by running another bulkWrite() and merging the results.\n                 * @link https://github.com/pubkey/rxdb/pull/3839\n                 */\n                .then(writeResult => {\n                    const useWriteResult: typeof writeResult = {\n                        error: [],\n                        success: writeResult.success.slice(0)\n                    };\n                    const reInsertErrors: RxStorageWriteErrorConflict<RxDocType>[] =\n                        writeResult.error\n                            .filter((error) => {\n                                if (\n                                    error.status === 409 &&\n                                    !error.writeRow.previous &&\n                                    !error.writeRow.document._deleted &&\n                                    ensureNotFalsy(error.documentInDb)._deleted\n                                ) {\n                                    return true;\n                                }\n                                useWriteResult.error.push(error);\n                                return false;\n                            }) as any;\n                    if (reInsertErrors.length > 0) {\n                        const reInserts: BulkWriteRow<RxDocType>[] = reInsertErrors\n                            .map((error) => {\n                                return {\n                                    previous: error.documentInDb,\n                                    document: Object.assign(\n                                        {},\n                                        error.writeRow.document,\n                                        {\n                                            _rev: createRevision(\n                                                database.token,\n                                                error.documentInDb\n                                            )\n                                        }\n                                    )\n                                };\n                            });\n\n                        return database.lockedRun(\n                            () => storageInstance.bulkWrite(\n                                reInserts,\n                                context\n                            )\n                        ).then(subResult => {\n                            appendToArray(useWriteResult.error, subResult.error);\n                            appendToArray(useWriteResult.success, subResult.success);\n                            return useWriteResult;\n                        });\n                    }\n\n                    return writeResult;\n                });\n        },\n        query(preparedQuery) {\n            return database.lockedRun(\n                () => storageInstance.query(preparedQuery)\n            );\n        },\n        count(preparedQuery) {\n            return database.lockedRun(\n                () => storageInstance.count(preparedQuery)\n            );\n        },\n        findDocumentsById(ids, deleted) {\n            return database.lockedRun(\n                () => storageInstance.findDocumentsById(ids, deleted)\n            );\n        },\n        getAttachmentData(\n            documentId: string,\n            attachmentId: string,\n            digest: string\n        ) {\n            return database.lockedRun(\n                () => storageInstance.getAttachmentData(documentId, attachmentId, digest)\n            );\n        },\n        getChangedDocumentsSince: !storageInstance.getChangedDocumentsSince ? undefined : (limit: number, checkpoint?: any) => {\n            return database.lockedRun(\n                () => ((storageInstance as any).getChangedDocumentsSince)(ensureNotFalsy(limit), checkpoint)\n            );\n        },\n        cleanup(minDeletedTime: number) {\n            return database.lockedRun(\n                () => storageInstance.cleanup(minDeletedTime)\n            );\n        },\n        remove() {\n            database.storageInstances.delete(ret);\n            return database.lockedRun(\n                () => storageInstance.remove()\n            );\n        },\n        close() {\n            database.storageInstances.delete(ret);\n            return database.lockedRun(\n                () => storageInstance.close()\n            );\n        },\n        changeStream() {\n            return storageInstance.changeStream();\n        },\n        conflictResultionTasks() {\n            return storageInstance.conflictResultionTasks();\n        },\n        resolveConflictResultionTask(taskSolution) {\n            if (taskSolution.output.isEqual) {\n                return storageInstance.resolveConflictResultionTask(taskSolution);\n            }\n\n            const doc = Object.assign(\n                {},\n                taskSolution.output.documentData,\n                {\n                    _meta: getDefaultRxDocumentMeta(),\n                    _rev: getDefaultRevision(),\n                    _attachments: {}\n                }\n            );\n\n            const documentData = flatClone(doc);\n            delete (documentData as any)._meta;\n            delete (documentData as any)._rev;\n            delete (documentData as any)._attachments;\n\n            return storageInstance.resolveConflictResultionTask({\n                id: taskSolution.id,\n                output: {\n                    isEqual: false,\n                    documentData\n                }\n            });\n        }\n    };\n\n    database.storageInstances.add(ret);\n    return ret;\n}\n\n/**\n * Each RxStorage implementation should\n * run this method at the first step of createStorageInstance()\n * to ensure that the configuration is correct.\n */\nexport function ensureRxStorageInstanceParamsAreCorrect(\n    params: RxStorageInstanceCreationParams<any, any>\n) {\n    if (params.schema.keyCompression) {\n        throw newRxError('UT5', { args: { params } });\n    }\n    if (hasEncryption(params.schema)) {\n        throw newRxError('UT6', { args: { params } });\n    }\n    if (\n        params.schema.attachments &&\n        params.schema.attachments.compression\n    ) {\n        throw newRxError('UT7', { args: { params } });\n    }\n}\n\nexport function hasEncryption(jsonSchema: RxJsonSchema<any>): boolean {\n    if (\n        (!!jsonSchema.encrypted && jsonSchema.encrypted.length > 0) ||\n        (jsonSchema.attachments && jsonSchema.attachments.encrypted)\n    ) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\nexport function getChangedDocumentsSinceQuery<RxDocType, CheckpointType>(\n    storageInstance: RxStorageInstance<RxDocType, any, any, CheckpointType>,\n    limit: number,\n    checkpoint?: CheckpointType\n): FilledMangoQuery<RxDocType> {\n    const primaryPath = getPrimaryFieldOfPrimaryKey(storageInstance.schema.primaryKey);\n    const sinceLwt = checkpoint ? (checkpoint as unknown as RxStorageDefaultCheckpoint).lwt : RX_META_LWT_MINIMUM;\n    const sinceId = checkpoint ? (checkpoint as unknown as RxStorageDefaultCheckpoint).id : '';\n    return normalizeMangoQuery(storageInstance.schema, {\n        selector: {\n            $or: [\n                {\n                    '_meta.lwt': {\n                        $gt: sinceLwt\n                    }\n                },\n                {\n                    '_meta.lwt': {\n                        $eq: sinceLwt\n                    },\n                    [primaryPath]: {\n                        $gt: checkpoint ? sinceId : ''\n                    }\n                }\n            ],\n            // add this hint for better index usage\n            '_meta.lwt': {\n                $gte: sinceLwt\n            }\n        } as any,\n        sort: [\n            { '_meta.lwt': 'asc' },\n            { [primaryPath]: 'asc' }\n        ] as any,\n        skip: 0,\n        limit,\n        /**\n         * DO NOT SET A SPECIFIC INDEX HERE!\n         * The query might be modified by some plugin\n         * before sending it to the storage.\n         * We can be sure that in the end the query planner\n         * will find the best index.\n         */\n        // index: ['_meta.lwt', primaryPath]\n    });\n}\n\nexport async function getChangedDocumentsSince<RxDocType, CheckpointType>(\n    storageInstance: RxStorageInstance<RxDocType, any, any, CheckpointType>,\n    limit: number,\n    checkpoint?: CheckpointType\n): Promise<{\n    documents: RxDocumentData<RxDocType>[];\n    /**\n     * The checkpoint contains data so that another\n     * call to getChangedDocumentsSince() will continue\n     * from exactly the last document that was returned before.\n     */\n    checkpoint: CheckpointType;\n}> {\n    if (storageInstance.getChangedDocumentsSince) {\n        return storageInstance.getChangedDocumentsSince(limit, checkpoint);\n    }\n\n    const primaryPath = getPrimaryFieldOfPrimaryKey(storageInstance.schema.primaryKey);\n    const query = prepareQuery<RxDocumentData<any>>(\n        storageInstance.schema,\n        getChangedDocumentsSinceQuery(\n            storageInstance,\n            limit,\n            checkpoint\n        )\n    );\n\n    const result = await storageInstance.query(query);\n    const documents = result.documents;\n    const lastDoc = lastOfArray(documents);\n\n    return {\n        documents: documents,\n        checkpoint: lastDoc ? {\n            id: (lastDoc as any)[primaryPath],\n            lwt: lastDoc._meta.lwt\n        } as any : checkpoint ? checkpoint : {\n            id: '',\n            lwt: 0\n        }\n    };\n}\n\n\n/**\n * Wraps the storage and simluates\n * delays. Mostly used in tests.\n */\nexport function randomDelayStorage<Internals, InstanceCreationOptions>(\n    input: {\n        storage: RxStorage<Internals, InstanceCreationOptions>;\n        delayTimeBefore: () => number;\n        delayTimeAfter: () => number;\n    }\n): RxStorage<Internals, InstanceCreationOptions> {\n\n    const retStorage: RxStorage<Internals, InstanceCreationOptions> = {\n        name: 'random-delay-' + input.storage.name,\n        rxdbVersion: RXDB_VERSION,\n        async createStorageInstance(params) {\n            await promiseWait(input.delayTimeBefore());\n            const storageInstance = await input.storage.createStorageInstance(params);\n            await promiseWait(input.delayTimeAfter());\n\n            // write still must be processed in order\n            let writeQueue: Promise<any> = PROMISE_RESOLVE_TRUE;\n\n            return {\n                databaseName: storageInstance.databaseName,\n                internals: storageInstance.internals,\n                options: storageInstance.options,\n                schema: storageInstance.schema,\n                collectionName: storageInstance.collectionName,\n                async bulkWrite(a, b) {\n                    writeQueue = writeQueue.then(async () => {\n                        await promiseWait(input.delayTimeBefore());\n                        const response = await storageInstance.bulkWrite(a, b);\n                        await promiseWait(input.delayTimeAfter());\n                        return response;\n                    });\n                    const ret = await writeQueue;\n                    return ret;\n                },\n                async findDocumentsById(a, b) {\n                    await promiseWait(input.delayTimeBefore());\n                    const ret = await storageInstance.findDocumentsById(a, b);\n                    await promiseWait(input.delayTimeAfter());\n                    return ret;\n                },\n                async query(a) {\n                    await promiseWait(input.delayTimeBefore());\n                    const ret = await storageInstance.query(a);\n                    return ret;\n                },\n                async count(a) {\n                    await promiseWait(input.delayTimeBefore());\n                    const ret = await storageInstance.count(a);\n                    await promiseWait(input.delayTimeAfter());\n                    return ret;\n\n                },\n                async getAttachmentData(a, b, c) {\n                    await promiseWait(input.delayTimeBefore());\n                    const ret = await storageInstance.getAttachmentData(a, b, c);\n                    await promiseWait(input.delayTimeAfter());\n                    return ret;\n\n                },\n                getChangedDocumentsSince: !storageInstance.getChangedDocumentsSince ? undefined : async (a, b) => {\n                    await promiseWait(input.delayTimeBefore());\n                    const ret = await ensureNotFalsy(storageInstance.getChangedDocumentsSince)(a, b);\n                    await promiseWait(input.delayTimeAfter());\n                    return ret;\n\n                },\n                changeStream() {\n                    return storageInstance.changeStream();\n                },\n                conflictResultionTasks() {\n                    return storageInstance.conflictResultionTasks();\n                },\n                resolveConflictResultionTask(a) {\n                    return storageInstance.resolveConflictResultionTask(a);\n                },\n                async cleanup(a) {\n                    await promiseWait(input.delayTimeBefore());\n                    const ret = await storageInstance.cleanup(a);\n                    await promiseWait(input.delayTimeAfter());\n                    return ret;\n\n                },\n                async close() {\n                    await promiseWait(input.delayTimeBefore());\n                    const ret = await storageInstance.close();\n                    await promiseWait(input.delayTimeAfter());\n                    return ret;\n\n                },\n                async remove() {\n                    await promiseWait(input.delayTimeBefore());\n                    const ret = await storageInstance.remove();\n                    await promiseWait(input.delayTimeAfter());\n                    return ret;\n                },\n            };\n\n\n        }\n    };\n    return retStorage;\n}\n","import {\n    isBulkWriteConflictError,\n    rxStorageWriteErrorToRxError\n} from './rx-error.ts';\nimport type {\n    ModifyFunction,\n    BulkWriteRow,\n    MaybePromise,\n    RxDocumentData,\n    RxDocumentWriteData,\n    RxError,\n    RxStorageBulkWriteResponse,\n    RxStorageInstance,\n    StringKeys,\n    WithDeleted\n} from './types/index.d.ts';\nimport {\n    clone,\n    ensureNotFalsy,\n    getFromMapOrCreate,\n    getFromMapOrThrow,\n    parseRevision,\n    stripMetaDataFromDocument\n} from './plugins/utils/index.ts';\n\n\n\nexport type IncrementalWriteModifier<RxDocType> = (\n    doc: RxDocumentData<RxDocType>\n) => MaybePromise<RxDocumentData<RxDocType>> | MaybePromise<RxDocumentWriteData<RxDocType>>;\n\n\ntype IncrementalWriteQueueItem<RxDocType> = {\n    lastKnownDocumentState: RxDocumentData<RxDocType>;\n    modifier: IncrementalWriteModifier<RxDocType>;\n    resolve: (d: RxDocumentData<RxDocType>) => void;\n    reject: (error: RxError) => void;\n};\n\n/**\n * The incremental write queue\n * batches up all incremental writes to a collection\n * so that performance can be improved by:\n * - Running only one write even when there are multiple modifications to the same document.\n * - Run all writes ins a single bulkWrite() call even when there are writes to many documents.\n */\nexport class IncrementalWriteQueue<RxDocType> {\n    public queueByDocId = new Map<string, IncrementalWriteQueueItem<RxDocType>[]>();\n    public isRunning: boolean = false;\n\n    constructor(\n        public readonly storageInstance: RxStorageInstance<RxDocType, any, any>,\n        public readonly primaryPath: StringKeys<RxDocumentData<RxDocType>>,\n        // can be used to run hooks etc.\n        public readonly preWrite: (newData: RxDocumentData<RxDocType>, oldData: RxDocumentData<RxDocType>) => MaybePromise<void>,\n        public readonly postWrite: (docData: RxDocumentData<RxDocType>) => void\n\n    ) { }\n\n    addWrite(\n        lastKnownDocumentState: RxDocumentData<RxDocType>,\n        modifier: IncrementalWriteModifier<RxDocType>\n    ): Promise<RxDocumentData<RxDocType>> {\n        const docId: string = lastKnownDocumentState[this.primaryPath] as any;\n        const ar = getFromMapOrCreate(this.queueByDocId, docId, () => []);\n        const ret = new Promise<RxDocumentData<RxDocType>>((resolve, reject) => {\n            const item: IncrementalWriteQueueItem<RxDocType> = {\n                lastKnownDocumentState,\n                modifier,\n                resolve,\n                reject\n            };\n            ensureNotFalsy(ar).push(item);\n            this.triggerRun();\n        });\n        return ret;\n    }\n\n    async triggerRun(): Promise<void> {\n        if (\n            this.isRunning === true ||\n            this.queueByDocId.size === 0\n        ) {\n            // already running\n            return;\n        }\n        this.isRunning = true;\n        const writeRows: BulkWriteRow<RxDocType>[] = [];\n\n        /**\n         * 'take over' so that while the async functions runs,\n         * new incremental updates could be added from the outside.\n         */\n        const itemsById = this.queueByDocId;\n        this.queueByDocId = new Map();\n        await Promise.all(\n            Array.from(itemsById.entries())\n                .map(async ([_docId, items]) => {\n                    const oldData = findNewestOfDocumentStates(\n                        items.map(i => i.lastKnownDocumentState)\n                    );\n                    let newData = oldData;\n                    for (const item of items) {\n                        try {\n                            newData = await item.modifier(\n                                /**\n                                 * We have to clone() each time because the modifier\n                                 * might throw while it already changed some properties\n                                 * of the document.\n                                 */\n                                clone(newData)\n                            ) as any;\n                        } catch (err: any) {\n                            item.reject(err);\n                            item.reject = () => { };\n                            item.resolve = () => { };\n                        }\n                    }\n\n                    try {\n                        await this.preWrite(newData, oldData);\n                    } catch (err: any) {\n                        /**\n                         * If the before-hooks fail,\n                         * we reject all of the writes because it is\n                         * not possible to determine which one is to blame.\n                         */\n                        items.forEach(item => item.reject(err));\n                        return;\n                    }\n                    writeRows.push({\n                        previous: oldData,\n                        document: newData\n                    });\n                })\n        );\n        const writeResult: RxStorageBulkWriteResponse<RxDocType> = writeRows.length > 0 ?\n            await this.storageInstance.bulkWrite(writeRows, 'incremental-write') :\n            { error: [], success: [] };\n\n        // process success\n        await Promise.all(\n            writeResult.success.map(result => {\n                const docId = result[this.primaryPath] as string;\n                this.postWrite(result);\n                const items = getFromMapOrThrow(itemsById, docId);\n                items.forEach(item => item.resolve(result));\n            })\n        );\n\n        // process errors\n        writeResult.error\n            .forEach(error => {\n                const docId = error.documentId;\n                const items = getFromMapOrThrow(itemsById, docId);\n                const isConflict = isBulkWriteConflictError<RxDocType>(error);\n                if (isConflict) {\n                    // had conflict -> retry afterwards\n                    const ar = getFromMapOrCreate(this.queueByDocId, docId, () => []);\n                    /**\n                     * Add the items back to this.queueByDocId\n                     * by maintaining the original order.\n                     */\n                    items\n                        .reverse()\n                        .forEach(item => {\n                            item.lastKnownDocumentState = ensureNotFalsy(isConflict.documentInDb);\n                            ensureNotFalsy(ar).unshift(item);\n                        });\n                } else {\n                    // other error -> must be thrown\n                    const rxError = rxStorageWriteErrorToRxError(error);\n                    items.forEach(item => item.reject(rxError));\n                }\n            });\n        this.isRunning = false;\n\n        /**\n         * Always trigger another run\n         * because in between there might be new items\n         * been added to the queue.\n         */\n        return this.triggerRun();\n    }\n}\n\n\nexport function modifierFromPublicToInternal<RxDocType>(\n    publicModifier: ModifyFunction<RxDocType>\n): IncrementalWriteModifier<RxDocType> {\n    const ret = async (docData: RxDocumentData<RxDocType>) => {\n        const withoutMeta: WithDeleted<RxDocType> = stripMetaDataFromDocument(docData) as any;\n        withoutMeta._deleted = docData._deleted;\n        const modified = await publicModifier(withoutMeta);\n        const reattachedMeta: RxDocumentData<RxDocType> = Object.assign({}, modified, {\n            _meta: docData._meta,\n            _attachments: docData._attachments,\n            _rev: docData._rev,\n            _deleted: typeof (modified as WithDeleted<RxDocType>)._deleted !== 'undefined' ?\n                (modified as WithDeleted<RxDocType>)._deleted :\n                docData._deleted\n        });\n        if (typeof reattachedMeta._deleted === 'undefined') {\n            reattachedMeta._deleted = false;\n        }\n        return reattachedMeta;\n    };\n    return ret;\n}\n\n\nexport function findNewestOfDocumentStates<RxDocType>(\n    docs: RxDocumentData<RxDocType>[]\n): RxDocumentData<RxDocType> {\n\n    let newest = docs[0];\n    let newestRevisionHeight = parseRevision(newest._rev).height;\n    docs.forEach(doc => {\n        const height = parseRevision(doc._rev).height;\n        if (height > newestRevisionHeight) {\n            newest = doc;\n            newestRevisionHeight = height;\n        }\n    });\n    return newest;\n}\n","import {\n    Observable\n} from 'rxjs';\nimport {\n    distinctUntilChanged,\n    filter,\n    map,\n    shareReplay,\n    startWith\n} from 'rxjs/operators';\nimport {\n    clone,\n    trimDots,\n    pluginMissing,\n    flatClone,\n    PROMISE_RESOLVE_NULL,\n    RXJS_SHARE_REPLAY_DEFAULTS,\n    getProperty,\n    getFromMapOrCreate\n} from './plugins/utils/index.ts';\nimport {\n    newRxError\n} from './rx-error.ts';\nimport {\n    runPluginHooks\n} from './hooks.ts';\n\nimport type {\n    RxDocument,\n    RxCollection,\n    RxDocumentData,\n    RxDocumentWriteData,\n    UpdateQuery,\n    CRDTEntry,\n    ModifyFunction\n} from './types/index.d.ts';\nimport { getDocumentDataOfRxChangeEvent } from './rx-change-event.ts';\nimport { overwritable } from './overwritable.ts';\nimport { getSchemaByObjectPath } from './rx-schema-helper.ts';\nimport { throwIfIsStorageWriteError } from './rx-storage-helper.ts';\nimport { modifierFromPublicToInternal } from './incremental-write.ts';\n\nexport const basePrototype = {\n    get primaryPath() {\n        const _this: RxDocument = this as any;\n        if (!_this.isInstanceOfRxDocument) {\n            return undefined;\n        }\n        return _this.collection.schema.primaryPath;\n    },\n    get primary() {\n        const _this: RxDocument = this as any;\n        if (!_this.isInstanceOfRxDocument) {\n            return undefined;\n        }\n        return (_this._data as any)[_this.primaryPath];\n    },\n    get revision() {\n        const _this: RxDocument = this as any;\n        if (!_this.isInstanceOfRxDocument) {\n            return undefined;\n        }\n        return _this._data._rev;\n    },\n    get deleted$() {\n        const _this: RxDocument<any> = this as any;\n        if (!_this.isInstanceOfRxDocument) {\n            return undefined;\n        }\n        return _this.$.pipe(\n            map((d: any) => d._data._deleted)\n        );\n    },\n    get deleted$$() {\n        const _this: RxDocument = this as any;\n        const reactivity = _this.collection.database.getReactivityFactory();\n        return reactivity.fromObservable(\n            _this.deleted$,\n            _this.getLatest().deleted,\n            _this.collection.database\n        );\n    },\n    get deleted() {\n        const _this: RxDocument = this as any;\n        if (!_this.isInstanceOfRxDocument) {\n            return undefined;\n        }\n        return _this._data._deleted;\n    },\n\n    getLatest(this: RxDocument): RxDocument {\n        const latestDocData = this.collection._docCache.getLatestDocumentData(this.primary);\n        return this.collection._docCache.getCachedRxDocument(latestDocData);\n    },\n\n    /**\n     * returns the observable which emits the plain-data of this document\n     */\n    get $(): Observable<RxDocumentData<any>> {\n        const _this: RxDocument<{}, {}, {}> = this as any;\n        return _this.collection.$.pipe(\n            filter(changeEvent => !changeEvent.isLocal),\n            filter(changeEvent => changeEvent.documentId === this.primary),\n            map(changeEvent => getDocumentDataOfRxChangeEvent(changeEvent)),\n            startWith(_this.collection._docCache.getLatestDocumentData(this.primary)),\n            distinctUntilChanged((prev, curr) => prev._rev === curr._rev),\n            map(docData => (this as RxDocument<any>).collection._docCache.getCachedRxDocument(docData)),\n            shareReplay(RXJS_SHARE_REPLAY_DEFAULTS)\n        );\n    },\n    get $$(): any {\n        const _this: RxDocument = this as any;\n        const reactivity = _this.collection.database.getReactivityFactory();\n        return reactivity.fromObservable(\n            _this.$,\n            _this.getLatest()._data,\n            _this.collection.database\n        );\n    },\n\n    /**\n     * returns observable of the value of the given path\n     */\n    get$(this: RxDocument, path: string): Observable<any> {\n        if (overwritable.isDevMode()) {\n            if (path.includes('.item.')) {\n                throw newRxError('DOC1', {\n                    path\n                });\n            }\n\n            if (path === this.primaryPath) {\n                throw newRxError('DOC2');\n            }\n\n            // final fields cannot be modified and so also not observed\n            if (this.collection.schema.finalFields.includes(path)) {\n                throw newRxError('DOC3', {\n                    path\n                });\n            }\n\n            const schemaObj = getSchemaByObjectPath(\n                this.collection.schema.jsonSchema,\n                path\n            );\n\n            if (!schemaObj) {\n                throw newRxError('DOC4', {\n                    path\n                });\n            }\n        }\n\n        return this.$\n            .pipe(\n                map(data => getProperty(data, path)),\n                distinctUntilChanged()\n            );\n    },\n    get$$(this: RxDocument, path: string) {\n        const obs = this.get$(path);\n        const reactivity = this.collection.database.getReactivityFactory();\n        return reactivity.fromObservable(\n            obs,\n            this.getLatest().get(path),\n            this.collection.database\n        );\n    },\n\n    /**\n     * populate the given path\n     */\n    populate(this: RxDocument, path: string): Promise<RxDocument | null> {\n        const schemaObj = getSchemaByObjectPath(\n            this.collection.schema.jsonSchema,\n            path\n        );\n        const value = this.get(path);\n        if (!value) {\n            return PROMISE_RESOLVE_NULL;\n        }\n        if (!schemaObj) {\n            throw newRxError('DOC5', {\n                path\n            });\n        }\n        if (!schemaObj.ref) {\n            throw newRxError('DOC6', {\n                path,\n                schemaObj\n            });\n        }\n\n        const refCollection: RxCollection = this.collection.database.collections[schemaObj.ref];\n        if (!refCollection) {\n            throw newRxError('DOC7', {\n                ref: schemaObj.ref,\n                path,\n                schemaObj\n            });\n        }\n\n        if (schemaObj.type === 'array') {\n            return refCollection.findByIds(value).exec().then(res => {\n                const valuesIterator = res.values();\n                return Array.from(valuesIterator) as any;\n            });\n        } else {\n            return refCollection.findOne(value).exec();\n        }\n    },\n    /**\n     * get data by objectPath\n     * @hotPath Performance here is really important,\n     * run some tests before changing anything.\n     */\n    get(this: RxDocument, objPath: string): any | null {\n        return getFromMapOrCreate(\n            this._propertyCache,\n            objPath,\n            () => {\n                const valueObj = getProperty(this._data, objPath);\n\n                // direct return if array or non-object\n                if (\n                    typeof valueObj !== 'object' ||\n                    valueObj === null ||\n                    Array.isArray(valueObj)\n                ) {\n                    return overwritable.deepFreezeWhenDevMode(valueObj);\n                }\n                const _this = this;\n                const proxy = new Proxy(\n                    /**\n                     * In dev-mode, the _data is deep-frozen\n                     * so we have to flat clone here so that\n                     * the proxy can work.\n                     */\n                    flatClone(valueObj),\n                    {\n                        get(target, property: any) {\n                            if (typeof property !== 'string') {\n                                return target[property];\n                            }\n                            const lastChar = property.charAt(property.length - 1);\n                            if (property.endsWith('$$')) {\n                                const key = property.slice(0, -2);\n                                return _this.get$$(trimDots(objPath + '.' + key));\n                            } else if (lastChar === '$') {\n                                const key = property.slice(0, -1);\n                                return _this.get$(trimDots(objPath + '.' + key));\n                            } else if (lastChar === '_') {\n                                const key = property.slice(0, -1);\n                                return _this.populate(trimDots(objPath + '.' + key));\n                            } else {\n                                return _this.get(trimDots(objPath + '.' + property));\n                            }\n                        }\n                    });\n                return proxy;\n            }\n        );\n\n    },\n\n    toJSON(this: RxDocument, withMetaFields = false) {\n        if (!withMetaFields) {\n            const data = flatClone(this._data);\n            delete (data as any)._rev;\n            delete (data as any)._attachments;\n            delete (data as any)._deleted;\n            delete (data as any)._meta;\n            return overwritable.deepFreezeWhenDevMode(data);\n        } else {\n            return overwritable.deepFreezeWhenDevMode(this._data);\n        }\n    },\n    toMutableJSON(this: RxDocument, withMetaFields = false) {\n        return clone(this.toJSON(withMetaFields as any));\n    },\n\n    /**\n     * updates document\n     * @overwritten by plugin (optional)\n     * @param updateObj mongodb-like syntax\n     */\n    update(_updateObj: UpdateQuery<any>) {\n        throw pluginMissing('update');\n    },\n    incrementalUpdate(_updateObj: UpdateQuery<any>) {\n        throw pluginMissing('update');\n    },\n    updateCRDT(_updateObj: CRDTEntry<any> | CRDTEntry<any>[]) {\n        throw pluginMissing('crdt');\n    },\n    putAttachment() {\n        throw pluginMissing('attachments');\n    },\n    getAttachment() {\n        throw pluginMissing('attachments');\n    },\n    allAttachments() {\n        throw pluginMissing('attachments');\n    },\n    get allAttachments$() {\n        throw pluginMissing('attachments');\n    },\n\n    async modify<RxDocType>(\n        this: RxDocument<RxDocType>,\n        mutationFunction: ModifyFunction<RxDocType>,\n        // used by some plugins that wrap the method\n        _context?: string\n    ): Promise<RxDocument> {\n        const oldData = this._data;\n        const newData: RxDocumentData<RxDocType> = await modifierFromPublicToInternal<RxDocType>(mutationFunction)(oldData) as any;\n        return this._saveData(newData, oldData) as any;\n    },\n\n    /**\n     * runs an incremental update over the document\n     * @param function that takes the document-data and returns a new data-object\n     */\n    incrementalModify(\n        this: RxDocument,\n        mutationFunction: ModifyFunction<any>,\n        // used by some plugins that wrap the method\n        _context?: string\n    ): Promise<RxDocument> {\n        return this.collection.incrementalWriteQueue.addWrite(\n            this._data,\n            modifierFromPublicToInternal(mutationFunction)\n        ).then(result => this.collection._docCache.getCachedRxDocument(result));\n    },\n\n    patch<RxDocType>(\n        this: RxDocument<RxDocType>,\n        patch: Partial<RxDocType>\n    ) {\n        const oldData = this._data;\n        const newData = clone(oldData);\n        Object\n            .entries(patch)\n            .forEach(([k, v]) => {\n                (newData as any)[k] = v;\n            });\n        return this._saveData(newData, oldData);\n    },\n\n    /**\n     * patches the given properties\n     */\n    incrementalPatch<RxDocumentType = any>(\n        this: RxDocument<RxDocumentType>,\n        patch: Partial<RxDocumentType>\n    ): Promise<RxDocument<RxDocumentType>> {\n        return this.incrementalModify((docData) => {\n            Object\n                .entries(patch)\n                .forEach(([k, v]) => {\n                    (docData as any)[k] = v;\n                });\n            return docData;\n        });\n    },\n\n    /**\n     * saves the new document-data\n     * and handles the events\n     */\n    async _saveData<RxDocType>(\n        this: RxDocument<RxDocType>,\n        newData: RxDocumentWriteData<RxDocType>,\n        oldData: RxDocumentData<RxDocType>\n    ): Promise<RxDocument<RxDocType>> {\n        newData = flatClone(newData);\n\n        // deleted documents cannot be changed\n        if (this._data._deleted) {\n            throw newRxError('DOC11', {\n                id: this.primary,\n                document: this\n            });\n        }\n        await beforeDocumentUpdateWrite(this.collection, newData, oldData);\n        const writeResult = await this.collection.storageInstance.bulkWrite([{\n            previous: oldData,\n            document: newData\n        }], 'rx-document-save-data');\n\n        const isError = writeResult.error[0];\n        throwIfIsStorageWriteError(this.collection, this.primary, newData, isError);\n\n        await this.collection._runHooks('post', 'save', newData, this);\n        return this.collection._docCache.getCachedRxDocument(\n            writeResult.success[0]\n        );\n    },\n\n    /**\n     * Remove the document.\n     * Notice that there is no hard delete,\n     * instead deleted documents get flagged with _deleted=true.\n     */\n    remove(this: RxDocument): Promise<RxDocument> {\n        const collection = this.collection;\n        if (this.deleted) {\n            return Promise.reject(newRxError('DOC13', {\n                document: this,\n                id: this.primary\n            }));\n        }\n\n        const deletedData = flatClone(this._data);\n        let removedDocData: RxDocumentData<any>;\n        return collection._runHooks('pre', 'remove', deletedData, this)\n            .then(async () => {\n                deletedData._deleted = true;\n                const writeResult = await collection.storageInstance.bulkWrite([{\n                    previous: this._data,\n                    document: deletedData\n                }], 'rx-document-remove');\n                const isError = writeResult.error[0];\n                throwIfIsStorageWriteError(collection, this.primary, deletedData, isError);\n                return writeResult.success[0];\n            })\n            .then((removed) => {\n                removedDocData = removed;\n                return this.collection._runHooks('post', 'remove', deletedData, this);\n            })\n            .then(() => {\n                return this.collection._docCache.getCachedRxDocument(removedDocData);\n            });\n    },\n    incrementalRemove(this: RxDocument): Promise<RxDocument> {\n        return this.incrementalModify(async (docData) => {\n            await this.collection._runHooks('pre', 'remove', docData, this);\n            docData._deleted = true;\n            return docData;\n        }).then(async (newDoc) => {\n            await this.collection._runHooks('post', 'remove', newDoc._data, newDoc);\n            return newDoc;\n        });\n    },\n    destroy() {\n        throw newRxError('DOC14');\n    }\n};\n\nexport function createRxDocumentConstructor(proto = basePrototype) {\n    const constructor = function RxDocumentConstructor(\n        this: RxDocument,\n        collection: RxCollection,\n        docData: RxDocumentData<any>\n    ) {\n        this.collection = collection;\n\n        // assume that this is always equal to the doc-data in the database\n        this._data = docData;\n        this._propertyCache = new Map<string, any>();\n\n        /**\n         * because of the prototype-merge,\n         * we can not use the native instanceof operator\n         */\n        this.isInstanceOfRxDocument = true;\n    };\n    constructor.prototype = proto;\n    return constructor;\n}\n\nexport function createWithConstructor<RxDocType>(\n    constructor: any,\n    collection: RxCollection<RxDocType>,\n    jsonData: RxDocumentData<RxDocType>\n): RxDocument<RxDocType> | null {\n    const doc = new constructor(collection, jsonData);\n    runPluginHooks('createRxDocument', doc);\n    return doc;\n}\n\nexport function isRxDocument(obj: any): boolean {\n    return typeof obj === 'object' && obj !== null && 'isInstanceOfRxDocument' in obj;\n}\n\n\nexport function beforeDocumentUpdateWrite<RxDocType>(\n    collection: RxCollection<RxDocType>,\n    newData: RxDocumentWriteData<RxDocType>,\n    oldData: RxDocumentData<RxDocType>\n): Promise<any> {\n    /**\n     * Meta values must always be merged\n     * instead of overwritten.\n     * This ensures that different plugins do not overwrite\n     * each others meta properties.\n     */\n    newData._meta = Object.assign(\n        {},\n        oldData._meta,\n        newData._meta\n    );\n\n    // ensure modifications are ok\n    if (overwritable.isDevMode()) {\n        collection.schema.validateChange(oldData, newData);\n    }\n    return collection._runHooks('pre', 'save', newData, oldData);\n}\n\n","import { Subject } from './Subject';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\n\n/**\n * A variant of Subject that requires an initial value and emits its current\n * value whenever it is subscribed to.\n *\n * @class BehaviorSubject<T>\n */\nexport class BehaviorSubject<T> extends Subject<T> {\n  constructor(private _value: T) {\n    super();\n  }\n\n  get value(): T {\n    return this.getValue();\n  }\n\n  /** @internal */\n  protected _subscribe(subscriber: Subscriber<T>): Subscription {\n    const subscription = super._subscribe(subscriber);\n    !subscription.closed && subscriber.next(this._value);\n    return subscription;\n  }\n\n  getValue(): T {\n    const { hasError, thrownError, _value } = this;\n    if (hasError) {\n      throw thrownError;\n    }\n    this._throwIfClosed();\n    return _value;\n  }\n\n  next(value: T): void {\n    super.next((this._value = value));\n  }\n}\n","import { createErrorClass } from './createErrorClass';\n\nexport interface EmptyError extends Error {}\n\nexport interface EmptyErrorCtor {\n  /**\n   * @deprecated Internal implementation detail. Do not construct error instances.\n   * Cannot be tagged as internal: https://github.com/ReactiveX/rxjs/issues/6269\n   */\n  new (): EmptyError;\n}\n\n/**\n * An error thrown when an Observable or a sequence was queried but has no\n * elements.\n *\n * @see {@link first}\n * @see {@link last}\n * @see {@link single}\n * @see {@link firstValueFrom}\n * @see {@link lastValueFrom}\n *\n * @class EmptyError\n */\nexport const EmptyError: EmptyErrorCtor = createErrorClass((_super) => function EmptyErrorImpl(this: any) {\n  _super(this);\n  this.name = 'EmptyError';\n  this.message = 'no elements in sequence';\n});\n","import { Observable } from '../Observable';\nimport { SchedulerLike } from '../types';\n\n/**\n * A simple Observable that emits no items to the Observer and immediately\n * emits a complete notification.\n *\n * <span class=\"informal\">Just emits 'complete', and nothing else.</span>\n *\n * ![](empty.png)\n *\n * A simple Observable that only emits the complete notification. It can be used\n * for composing with other Observables, such as in a {@link mergeMap}.\n *\n * ## Examples\n *\n * Log complete notification\n *\n * ```ts\n * import { EMPTY } from 'rxjs';\n *\n * EMPTY.subscribe({\n *   next: () => console.log('Next'),\n *   complete: () => console.log('Complete!')\n * });\n *\n * // Outputs\n * // Complete!\n * ```\n *\n * Emit the number 7, then complete\n *\n * ```ts\n * import { EMPTY, startWith } from 'rxjs';\n *\n * const result = EMPTY.pipe(startWith(7));\n * result.subscribe(x => console.log(x));\n *\n * // Outputs\n * // 7\n * ```\n *\n * Map and flatten only odd numbers to the sequence `'a'`, `'b'`, `'c'`\n *\n * ```ts\n * import { interval, mergeMap, of, EMPTY } from 'rxjs';\n *\n * const interval$ = interval(1000);\n * const result = interval$.pipe(\n *   mergeMap(x => x % 2 === 1 ? of('a', 'b', 'c') : EMPTY),\n * );\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following to the console:\n * // x is equal to the count on the interval, e.g. (0, 1, 2, 3, ...)\n * // x will occur every 1000ms\n * // if x % 2 is equal to 1, print a, b, c (each on its own)\n * // if x % 2 is not equal to 1, nothing will be output\n * ```\n *\n * @see {@link Observable}\n * @see {@link NEVER}\n * @see {@link of}\n * @see {@link throwError}\n */\nexport const EMPTY = new Observable<never>((subscriber) => subscriber.complete());\n\n/**\n * @param scheduler A {@link SchedulerLike} to use for scheduling\n * the emission of the complete notification.\n * @deprecated Replaced with the {@link EMPTY} constant or {@link scheduled} (e.g. `scheduled([], scheduler)`). Will be removed in v8.\n */\nexport function empty(scheduler?: SchedulerLike) {\n  return scheduler ? emptyScheduled(scheduler) : EMPTY;\n}\n\nfunction emptyScheduled(scheduler: SchedulerLike) {\n  return new Observable<never>((subscriber) => scheduler.schedule(() => subscriber.complete()));\n}\n","import {\n    pushAtSortPosition\n} from 'array-push-at-sort-position';\n\nimport type { ActionFunction } from '../types/index.js';\n\nexport const doNothing: ActionFunction<any> = (_input) => { };\n\nexport const insertFirst: ActionFunction<any> = (input) => {\n    input.previousResults.unshift(input.changeEvent.doc);\n    if (input.keyDocumentMap) {\n        input.keyDocumentMap.set(\n            input.changeEvent.id,\n            input.changeEvent.doc\n        );\n    }\n};\nexport const insertLast: ActionFunction<any> = (input) => {\n    input.previousResults.push(input.changeEvent.doc);\n    if (input.keyDocumentMap) {\n        input.keyDocumentMap.set(\n            input.changeEvent.id,\n            input.changeEvent.doc\n        );\n    }\n};\nexport const removeFirstItem: ActionFunction<any> = (input) => {\n    const first = input.previousResults.shift();\n    if (input.keyDocumentMap && first) {\n        input.keyDocumentMap.delete(\n            first[input.queryParams.primaryKey]\n        );\n    }\n};\n\nexport const removeLastItem: ActionFunction<any> = (input) => {\n    const last = input.previousResults.pop();\n    if (input.keyDocumentMap && last) {\n        input.keyDocumentMap.delete(\n            last[input.queryParams.primaryKey]\n        );\n    }\n};\n\nexport const removeFirstInsertLast: ActionFunction<any> = (input) => {\n    removeFirstItem(input);\n    insertLast(input);\n};\n\nexport const removeLastInsertFirst: ActionFunction<any> = (input) => {\n    removeLastItem(input);\n    insertFirst(input);\n};\n\nexport const removeFirstInsertFirst: ActionFunction<any> = (input) => {\n    removeFirstItem(input);\n    insertFirst(input);\n};\n\nexport const removeLastInsertLast: ActionFunction<any> = (input) => {\n    removeLastItem(input);\n    insertLast(input);\n};\n\nexport const removeExisting: ActionFunction<any> = (input) => {\n    if (input.keyDocumentMap) {\n        input.keyDocumentMap.delete(\n            input.changeEvent.id\n        );\n    }\n\n    // find index of document\n    const primary = input.queryParams.primaryKey;\n    const results = input.previousResults;\n    for (let i = 0; i < results.length; i++) {\n        const item = results[i];\n        // remove\n        if (item[primary] === input.changeEvent.id) {\n            results.splice(i, 1);\n            break;\n        }\n    }\n};\n\nexport const replaceExisting: ActionFunction<any> = (input) => {\n    // find index of document\n    const doc = input.changeEvent.doc;\n    const primary = input.queryParams.primaryKey;\n    const results = input.previousResults;\n    for (let i = 0; i < results.length; i++) {\n        const item = results[i];\n        // replace\n        if (item[primary] === input.changeEvent.id) {\n            results[i] = doc;\n            if (input.keyDocumentMap) {\n                input.keyDocumentMap.set(\n                    input.changeEvent.id,\n                    doc\n                );\n            }\n            break;\n        }\n    }\n};\n\n/**\n * this function always returns wrong results\n * it must be later optimised out\n * otherwise there is something broken\n */\nexport const alwaysWrong: ActionFunction<any> = (input) => {\n    const wrongHuman = {\n        _id: 'wrongHuman' + new Date().getTime()\n    };\n    input.previousResults.length = 0; // clear array\n    input.previousResults.push(wrongHuman);\n    if (input.keyDocumentMap) {\n        input.keyDocumentMap.clear();\n        input.keyDocumentMap.set(\n            wrongHuman._id,\n            wrongHuman\n        );\n    }\n};\n\nexport const insertAtSortPosition: ActionFunction<any> = (input) => {\n    const docId = input.changeEvent.id;\n    const doc = input.changeEvent.doc;\n    if (input.keyDocumentMap) {\n\n        if (input.keyDocumentMap.has(docId)) {\n            /**\n             * If document is already in results,\n             * we cannot add it again because it would throw on non-deterministic ordering.\n             */\n            return;\n        }\n\n        input.keyDocumentMap.set(\n            docId,\n            doc\n        );\n    } else {\n        const isDocInResults = input.previousResults.find((d: any) => d[input.queryParams.primaryKey] === docId);\n        /**\n         * If document is already in results,\n         * we cannot add it again because it would throw on non-deterministic ordering.\n         */\n        if (isDocInResults) {\n            return;\n        }\n    }\n\n    pushAtSortPosition(\n        input.previousResults,\n        doc,\n        input.queryParams.sortComparator,\n        0\n    );\n};\n\nexport const removeExistingAndInsertAtSortPosition: ActionFunction<any> = (input) => {\n    removeExisting(input);\n    insertAtSortPosition(input);\n};\n\nexport const runFullQueryAgain: ActionFunction<any> = (_input) => {\n    throw new Error('Action runFullQueryAgain must be implemented by yourself');\n};\n\nexport const unknownAction: ActionFunction<any> = (_input) => {\n    throw new Error('Action unknownAction should never be called');\n};\n","/**\n * copied and adapted from npm 'binary-search-insert'\n * @link https://www.npmjs.com/package/binary-search-insert\n */\nexport function pushAtSortPosition(array, item, compareFunction, low) {\n  var length = array.length;\n  var high = length - 1;\n  var mid = 0;\n\n  /**\n   * Optimization shortcut.\n   */\n  if (length === 0) {\n    array.push(item);\n    return 0;\n  }\n\n  /**\n   * So we do not have to get the ret[mid] doc again\n   * at the last we store it here.\n   */\n  var lastMidDoc;\n  while (low <= high) {\n    // https://github.com/darkskyapp/binary-search\n    // http://googleresearch.blogspot.com/2006/06/extra-extra-read-all-about-it-nearly.html\n    mid = low + (high - low >> 1);\n    lastMidDoc = array[mid];\n    if (compareFunction(lastMidDoc, item) <= 0.0) {\n      // searching too low\n      low = mid + 1;\n    } else {\n      // searching too high\n      high = mid - 1;\n    }\n  }\n  if (compareFunction(lastMidDoc, item) <= 0.0) {\n    mid++;\n  }\n\n  /**\n   * Insert at correct position\n   */\n  array.splice(mid, 0, item);\n  return mid;\n}","import type {\n    ActionName,\n    ActionFunction\n} from '../types/index.js';\n\nimport {\n    doNothing,\n    insertFirst,\n    insertLast,\n    removeFirstItem,\n    removeLastItem,\n    removeFirstInsertLast,\n    removeLastInsertFirst,\n    removeExisting,\n    replaceExisting,\n    alwaysWrong,\n    insertAtSortPosition,\n    removeExistingAndInsertAtSortPosition,\n    runFullQueryAgain,\n    unknownAction,\n    removeFirstInsertFirst,\n    removeLastInsertLast\n} from './action-functions.js';\n\nexport * from './action-functions.js';\n\n/**\n * all actions ordered by performance-cost\n * cheapest first\n * TODO run tests on which is really the fastest\n */\nexport const orderedActionList: ActionName[] = [\n    'doNothing',\n    'insertFirst',\n    'insertLast',\n    'removeFirstItem',\n    'removeLastItem',\n    'removeFirstInsertLast',\n    'removeLastInsertFirst',\n    'removeFirstInsertFirst',\n    'removeLastInsertLast',\n    'removeExisting',\n    'replaceExisting',\n    'alwaysWrong',\n    'insertAtSortPosition',\n    'removeExistingAndInsertAtSortPosition',\n    'runFullQueryAgain',\n    'unknownAction'\n];\n\n\nexport const actionFunctions: {\n    [k in ActionName]: ActionFunction<any>\n} = {\n    doNothing,\n    insertFirst,\n    insertLast,\n    removeFirstItem,\n    removeLastItem,\n    removeFirstInsertLast,\n    removeLastInsertFirst,\n    removeFirstInsertFirst,\n    removeLastInsertLast,\n    removeExisting,\n    replaceExisting,\n    alwaysWrong,\n    insertAtSortPosition,\n    removeExistingAndInsertAtSortPosition,\n    runFullQueryAgain,\n    unknownAction\n};\n","import type { BooleanString } from './types.ts';\n\nexport function booleanStringToBoolean(str: BooleanString): boolean {\n    if (str === '1') {\n        return true;\n    } else {\n        return false;\n    }\n}\n\nexport function booleanToBooleanString(b: boolean): BooleanString {\n    if (b) {\n        return '1';\n    } else {\n        return '0';\n    }\n}\n\nexport function oppositeBoolean(input: BooleanString): BooleanString {\n    if (input === '1') {\n        return '0';\n    } else {\n        return '1';\n    }\n}\n\nexport function lastChar(str: string): string {\n    return str.slice(-1);\n}\n\n/**\n * @link https://stackoverflow.com/a/1349426\n */\nfunction makeid(length: number = 6): string {\n    let result = '';\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    const charactersLength = characters.length;\n    for (let i = 0; i < length; i++) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n}\n\nconst nodeIdPrefix = makeid(4);\nlet lastIdGen = 0;\nexport function nextNodeId(): string {\n    const ret = 'node_' + nodeIdPrefix + '_' + lastIdGen;\n    lastIdGen++;\n    return ret;\n}\n\n/**\n * @link https://stackoverflow.com/a/16155417\n */\nexport function decimalToPaddedBinary(\n    decimal: number,\n    padding: number\n) {\n    const binary = (decimal >>> 0).toString(2);\n    const padded = binary.padStart(padding, '0');\n    return padded;\n}\n\nexport function oppositeBinary(i: string): string {\n    if (i === '1') {\n        return '0';\n    } else if (i === '0') {\n        return '1';\n    } else {\n        throw new Error('non-binary given');\n    }\n}\n\nexport function binaryToDecimal(binary: string): number {\n    return parseInt(binary, 2);\n}\n\nexport function minBinaryWithLength(length: number): string {\n    return new Array(length).fill(0).map(() => '0').join('');\n}\n\nexport function maxBinaryWithLength(length: number): string {\n    return new Array(length).fill(0).map(() => '1').join('');\n}\n\nexport function getNextStateSet(\n    stateSet: string\n): string {\n    const decimal = binaryToDecimal(stateSet);\n    const increase = decimal + 1;\n    const binary = decimalToPaddedBinary(increase, stateSet.length);\n    return binary;\n}\n\nexport function firstKeyOfMap(map: Map<string, any>): string {\n    const iterator1 = map.keys();\n    return iterator1.next().value;\n}\n\n/**\n * Shuffles array in place. ES6 version\n * @link https://stackoverflow.com/a/6274381\n */\nexport function shuffleArray<T>(a: T[]): T[] {\n    for (let i = a.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [a[i], a[j]] = [a[j], a[i]];\n    }\n    return a;\n}\n\nexport function lastOfArray<T>(ar: T[]): T {\n    return ar[ar.length - 1];\n}\n\n/**\n * @link https://stackoverflow.com/a/6259536\n */\nexport function splitStringToChunks(str: string, chunkSize: number): string[] {\n    const chunks: string[] = [];\n\n    for (let i = 0, charsLength = str.length; i < charsLength; i += chunkSize) {\n        chunks.push(str.substring(i, i + chunkSize));\n    }\n    return chunks;\n}\n","/*\nlet t = 0;\nwhile (t < 10000) {\n    const char = String.fromCharCode(t);\n    console.log(t + ' : ' + char);\n    t++;\n}\n*/\n\n/*\n\nTo have a really small string representation, we have to hack some stuff\nwhich makes is complicated but effective.\n\nRules for the string:\n- The string starts with a number like '23' that defines how many leaf-nodes we have\n- leaf nodes consist of two chars like 'ab'\n    - the first char is the id\n    - the second the value is a number you can get via String.charCodeAt()\n- Internal nodes have four chars like 'abcd'\n    - the first char is the id\n    - the second char is the id of the 0-branch\n    - the third char is the id of the 1-branch\n    - the last char is the id of the boolean-function (= level)\n- The last 3 chars of the string is the root node like 'abc'\n    - it looks like the internal-node but without the id (first char)\n\n*/\n\n// we use this because 39 is the quotes which causes problems\nexport const CHAR_CODE_OFFSET = 40; // String.fromCharCode(33) === ')'\n\n\nexport function getCharOfLevel(level: number): string {\n    const charCode = CHAR_CODE_OFFSET + level;\n    return String.fromCharCode(charCode);\n}\n\nexport function getNumberOfChar(char: string): number {\n    const charCode = char.charCodeAt(0);\n    return charCode - CHAR_CODE_OFFSET;\n}\n\nexport function getCharOfValue(value: number): string {\n    const charCode = CHAR_CODE_OFFSET + value;\n    return String.fromCharCode(charCode);\n}\n\n\nexport const FIRST_CHAR_CODE_FOR_ID = 97; // String.fromCharCode(97) === 'a'\n\nexport function getNextCharId(lastCode: number): {\n    char: string,\n    nextCode: number\n} {\n\n    // jump these codes because they look strange\n    if (lastCode >= 128 && lastCode <= 160) {\n        lastCode = 161;\n    }\n\n    const char = String.fromCharCode(lastCode);\n    return {\n        char,\n        nextCode: lastCode + 1\n    };\n}\n","import type {\n    MongoQuery,\n    DeepReadonlyObject\n} from './types/index.js';\n\n\nexport function lastOfArray<T>(ar: T[]): T {\n    return ar[ar.length - 1];\n}\n\n/**\n * @link https://stackoverflow.com/a/5915122\n */\nexport function randomOfArray<T>(items: T[]): T {\n    return items[Math.floor(Math.random() * items.length)];\n}\n\nexport function shuffleArray<T>(arr: T[]): T[] {\n    return arr.slice().sort(() => (Math.random() - 0.5));\n}\n\n/**\n * normalizes sort-field\n * in: '-age'\n * out: 'age'\n */\nexport function normalizeSortField(field: string): string {\n    if (field.startsWith('-')) {\n        return field.substr(1);\n    } else {\n        return field;\n    }\n}\n\nexport function getSortFieldsOfQuery(query: MongoQuery): string[] {\n    if (!query.sort) {\n        // if no sort-order is set, use the primary key\n        return ['_id'];\n    }\n    return query.sort.map(maybeArray => {\n        if (Array.isArray(maybeArray)) {\n            return maybeArray[0].map((field: any) => normalizeSortField(field));\n        } else {\n            return normalizeSortField(maybeArray);\n        }\n    });\n}\n\n/**\n *  @link https://stackoverflow.com/a/1431113\n */\nexport function replaceCharAt(str: string, index: number, replacement: string) {\n    return str.substr(0, index) + replacement + str.substr(index + replacement.length);\n}\n\nexport function mapToObject<K, V>(map: Map<K, V>): {\n    [k: string]: V\n} {\n    const ret: any = {};\n    map.forEach(\n        (value: V, key: K) => {\n            ret[key as any] = value;\n        }\n    );\n    return ret;\n}\n\nexport function objectToMap<K, V>(object: {\n    [k: string]: V\n}): Map<K, V> {\n    const ret = new Map();\n    Object.entries(object).forEach(([k, v]) => {\n        ret.set(k, v);\n    });\n    return ret;\n}\n\nexport function cloneMap<K, V>(map: Map<K, V>): Map<K, V> {\n    const ret: any = new Map();\n    map.forEach(\n        (value: V, key: K) => {\n            ret[key as any] = value;\n        }\n    );\n    return ret;\n}\n\n/**\n * does a flat copy on the objects,\n * is about 3 times faster then using deepClone\n * @link https://jsperf.com/object-rest-spread-vs-clone/2\n */\nexport function flatClone<T>(obj: T | DeepReadonlyObject<T>): T {\n    return Object.assign({}, obj) as any;\n}\n\nexport function ensureNotFalsy<T>(obj: T | false | undefined | null): T {\n    if (!obj) {\n        throw new Error('ensureNotFalsy() is falsy');\n    }\n    return obj;\n}\n\nexport function mergeSets<T>(sets: Set<T>[]): Set<T> {\n    let ret: Set<T> = new Set();\n    sets.forEach(set => {\n        ret = new Set([...ret, ...set]);\n    });\n    return ret;\n}\n\n/**\n * @link https://stackoverflow.com/a/12830454/3443137\n */\nexport function roundToTwoDecimals(num: number): number {\n    return parseFloat(num.toFixed(2));\n}\n\n\nexport function isObject(value: null) {\n    const type = typeof value;\n    return value !== null && (type === 'object' || type === 'function');\n}\n\nexport function getProperty(object: any, path: string | string[], value?: any) {\n    if (Array.isArray(path)) {\n        path = path.join('.');\n    }\n\n    if (!isObject(object as any) || typeof path !== 'string') {\n        return value === undefined ? object : value;\n    }\n\n    const pathArray = path.split('.');\n    if (pathArray.length === 0) {\n        return value;\n    }\n\n    for (let index = 0; index < pathArray.length; index++) {\n        const key = pathArray[index];\n\n        if (isStringIndex(object as any, key as any)) {\n            object = index === pathArray.length - 1 ? undefined : null;\n        } else {\n            object = (object as any)[key];\n        }\n\n        if (object === undefined || object === null) {\n            // `object` is either `undefined` or `null` so we want to stop the loop, and\n            // if this is not the last bit of the path, and\n            // if it didn't return `undefined`\n            // it would return `null` if `object` is `null`\n            // but we want `get({foo: null}, 'foo.bar')` to equal `undefined`, or the supplied value, not `null`\n            if (index !== pathArray.length - 1) {\n                return value;\n            }\n\n            break;\n        }\n    }\n\n    return object === undefined ? value : object;\n}\n\nfunction isStringIndex(object: any[], key: string) {\n    if (typeof key !== 'number' && Array.isArray(object)) {\n        const index = Number.parseInt(key, 10);\n        return Number.isInteger(index) && object[index] === object[key as any];\n    }\n\n    return false;\n}\n","import type { StateResolveFunction } from '../types/index.js';\nimport { getProperty, lastOfArray } from '../util.js';\n\nexport const hasLimit: StateResolveFunction<any> = (input) => {\n    return !!input.queryParams.limit;\n};\n\nexport const isFindOne: StateResolveFunction<any> = (input) => {\n    return input.queryParams.limit === 1;\n};\n\nexport const hasSkip: StateResolveFunction<any> = (input) => {\n    if (input.queryParams.skip && input.queryParams.skip > 0) {\n        return true;\n    } else {\n        return false;\n    }\n};\n\nexport const isDelete: StateResolveFunction<any> = (input) => {\n    return input.changeEvent.operation === 'DELETE';\n};\n\nexport const isInsert: StateResolveFunction<any> = (input) => {\n    return input.changeEvent.operation === 'INSERT';\n};\n\nexport const isUpdate: StateResolveFunction<any> = (input) => {\n    return input.changeEvent.operation === 'UPDATE';\n};\n\n\nexport const wasLimitReached: StateResolveFunction<any> = (input) => {\n    return hasLimit(input) && input.previousResults.length >= (input.queryParams.limit as number);\n};\n\nexport const sortParamsChanged: StateResolveFunction<any> = (input) => {\n    const sortFields = input.queryParams.sortFields;\n    const prev = input.changeEvent.previous;\n    const doc = input.changeEvent.doc;\n    if (!doc) {\n        return false;\n    }\n    if (!prev) {\n        return true;\n    }\n\n    for (let i = 0; i < sortFields.length; i++) {\n        const field = sortFields[i];\n        const beforeData = getProperty(prev, field);\n        const afterData = getProperty(doc, field);\n        if (beforeData !== afterData) {\n            return true;\n        }\n    }\n    return false;\n};\n\nexport const wasInResult: StateResolveFunction<any> = (input) => {\n    const id = input.changeEvent.id;\n    if (input.keyDocumentMap) {\n        const has = input.keyDocumentMap.has(id);\n        return has;\n    } else {\n        const primary = input.queryParams.primaryKey;\n        const results = input.previousResults;\n        for (let i = 0; i < results.length; i++) {\n            const item = results[i];\n            if (item[primary] === id) {\n                return true;\n            }\n        }\n        return false;\n    }\n};\n\nexport const wasFirst: StateResolveFunction<any> = (input) => {\n    const first = input.previousResults[0];\n    if (first && first[input.queryParams.primaryKey] === input.changeEvent.id) {\n        return true;\n    } else {\n        return false;\n    }\n};\n\nexport const wasLast: StateResolveFunction<any> = (input) => {\n    const last = lastOfArray(input.previousResults);\n    if (last && last[input.queryParams.primaryKey] === input.changeEvent.id) {\n        return true;\n    } else {\n        return false;\n    }\n};\n\n\nexport const wasSortedBeforeFirst: StateResolveFunction<any> = (input) => {\n    const prev = input.changeEvent.previous;\n    if (!prev) {\n        return false;\n    }\n\n    const first = input.previousResults[0];\n    if (!first) {\n        return false;\n    }\n\n    /**\n     * If the changed document is the same as the first,\n     * we cannot sort-compare them, because it might end in a non-deterministic\n     * sort order. Because both document could be equal.\n     * So instead we have to return true.\n     */\n    if (first[input.queryParams.primaryKey] === input.changeEvent.id) {\n        return true;\n    }\n\n    const comp = input.queryParams.sortComparator(\n        prev,\n        first\n    );\n    return comp < 0;\n};\n\nexport const wasSortedAfterLast: StateResolveFunction<any> = (input) => {\n    const prev = input.changeEvent.previous;\n    if (!prev) {\n        return false;\n    }\n\n    const last = lastOfArray(input.previousResults);\n    if (!last) {\n        return false;\n    }\n\n    if (last[input.queryParams.primaryKey] === input.changeEvent.id) {\n        return true;\n    }\n\n    const comp = input.queryParams.sortComparator(\n        prev,\n        last\n    );\n    return comp > 0;\n};\n\nexport const isSortedBeforeFirst: StateResolveFunction<any> = (input) => {\n    const doc = input.changeEvent.doc;\n    if (!doc) {\n        return false;\n    }\n\n    const first = input.previousResults[0];\n    if (!first) {\n        return false;\n    }\n\n    if (first[input.queryParams.primaryKey] === input.changeEvent.id) {\n        return true;\n    }\n\n    const comp = input.queryParams.sortComparator(\n        doc,\n        first\n    );\n    return comp < 0;\n};\n\nexport const isSortedAfterLast: StateResolveFunction<any> = (input) => {\n    const doc = input.changeEvent.doc;\n    if (!doc) {\n        return false;\n    }\n\n    const last = lastOfArray(input.previousResults);\n    if (!last) {\n        return false;\n    }\n\n    if (last[input.queryParams.primaryKey] === input.changeEvent.id) {\n        return true;\n    }\n\n    const comp = input.queryParams.sortComparator(\n        doc,\n        last\n    );\n    return comp > 0;\n};\n\n\nexport const wasMatching: StateResolveFunction<any> = (input) => {\n    const prev = input.changeEvent.previous;\n    if (!prev) {\n        return false;\n    }\n    return input.queryParams.queryMatcher(\n        prev\n    );\n};\n\nexport const doesMatchNow: StateResolveFunction<any> = (input) => {\n    const doc = input.changeEvent.doc;\n    if (!doc) {\n        return false;\n    }\n    const ret = input.queryParams.queryMatcher(\n        doc\n    );\n    return ret;\n};\n\n\nexport const wasResultsEmpty: StateResolveFunction<any> = (input) => {\n    return input.previousResults.length === 0;\n};\n","import { ResolverFunctions } from 'binary-decision-diagram';\n\nimport type {\n    StateName,\n    StateResolveFunction,\n    StateSet,\n    StateResolveFunctionInput\n} from '../types/index.js';\n\nimport {\n    hasLimit,\n    isFindOne,\n    hasSkip,\n    wasResultsEmpty,\n    isDelete,\n    isInsert,\n    isUpdate,\n    wasLimitReached,\n    sortParamsChanged,\n    wasInResult,\n    wasFirst,\n    wasLast,\n    wasSortedBeforeFirst,\n    wasSortedAfterLast,\n    isSortedBeforeFirst,\n    isSortedAfterLast,\n    wasMatching,\n    doesMatchNow\n} from './state-resolver.js';\n\nexport * from './state-resolver.js';\n\n/**\n * all states ordered by performance-cost\n * cheapest first\n * TODO run tests on which is really the fastest\n */\nexport const orderedStateList: StateName[] = [\n    'isInsert',\n    'isUpdate',\n    'isDelete',\n    'hasLimit',\n    'isFindOne',\n    'hasSkip',\n    'wasResultsEmpty',\n    'wasLimitReached',\n    'wasFirst',\n    'wasLast',\n    'sortParamsChanged',\n    'wasInResult',\n    'wasSortedBeforeFirst',\n    'wasSortedAfterLast',\n    'isSortedBeforeFirst',\n    'isSortedAfterLast',\n    'wasMatching',\n    'doesMatchNow'\n];\n\nexport const stateResolveFunctions: {\n    readonly [k in StateName]: StateResolveFunction<any>\n} = {\n    isInsert,\n    isUpdate,\n    isDelete,\n    hasLimit,\n    isFindOne,\n    hasSkip,\n    wasResultsEmpty,\n    wasLimitReached,\n    wasFirst,\n    wasLast,\n    sortParamsChanged,\n    wasInResult,\n    wasSortedBeforeFirst,\n    wasSortedAfterLast,\n    isSortedBeforeFirst,\n    isSortedAfterLast,\n    wasMatching,\n    doesMatchNow\n};\n\nexport const stateResolveFunctionByIndex: ResolverFunctions<\n    StateResolveFunctionInput<any>\n> = {\n    0: isInsert,\n    1: isUpdate,\n    2: isDelete,\n    3: hasLimit,\n    4: isFindOne,\n    5: hasSkip,\n    6: wasResultsEmpty,\n    7: wasLimitReached,\n    8: wasFirst,\n    9: wasLast,\n    10: sortParamsChanged,\n    11: wasInResult,\n    12: wasSortedBeforeFirst,\n    13: wasSortedAfterLast,\n    14: isSortedBeforeFirst,\n    15: isSortedAfterLast,\n    16: wasMatching,\n    17: doesMatchNow\n};\n\nexport function resolveState<DocType>(\n    stateName: StateName,\n    input: StateResolveFunctionInput<DocType>\n): boolean {\n    const fn: StateResolveFunction<DocType> = stateResolveFunctions[stateName];\n    if (!fn) {\n        throw new Error('resolveState() has no function for ' + stateName);\n    }\n    return fn(input);\n}\n\nexport function getStateSet<DocType>(\n    input: StateResolveFunctionInput<DocType>\n): StateSet {\n    let set: StateSet = '';\n    for (let i = 0; i < orderedStateList.length; i++) {\n        const name: StateName = orderedStateList[i];\n        const value = resolveState(name, input);\n        const add = value ? '1' : '0';\n        set += add;\n    }\n    return set;\n}\n\nexport function logStateSet(stateSet: StateSet) {\n    orderedStateList.forEach((state, index) => {\n        console.log('state: ' + state + ' : ' + stateSet[index]);\n    });\n}\n","import {\n    SimpleBdd,\n    minimalStringToSimpleBdd,\n    resolveWithSimpleBdd\n} from 'binary-decision-diagram';\nimport type { StateResolveFunctionInput } from '../types/index.js';\nimport { stateResolveFunctionByIndex } from '../states/index.js';\n\nexport const minimalBddString = '14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9ae9bf9bq9cg9ck9cn9nd9np9nq9nf9ng9nm9nk9mr9ms9mt9mj9mk9ml9mn9mc8{8}888mn88m8m4z4w4z44444m4v7yn77~777n777m77m7m7m5m5m55m555m55m5m552|2u2222x222|222222n2n222n2/an/bn/cn///////////,cn,,,,,,,ac0bc00000000000m-m-----------3333(((++++11*m*.';\n\nlet simpleBdd: SimpleBdd | undefined;\nexport function getSimpleBdd() {\n    if (!simpleBdd) {\n        simpleBdd = minimalStringToSimpleBdd(minimalBddString);\n    }\n    return simpleBdd;\n}\n\nexport const resolveInput = (input: StateResolveFunctionInput<any>) => {\n    return resolveWithSimpleBdd(\n        getSimpleBdd(),\n        stateResolveFunctionByIndex,\n        input\n    );\n};\n","import {\n    SimpleBdd,\n    SimpleBddLeafNode\n} from '../types.js';\nimport { splitStringToChunks } from '../util.js';\nimport { getNumberOfChar } from './string-format.js';\n\nexport function minimalStringToSimpleBdd(\n    str: string\n): SimpleBdd {\n    const nodesById: Map<string, SimpleBdd | SimpleBddLeafNode> = new Map();\n\n    // parse leaf nodes\n    const leafNodeAmount = parseInt(str.charAt(0) + str.charAt(1), 10);\n    const lastLeafNodeChar = (2 + leafNodeAmount * 2);\n    const leafNodeChars = str.substring(2, lastLeafNodeChar);\n    const leafNodeChunks = splitStringToChunks(leafNodeChars, 2);\n    for (let i = 0; i < leafNodeChunks.length; i++) {\n        const chunk = leafNodeChunks[i];\n        const id = chunk.charAt(0);\n        const value: SimpleBddLeafNode = getNumberOfChar(chunk.charAt(1));\n        nodesById.set(id, value);\n    }\n\n    // parse internal nodes\n    const internalNodeChars = str.substring(lastLeafNodeChar, str.length - 3);\n    const internalNodeChunks = splitStringToChunks(internalNodeChars, 4);\n    for (let i = 0; i < internalNodeChunks.length; i++) {\n        const chunk = internalNodeChunks[i];\n        const id = chunk.charAt(0);\n        const idOf0Branch = chunk.charAt(1);\n        const idOf1Branch = chunk.charAt(2);\n        const level = getNumberOfChar(chunk.charAt(3));\n\n\n        if (!nodesById.has(idOf0Branch)) {\n            throw new Error('missing node with id ' + idOf0Branch);\n        }\n        if (!nodesById.has(idOf1Branch)) {\n            throw new Error('missing node with id ' + idOf1Branch);\n        }\n\n        const node0 = nodesById.get(idOf0Branch) as SimpleBdd;\n        const node1 = nodesById.get(idOf1Branch) as SimpleBdd;\n        const node: SimpleBdd = {\n            l: level, // level is first for prettier json output\n            0: node0,\n            1: node1\n        };\n        nodesById.set(id, node);\n    }\n\n    // parse root node\n    const last3 = str.slice(-3);\n    const idOf0 = last3.charAt(0);\n    const idOf1 = last3.charAt(1);\n    const levelOfRoot = getNumberOfChar(last3.charAt(2));\n    const nodeOf0 = nodesById.get(idOf0) as SimpleBdd;\n    const nodeOf1 = nodesById.get(idOf1) as SimpleBdd;\n    const rootNode: SimpleBdd = {\n        l: levelOfRoot,\n        0: nodeOf0,\n        1: nodeOf1,\n    };\n\n    return rootNode;\n}\n","import {\n    SimpleBdd,\n    ResolverFunctions,\n    SimpleBddLeafNode\n} from '../types.js';\nimport { booleanToBooleanString } from '../util.js';\n\nexport function resolveWithSimpleBdd(\n    simpleBdd: SimpleBdd,\n    fns: ResolverFunctions,\n    input: any\n): number {\n    let currentNode: SimpleBdd | SimpleBddLeafNode = simpleBdd;\n    let currentLevel: number = simpleBdd.l;\n    while (true) {\n        const booleanResult = fns[currentLevel](input);\n        const branchKey = booleanToBooleanString(booleanResult);\n        currentNode = currentNode[branchKey];\n        if (typeof currentNode === 'number' || typeof currentNode === 'string') {\n            return currentNode as any;\n        } else {\n            currentLevel = currentNode.l;\n        }\n    }\n}\n","import type {\n    ChangeEvent,\n    ActionName,\n    ResultKeyDocumentMap,\n    QueryParams,\n    StateSetToActionMap,\n    StateSet,\n    ActionFunction,\n    StateResolveFunctionInput\n} from './types/index.js';\nimport { getStateSet } from './states/index.js';\nimport { actionFunctions, orderedActionList } from './actions/index.js';\nimport { resolveInput } from './bdd/bdd.generated.js';\n\n/**\n * Export as type to ensure we do not\n * end with an import statement in the build output\n * which would increase the build size.\n */\nexport type {\n    ActionFunction,\n    ActionFunctionInput,\n    ActionName,\n    ChangeEvent,\n    ChangeEventBase,\n    ChangeEventDelete,\n    ChangeEventInsert,\n    ChangeEventUpdate,\n    MongoQuery,\n    QueryMatcher,\n    QueryParams,\n    ResultKeyDocumentMap,\n    DeterministicSortComparator,\n    StateName,\n    StateResolveFunction,\n    StateResolveFunctionInput,\n    StateSet,\n    StateSetToActionMap,\n    WriteOperation\n} from './types/index.js';\n\nexport * from './states/index.js';\nexport * from './util.js';\nexport * from './actions/index.js';\n\nexport function calculateActionFromMap<DocType>(\n    stateSetToActionMap: StateSetToActionMap,\n    input: StateResolveFunctionInput<DocType>\n): {\n    action: ActionName,\n    stateSet: StateSet\n} {\n    const stateSet: StateSet = getStateSet(input);\n    const actionName = stateSetToActionMap.get(stateSet);\n    if (!actionName) {\n        return {\n            action: 'runFullQueryAgain',\n            stateSet\n        };\n    } else {\n        return {\n            action: actionName,\n            stateSet\n        };\n    }\n}\n\nexport function calculateActionName<DocType>(\n    input: StateResolveFunctionInput<DocType>\n): ActionName {\n    const resolvedActionId = resolveInput(\n        input\n    );\n    return orderedActionList[resolvedActionId];\n}\n\nexport function calculateActionFunction<DocType>(\n    input: StateResolveFunctionInput<DocType>\n): ActionFunction<DocType> {\n    const actionName = calculateActionName(input);\n    return actionFunctions[actionName];\n}\n\n/**\n * for performance reasons,\n * @mutates the input\n * @returns the new results\n */\nexport function runAction<DocType>(\n    action: ActionName,\n    queryParams: QueryParams<DocType>,\n    changeEvent: ChangeEvent<DocType>,\n    previousResults: DocType[],\n    keyDocumentMap?: ResultKeyDocumentMap<DocType>\n): DocType[] {\n    const fn: ActionFunction<DocType> = actionFunctions[action];\n    fn({\n        queryParams,\n        changeEvent,\n        previousResults,\n        keyDocumentMap\n    });\n    return previousResults;\n}\n","import { countUntilNotMatching } from './plugins/utils/index.ts';\nimport { newRxError } from './rx-error.ts';\nimport { getSchemaByObjectPath } from './rx-schema-helper.ts';\nimport type {\n    FilledMangoQuery,\n    MangoQuerySelector,\n    RxDocumentData,\n    RxJsonSchema,\n    RxQueryPlan,\n    RxQueryPlanKey,\n    RxQueryPlanerOpts\n} from './types/index.d.ts';\n\nexport const INDEX_MAX = String.fromCharCode(65535);\n\n/**\n * Do not use -Infinity here because it would be\n * transformed to null on JSON.stringify() which can break things\n * when the query plan is send to the storage as json.\n * @link https://stackoverflow.com/a/16644751\n * Notice that for IndexedDB IDBKeyRange we have\n * to transform the value back to -Infinity\n * before we can use it in IDBKeyRange.bound.\n */\nexport const INDEX_MIN = Number.MIN_SAFE_INTEGER;\n\n/**\n * Returns the query plan which contains\n * information about how to run the query\n * and which indexes to use.\n *\n * This is used in some storage like Memory, dexie.js and IndexedDB.\n */\nexport function getQueryPlan<RxDocType>(\n    schema: RxJsonSchema<RxDocumentData<RxDocType>>,\n    query: FilledMangoQuery<RxDocType>\n): RxQueryPlan {\n    const selector = query.selector;\n\n    let indexes: string[][] = schema.indexes ? schema.indexes.slice(0) as any : [];\n    if (query.index) {\n        indexes = [query.index];\n    }\n\n    /**\n     * Most storages do not support descending indexes\n     * so having a 'desc' in the sorting, means we always have to re-sort the results.\n     */\n    const hasDescSorting = !!query.sort.find(sortField => Object.values(sortField)[0] === 'desc');\n\n    /**\n     * Some fields can be part of the selector while not being relevant for sorting\n     * because their selector operators specify that in all cases all matching docs\n     * would have the same value.\n     * For example the boolean field _deleted.\n     * TODO similar thing could be done for enums.\n     */\n    const sortIrrelevevantFields = new Set();\n    Object.keys(selector).forEach(fieldName => {\n        const schemaPart = getSchemaByObjectPath(schema, fieldName);\n        if (\n            schemaPart &&\n            schemaPart.type === 'boolean' &&\n            Object.prototype.hasOwnProperty.call((selector as any)[fieldName], '$eq')\n        ) {\n            sortIrrelevevantFields.add(fieldName);\n        }\n    });\n\n\n    const optimalSortIndex = query.sort.map(sortField => Object.keys(sortField)[0]);\n    const optimalSortIndexCompareString = optimalSortIndex\n        .filter(f => !sortIrrelevevantFields.has(f))\n        .join(',');\n\n    let currentBestQuality = -1;\n    let currentBestQueryPlan: RxQueryPlan | undefined;\n\n    /**\n     * Calculate one query plan for each index\n     * and then test which of the plans is best.\n     */\n    indexes.forEach((index) => {\n        let inclusiveEnd = true;\n        let inclusiveStart = true;\n        const opts: RxQueryPlanerOpts[] = index.map(indexField => {\n            const matcher = (selector as any)[indexField];\n            const operators = matcher ? Object.keys(matcher) : [];\n\n            let matcherOpts: RxQueryPlanerOpts = {} as any;\n            if (\n                !matcher ||\n                !operators.length\n            ) {\n                const startKey = inclusiveStart ? INDEX_MIN : INDEX_MAX;\n                matcherOpts = {\n                    startKey,\n                    endKey: inclusiveEnd ? INDEX_MAX : INDEX_MIN,\n                    inclusiveStart: true,\n                    inclusiveEnd: true\n                };\n            } else {\n                operators.forEach(operator => {\n                    if (LOGICAL_OPERATORS.has(operator)) {\n                        const operatorValue = matcher[operator];\n                        const partialOpts = getMatcherQueryOpts(operator, operatorValue);\n                        matcherOpts = Object.assign(matcherOpts, partialOpts);\n                    }\n                });\n            }\n\n            // fill missing attributes\n            if (typeof matcherOpts.startKey === 'undefined') {\n                matcherOpts.startKey = INDEX_MIN;\n            }\n            if (typeof matcherOpts.endKey === 'undefined') {\n                matcherOpts.endKey = INDEX_MAX;\n            }\n            if (typeof matcherOpts.inclusiveStart === 'undefined') {\n                matcherOpts.inclusiveStart = true;\n            }\n            if (typeof matcherOpts.inclusiveEnd === 'undefined') {\n                matcherOpts.inclusiveEnd = true;\n            }\n\n            if (inclusiveStart && !matcherOpts.inclusiveStart) {\n                inclusiveStart = false;\n            }\n            if (inclusiveEnd && !matcherOpts.inclusiveEnd) {\n                inclusiveEnd = false;\n            }\n\n            return matcherOpts;\n        });\n\n\n        const startKeys = opts.map(opt => opt.startKey);\n        const endKeys = opts.map(opt => opt.endKey);\n        const queryPlan: RxQueryPlan = {\n            index,\n            startKeys,\n            endKeys,\n            inclusiveEnd,\n            inclusiveStart,\n            sortSatisfiedByIndex: !hasDescSorting && optimalSortIndexCompareString === index.filter(f => !sortIrrelevevantFields.has(f)).join(','),\n            selectorSatisfiedByIndex: isSelectorSatisfiedByIndex(index, query.selector, startKeys, endKeys)\n        };\n        const quality = rateQueryPlan(\n            schema,\n            query,\n            queryPlan\n        );\n        if (\n            (\n                quality >= currentBestQuality\n            ) ||\n            query.index\n        ) {\n            currentBestQuality = quality;\n            currentBestQueryPlan = queryPlan;\n        }\n    });\n\n    /**\n     * In all cases and index must be found\n     */\n    if (!currentBestQueryPlan) {\n        throw newRxError('SNH', {\n            query\n        });\n    }\n\n    return currentBestQueryPlan;\n}\n\nexport const LOGICAL_OPERATORS = new Set(['$eq', '$gt', '$gte', '$lt', '$lte']);\nexport const LOWER_BOUND_LOGICAL_OPERATORS = new Set(['$eq', '$gt', '$gte']);\nexport const UPPER_BOUND_LOGICAL_OPERATORS = new Set(['$eq', '$lt', '$lte']);\n\n\nexport function isSelectorSatisfiedByIndex(\n    index: string[],\n    selector: MangoQuerySelector<any>,\n    startKeys: RxQueryPlanKey[],\n    endKeys: RxQueryPlanKey[]\n): boolean {\n\n\n    /**\n     * Not satisfied if one or more operators are non-logical\n     * operators that can never be satisfied by an index.\n     */\n    const selectorEntries = Object.entries(selector);\n    const hasNonMatchingOperator = selectorEntries\n        .find(([fieldName, operation]) => {\n            if (!index.includes(fieldName)) {\n                return true;\n            }\n            const hasNonLogicOperator = Object.entries(operation as any)\n                .find(([op, _value]) => !LOGICAL_OPERATORS.has(op));\n            return hasNonLogicOperator;\n        });\n\n    if (hasNonMatchingOperator) {\n        return false;\n    }\n\n    /**\n     * Not satisfied if contains $and or $or operations.\n     */\n    if (selector.$and || selector.$or) {\n        return false;\n    }\n\n\n\n    // ensure all lower bound in index\n    const satisfieldLowerBound: string[] = [];\n    const lowerOperatorFieldNames = new Set<string>();\n    for (const [fieldName, operation] of Object.entries(selector)) {\n        if (!index.includes(fieldName)) {\n            return false;\n        }\n\n        // If more then one logic op on the same field, we have to selector-match.\n        const lowerLogicOps = Object.keys(operation as any).filter(key => LOWER_BOUND_LOGICAL_OPERATORS.has(key));\n        if (lowerLogicOps.length > 1) {\n            return false;\n        }\n\n        const hasLowerLogicOp = lowerLogicOps[0];\n        if (hasLowerLogicOp) {\n            lowerOperatorFieldNames.add(fieldName);\n        }\n        if (hasLowerLogicOp !== '$eq') {\n            if (satisfieldLowerBound.length > 0) {\n                return false;\n            } else {\n                satisfieldLowerBound.push(hasLowerLogicOp);\n            }\n        }\n    }\n\n    // ensure all upper bound in index\n    const satisfieldUpperBound: string[] = [];\n    const upperOperatorFieldNames = new Set<string>();\n    for (const [fieldName, operation] of Object.entries(selector)) {\n        if (!index.includes(fieldName)) {\n            return false;\n        }\n\n        // If more then one logic op on the same field, we have to selector-match.\n        const upperLogicOps = Object.keys(operation as any).filter(key => UPPER_BOUND_LOGICAL_OPERATORS.has(key));\n        if (upperLogicOps.length > 1) {\n            return false;\n        }\n\n        const hasUperLogicOp = upperLogicOps[0];\n        if (hasUperLogicOp) {\n            upperOperatorFieldNames.add(fieldName);\n        }\n        if (hasUperLogicOp !== '$eq') {\n            if (satisfieldUpperBound.length > 0) {\n                return false;\n            } else {\n                satisfieldUpperBound.push(hasUperLogicOp);\n            }\n        }\n    }\n\n\n    /**\n     * If the index contains a non-relevant field between\n     * the relevant fields, then the index is not satisfying.\n     */\n    let i = 0;\n    for (const fieldName of index) {\n        for (const set of [\n            lowerOperatorFieldNames,\n            upperOperatorFieldNames\n        ]) {\n            if (\n                !set.has(fieldName) &&\n                set.size > 0\n            ) {\n                return false;\n            }\n            set.delete(fieldName);\n        }\n\n        const startKey = startKeys[i];\n        const endKey = endKeys[i];\n\n        if (\n            startKey !== endKey && (\n                lowerOperatorFieldNames.size > 0 &&\n                upperOperatorFieldNames.size > 0\n            )\n        ) {\n            return false;\n        }\n\n        i++;\n    }\n\n    return true;\n}\n\nexport function getMatcherQueryOpts(\n    operator: string,\n    operatorValue: any\n): Partial<RxQueryPlanerOpts> {\n    switch (operator) {\n        case '$eq':\n            return {\n                startKey: operatorValue,\n                endKey: operatorValue,\n                inclusiveEnd: true,\n                inclusiveStart: true\n            };\n        case '$lte':\n            return {\n                endKey: operatorValue,\n                inclusiveEnd: true\n            };\n        case '$gte':\n            return {\n                startKey: operatorValue,\n                inclusiveStart: true\n            };\n        case '$lt':\n            return {\n                endKey: operatorValue,\n                inclusiveEnd: false\n            };\n        case '$gt':\n            return {\n                startKey: operatorValue,\n                inclusiveStart: false\n            };\n        default:\n            throw new Error('SNH');\n    }\n}\n\n\n/**\n * Returns a number that determines the quality of the query plan.\n * Higher number means better query plan.\n */\nexport function rateQueryPlan<RxDocType>(\n    schema: RxJsonSchema<RxDocumentData<RxDocType>>,\n    query: FilledMangoQuery<RxDocType>,\n    queryPlan: RxQueryPlan\n): number {\n    let quality: number = 0;\n    const addQuality = (value: number) => {\n        if (value > 0) {\n            quality = quality + value;\n        }\n    };\n\n    const pointsPerMatchingKey = 10;\n\n    const nonMinKeyCount = countUntilNotMatching(queryPlan.startKeys, keyValue => keyValue !== INDEX_MIN && keyValue !== INDEX_MAX);\n    addQuality(nonMinKeyCount * pointsPerMatchingKey);\n\n    const nonMaxKeyCount = countUntilNotMatching(queryPlan.startKeys, keyValue => keyValue !== INDEX_MAX && keyValue !== INDEX_MIN);\n    addQuality(nonMaxKeyCount * pointsPerMatchingKey);\n\n    const equalKeyCount = countUntilNotMatching(queryPlan.startKeys, (keyValue, idx) => {\n        if (keyValue === queryPlan.endKeys[idx]) {\n            return true;\n        } else {\n            return false;\n        }\n    });\n    addQuality(equalKeyCount * pointsPerMatchingKey * 1.5);\n\n    const pointsIfNoReSortMustBeDone = queryPlan.sortSatisfiedByIndex ? 5 : 0;\n    addQuality(pointsIfNoReSortMustBeDone);\n\n    return quality;\n}\n","/** Represents an error reported by the mingo library. */\nexport class MingoError extends Error {\n}\n","/**\n * Utility constants and functions\n */\nimport { MingoError } from \"./types\";\nexport const MAX_INT = 2147483647;\nexport const MIN_INT = -2147483648;\nexport const MAX_LONG = Number.MAX_SAFE_INTEGER;\nexport const MIN_LONG = Number.MIN_SAFE_INTEGER;\n// special value to identify missing items. treated differently from undefined\nconst MISSING = Symbol(\"missing\");\nconst CYCLE_FOUND_ERROR = Object.freeze(new Error(\"mingo: cycle detected while processing object/array\"));\nconst ARRAY_PROTO = Object.getPrototypeOf([]);\nconst OBJECT_PROTO = Object.getPrototypeOf({});\nconst OBJECT_TAG = \"[object Object]\";\nconst OBJECT_TYPE_RE = /^\\[object ([a-zA-Z0-9]+)\\]$/;\nclass Null {\n}\nclass Undefined {\n}\nconst getConstructor = (v) => {\n    if (v === null)\n        return Null;\n    if (v === undefined)\n        return Undefined;\n    return v.constructor;\n};\n/**\n * Uses the simple hash method as described in Effective Java.\n * @see https://stackoverflow.com/a/113600/1370481\n * @param value The value to hash\n * @returns {number}\n */\nconst DEFAULT_HASH_FUNCTION = (value) => {\n    const s = stringify(value);\n    let hash = 0;\n    let i = s.length;\n    while (i)\n        hash = ((hash << 5) - hash) ^ s.charCodeAt(--i);\n    return hash >>> 0;\n};\n// no array, object, or function types\nconst JS_SIMPLE_TYPES = new Set([\n    \"null\",\n    \"undefined\",\n    \"boolean\",\n    \"number\",\n    \"string\",\n    \"date\",\n    \"regexp\"\n]);\nconst IMMUTABLE_TYPES_SET = new Set([Undefined, Null, Boolean, String, Number]);\n/** Convert simple value to string representation. */\nconst toString = (v) => v.toString(); // eslint-disable-line @typescript-eslint/no-base-to-string\n/** Convert a typed array to string representation. */\nconst typedArrayToString = (v) => `${getConstructor(v).name}[${v.toString()}]`; // eslint-disable-line @typescript-eslint/no-base-to-string\n/** Map of constructors to string converter functions */\nconst STRING_CONVERTERS = new Map([\n    [Number, toString],\n    [Boolean, toString],\n    [RegExp, toString],\n    [Function, toString],\n    [Symbol, toString],\n    [Date, (d) => d.toISOString()],\n    [String, JSON.stringify],\n    [Null, (_) => \"null\"],\n    [Undefined, (_) => \"undefined\"],\n    [Int8Array, typedArrayToString],\n    [Uint8Array, typedArrayToString],\n    [Uint8ClampedArray, typedArrayToString],\n    [Int16Array, typedArrayToString],\n    [Uint16Array, typedArrayToString],\n    [Int32Array, typedArrayToString],\n    [Uint32Array, typedArrayToString],\n    [Float32Array, typedArrayToString],\n    [Float64Array, typedArrayToString]\n]);\n/**\n * Some types like BigInt are not available on more exotic\n * JavaScript runtimes like ReactNative or QuickJS.\n * So we fill them in only if they exist so that it does not throw an error.\n */\nif (typeof BigInt !== \"undefined\") {\n    STRING_CONVERTERS.set(BigInt, (n) => \"0x\" + n.toString(16));\n}\nif (typeof BigInt64Array !== \"undefined\") {\n    STRING_CONVERTERS.set(BigInt64Array, typedArrayToString);\n}\nif (typeof BigUint64Array !== \"undefined\") {\n    STRING_CONVERTERS.set(BigUint64Array, typedArrayToString);\n}\n/** MongoDB sort comparison order. https://www.mongodb.com/docs/manual/reference/bson-type-comparison-order */\nconst SORT_ORDER_BY_TYPE = {\n    null: 0,\n    undefined: 0,\n    number: 1,\n    string: 2,\n    object: 3,\n    array: 4,\n    boolean: 5,\n    date: 6,\n    regexp: 7,\n    function: 8\n};\n/**\n * Compare function which adheres to MongoDB comparison order.\n *\n * @param a The first value\n * @param b The second value\n * @returns {Number}\n */\nexport const compare = (a, b) => {\n    if (a === MISSING)\n        a = undefined;\n    if (b === MISSING)\n        b = undefined;\n    const [u, v] = [a, b].map(n => SORT_ORDER_BY_TYPE[getType(n).toLowerCase()]);\n    if (u !== v)\n        return u - v;\n    // number | string | date\n    if (u === 1 || u === 2 || u === 6) {\n        if (a < b)\n            return -1;\n        if (a > b)\n            return 1;\n        return 0;\n    }\n    // check for equivalence equality\n    if (isEqual(a, b))\n        return 0;\n    if (a < b)\n        return -1;\n    if (a > b)\n        return 1;\n    // if we get here we are comparing a type that does not make sense.\n    return 0;\n};\nexport function assert(condition, message) {\n    if (!condition)\n        throw new MingoError(message);\n}\nconst isTypedArray = (v) => {\n    const proto = Object.getPrototypeOf(getConstructor(v));\n    return proto && proto.name === \"TypedArray\";\n};\n/**\n * Deep clone an object. Value types and immutable objects are returned as is.\n */\nexport const cloneDeep = (obj) => {\n    if (IMMUTABLE_TYPES_SET.has(getConstructor(obj)))\n        return obj;\n    const cycle = new Set();\n    const clone = (val) => {\n        if (cycle.has(val))\n            throw CYCLE_FOUND_ERROR;\n        const ctor = getConstructor(val);\n        if (IMMUTABLE_TYPES_SET.has(ctor))\n            return val;\n        try {\n            // arrays\n            if (isArray(val)) {\n                cycle.add(val);\n                return val.map(clone);\n            }\n            // object literals\n            if (isObject(val)) {\n                cycle.add(val);\n                const res = {};\n                for (const k in val)\n                    res[k] = clone(val[k]);\n                return res;\n            }\n        }\n        finally {\n            cycle.delete(val);\n        }\n        // dates, regex, typed arrays\n        if (ctor === Date || ctor === RegExp || isTypedArray(val)) {\n            return new ctor(val);\n        }\n        return val;\n    };\n    return clone(obj);\n};\n/**\n * Returns the name of type as specified in the tag returned by a call to Object.prototype.toString\n * @param v A value\n */\nexport const getType = (v) => OBJECT_TYPE_RE.exec(Object.prototype.toString.call(v))[1];\nexport const isBoolean = (v) => typeof v === \"boolean\";\nexport const isString = (v) => typeof v === \"string\";\nexport const isSymbol = (v) => typeof v === \"symbol\";\nexport const isNumber = (v) => !isNaN(v) && typeof v === \"number\";\nexport const isBigInt = (v) => !isNaN(v) && typeof v === \"bigint\";\nexport const isNotNaN = (v) => !(isNaN(v) && typeof v === \"number\");\nexport const isArray = Array.isArray;\nexport const isObject = (v) => {\n    if (!v)\n        return false;\n    const proto = Object.getPrototypeOf(v);\n    return ((proto === OBJECT_PROTO || proto === null) &&\n        OBJECT_TAG === Object.prototype.toString.call(v));\n};\n//  objects, arrays, functions, date, custom object\nexport const isObjectLike = (v) => v === Object(v);\nexport const isDate = (v) => v instanceof Date;\nexport const isRegExp = (v) => v instanceof RegExp;\nexport const isFunction = (v) => typeof v === \"function\";\nexport const isNil = (v) => v === null || v === undefined;\nexport const inArray = (arr, item) => arr.includes(item);\nexport const notInArray = (arr, item) => !inArray(arr, item);\nexport const truthy = (arg, strict = true) => !!arg || (strict && arg === \"\");\nexport const isEmpty = (x) => isNil(x) ||\n    (isString(x) && !x) ||\n    (x instanceof Array && x.length === 0) ||\n    (isObject(x) && Object.keys(x).length === 0);\nexport const isMissing = (v) => v === MISSING;\n/** ensure a value is an array or wrapped within one. */\nexport const ensureArray = (x) => x instanceof Array ? x : [x];\nexport const has = (obj, prop) => !!obj && Object.prototype.hasOwnProperty.call(obj, prop);\nconst mergeable = (left, right) => (isObject(left) && isObject(right)) || (isArray(left) && isArray(right));\n/**\n * Deep merge objects or arrays.\n * When the inputs have unmergeable types, the  right hand value is returned.\n * If inputs are arrays and options.flatten is set, elements in the same position are merged together. Remaining elements are appended to the target object.\n * If options.flatten is false, the right hand value is just appended to the left-hand value.\n * @param target {Object|Array} the target to merge into\n * @param obj {Object|Array} the source object\n */\nexport function merge(target, obj, options) {\n    // default options\n    options = options || { flatten: false };\n    // take care of missing inputs\n    if (isMissing(target) || isNil(target))\n        return obj;\n    if (isMissing(obj) || isNil(obj))\n        return target;\n    // fail only on initial input.\n    if (!mergeable(target, obj)) {\n        if (options.skipValidation)\n            return obj || target;\n        throw Error(\"mismatched types. must both be array or object\");\n    }\n    // skip validation after initial input.\n    options.skipValidation = true;\n    if (isArray(target)) {\n        const result = target;\n        const input = obj;\n        if (options.flatten) {\n            let i = 0;\n            let j = 0;\n            while (i < result.length && j < input.length) {\n                result[i] = merge(result[i++], input[j++], options);\n            }\n            while (j < input.length) {\n                result.push(obj[j++]);\n            }\n        }\n        else {\n            into(result, input);\n        }\n    }\n    else {\n        for (const k in obj) {\n            target[k] = merge(target[k], obj[k], options);\n        }\n    }\n    return target;\n}\nfunction buildHashIndex(arr, hashFunction = DEFAULT_HASH_FUNCTION) {\n    const map = new Map();\n    arr.forEach((o, i) => {\n        const h = hashCode(o, hashFunction);\n        if (map.has(h)) {\n            if (!map.get(h).some(j => isEqual(arr[j], o))) {\n                map.get(h).push(i);\n            }\n        }\n        else {\n            map.set(h, [i]);\n        }\n    });\n    return map;\n}\n/**\n * Returns the intersection of multiple arrays.\n *\n * @param  {Array} input An array of arrays from which to find intersection.\n * @param  {Function} hashFunction Custom function to hash values, default the hashCode method\n * @return {Array} Array of intersecting values.\n */\nexport function intersection(input, hashFunction = DEFAULT_HASH_FUNCTION) {\n    // if any array is empty, there is no intersection\n    if (input.some(arr => arr.length == 0))\n        return [];\n    if (input.length === 1)\n        return Array.from(input);\n    // sort input arrays by to get smallest array\n    // const sorted = sortBy(input, (a: RawArray) => a.length) as RawArray[];\n    const sortedIndex = sortBy(input.map((a, i) => [i, a.length]), (a) => a[1]);\n    // get the smallest\n    const smallest = input[sortedIndex[0][0]];\n    // get hash index of smallest array\n    const map = buildHashIndex(smallest, hashFunction);\n    // hashIndex for remaining arrays.\n    const rmap = new Map();\n    // final intersection results and index of first occurrence.\n    const results = new Array();\n    map.forEach((v, k) => {\n        const lhs = v.map(j => smallest[j]);\n        const res = lhs.map(_ => 0);\n        // used to track first occurence of value in order of the original input array.\n        const stable = lhs.map(_ => [sortedIndex[0][0], 0]);\n        let found = false;\n        for (let i = 1; i < input.length; i++) {\n            const [currIndex, _] = sortedIndex[i];\n            const arr = input[currIndex];\n            if (!rmap.has(i))\n                rmap.set(i, buildHashIndex(arr));\n            // we found a match. let's confirm.\n            if (rmap.get(i).has(k)) {\n                const rhs = rmap\n                    .get(i)\n                    .get(k)\n                    .map(j => arr[j]);\n                // confirm the intersection with an equivalence check.\n                found = lhs\n                    .map((s, n) => rhs.some((t, m) => {\n                    // we expect only one to match here since these are just collisions.\n                    const p = res[n];\n                    if (isEqual(s, t)) {\n                        res[n]++;\n                        // track position of value ordering for stability.\n                        if (currIndex < stable[n][0]) {\n                            stable[n] = [currIndex, rmap.get(i).get(k)[m]];\n                        }\n                    }\n                    return p < res[n];\n                }))\n                    .some(Boolean);\n            }\n            // found nothing, so exclude value. this was just a hash collision.\n            if (!found)\n                return;\n        }\n        // extract value into result if we found an intersection.\n        // we find an intersection if the frequency counter matches the count of the remaining arrays.\n        if (found) {\n            into(results, res\n                .map((n, i) => {\n                return n === input.length - 1 ? [lhs[i], stable[i]] : MISSING;\n            })\n                .filter(n => n !== MISSING));\n        }\n    });\n    return results\n        .sort((a, b) => {\n        const [_i, [u, m]] = a;\n        const [_j, [v, n]] = b;\n        const r = compare(u, v);\n        if (r !== 0)\n            return r;\n        return compare(m, n);\n    })\n        .map(v => v[0]);\n}\n/**\n * Flatten the array\n *\n * @param {Array} xs The array to flatten\n * @param {Number} depth The number of nested lists to iterate\n */\nexport function flatten(xs, depth = 0) {\n    const arr = new Array();\n    function flatten2(ys, n) {\n        for (let i = 0, len = ys.length; i < len; i++) {\n            if (isArray(ys[i]) && (n > 0 || n < 0)) {\n                flatten2(ys[i], Math.max(-1, n - 1));\n            }\n            else {\n                arr.push(ys[i]);\n            }\n        }\n    }\n    flatten2(xs, depth);\n    return arr;\n}\n/** Returns all members of the value in an object literal. */\nconst getMembersOf = (value) => {\n    let [proto, names] = [\n        Object.getPrototypeOf(value),\n        Object.getOwnPropertyNames(value)\n    ];\n    // save effective prototype\n    let activeProto = proto;\n    // traverse the prototype hierarchy until we get property names or hit the bottom prototype.\n    while (!names.length && proto !== OBJECT_PROTO && proto !== ARRAY_PROTO) {\n        activeProto = proto;\n        names = Object.getOwnPropertyNames(proto);\n        proto = Object.getPrototypeOf(proto);\n    }\n    const o = {};\n    names.forEach(k => (o[k] = value[k]));\n    return [o, activeProto];\n};\n/**\n * Determine whether two values are the same or strictly equivalent.\n * Checking whether values are the same only applies to built in objects.\n * For user-defined objects this checks for only referential equality so\n * two different instances with the same values are not equal.\n *\n * @param  {*}  a The first value\n * @param  {*}  b The second value\n * @return {Boolean}   Result of comparison\n */\nexport function isEqual(a, b) {\n    const args = [[a, b]];\n    while (args.length > 0) {\n        [a, b] = args.pop();\n        // strictly equal must be equal. matches referentially equal values.\n        if (a === b)\n            continue;\n        // unequal types and functions (unless referentially equivalent) cannot be equal.\n        const ctor = getConstructor(a);\n        if (ctor !== getConstructor(b) || isFunction(a))\n            return false;\n        // string convertable types\n        if (STRING_CONVERTERS.has(ctor)) {\n            const str = STRING_CONVERTERS.get(ctor);\n            // eslint-disable-next-line @typescript-eslint/no-base-to-string\n            if (str(a) !== str(b))\n                return false;\n            // values are equal, so move next\n            continue;\n        }\n        // handle array and object types\n        if (ctor === Array || ctor === Object) {\n            const ka = Object.keys(a);\n            const kb = Object.keys(b);\n            if (ka.length !== kb.length)\n                return false;\n            if (new Set(ka.concat(kb)).size != ka.length)\n                return false;\n            for (const k of ka)\n                args.push([a[k], b[k]]);\n            // move next\n            continue;\n        }\n        // user-defined type detected.\n        // we don't try to compare user-defined types (even though we could...shhhh).\n        return false;\n    }\n    // nothing left to compare\n    return !args.length;\n}\n/**\n * Return a new unique version of the collection\n * @param  {Array} input The input collection\n * @return {Array}\n */\nexport function unique(input, hashFunction = DEFAULT_HASH_FUNCTION) {\n    const result = input.map(_ => MISSING);\n    buildHashIndex(input, hashFunction).forEach((v, _) => {\n        v.forEach(i => (result[i] = input[i]));\n    });\n    return result.filter(v => v !== MISSING);\n}\n/**\n * Encode value to string using a simple non-colliding stable scheme.\n * Handles user-defined types by processing keys on first non-empty prototype.\n * If a user-defined type provides a \"toJSON\" function, it is used.\n *\n * @param value The value to convert to a string representation.\n * @returns {String}\n */\nexport function stringify(value) {\n    const cycle = new Set();\n    // stringify with cycle check\n    const str = (v) => {\n        const ctor = getConstructor(v);\n        // string convertable types\n        if (STRING_CONVERTERS.has(ctor)) {\n            return STRING_CONVERTERS.get(ctor)(v);\n        }\n        const tag = ctor === Object ? \"\" : ctor.name;\n        // handle JSONable objects.\n        if (isFunction(v[\"toJSON\"])) {\n            return `${tag}(${JSON.stringify(v)})`;\n        }\n        // handle cycles\n        if (cycle.has(v))\n            throw CYCLE_FOUND_ERROR;\n        cycle.add(v);\n        try {\n            // handle array\n            if (ctor === Array) {\n                return \"[\" + v.map(str).join(\",\") + \"]\";\n            }\n            // handle user-defined object\n            if (ctor !== Object) {\n                // handle user-defined types or object literals.\n                const [members, _] = getMembersOf(v);\n                // custom type derived from array.\n                if (isArray(v)) {\n                    // include other members as part of array elements.\n                    return `${tag}${str([...v, members])}`;\n                }\n                // get members as literal\n                v = members;\n            }\n            const objKeys = Object.keys(v);\n            objKeys.sort();\n            return (`${tag}{` +\n                objKeys.map(k => `${k}:${str(v[k])}`).join(\",\") +\n                \"}\");\n        }\n        finally {\n            cycle.delete(v);\n        }\n    };\n    // convert to string\n    return str(value);\n}\n/**\n * Generate hash code\n * This selected function is the result of benchmarking various hash functions.\n * This version performs well and can hash 10^6 documents in ~3s with on average 100 collisions.\n *\n * @param value\n * @returns {number|null}\n */\nexport function hashCode(value, hashFunction) {\n    hashFunction = hashFunction || DEFAULT_HASH_FUNCTION;\n    if (isNil(value))\n        return null;\n    return hashFunction(value).toString();\n}\n/**\n * Returns a (stably) sorted copy of list, ranked in ascending order by the results of running each value through iteratee\n *\n * This implementation treats null/undefined sort keys as less than every other type\n *\n * @param {Array}   collection\n * @param {Function} keyFn The sort key function used to resolve sort keys\n * @param {Function} comparator The comparator function to use for comparing keys. Defaults to standard comparison via `compare(...)`\n * @return {Array} Returns a new sorted array by the given key and comparator function\n */\nexport function sortBy(collection, keyFn, comparator = compare) {\n    if (isEmpty(collection))\n        return collection;\n    const sorted = new Array();\n    const result = new Array();\n    for (let i = 0; i < collection.length; i++) {\n        const obj = collection[i];\n        const key = keyFn(obj, i);\n        if (isNil(key)) {\n            result.push(obj);\n        }\n        else {\n            sorted.push([key, obj]);\n        }\n    }\n    // use native array sorting but enforce stableness\n    sorted.sort((a, b) => comparator(a[0], b[0]));\n    return into(result, sorted.map((o) => o[1]));\n}\n/**\n * Groups the collection into sets by the returned key\n *\n * @param collection\n * @param keyFn {Function} to compute the group key of an item in the collection\n * @returns {GroupByOutput}\n */\nexport function groupBy(collection, keyFn, hashFunction = DEFAULT_HASH_FUNCTION) {\n    if (collection.length < 1)\n        return new Map();\n    // map of hash to collided values\n    const lookup = new Map();\n    // map of raw key values to objects.\n    const result = new Map();\n    for (let i = 0; i < collection.length; i++) {\n        const obj = collection[i];\n        const key = keyFn(obj, i);\n        const hash = hashCode(key, hashFunction);\n        if (hash === null) {\n            if (result.has(null)) {\n                result.get(null).push(obj);\n            }\n            else {\n                result.set(null, [obj]);\n            }\n        }\n        else {\n            // find if we can match a hash for which the value is equivalent.\n            // this is used to deal with collisions.\n            const existingKey = lookup.has(hash)\n                ? lookup.get(hash).find(k => isEqual(k, key))\n                : null;\n            // collision detected or first time seeing key\n            if (isNil(existingKey)) {\n                // collision detected or first entry so we create a new group.\n                result.set(key, [obj]);\n                // upload the lookup with the collided key\n                if (lookup.has(hash)) {\n                    lookup.get(hash).push(key);\n                }\n                else {\n                    lookup.set(hash, [key]);\n                }\n            }\n            else {\n                // key exists\n                result.get(existingKey).push(obj);\n            }\n        }\n    }\n    return result;\n}\n// max elements to push.\n// See argument limit https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply\nconst MAX_ARRAY_PUSH = 50000;\n/**\n * Merge elements into the dest\n *\n * @param {*} target The target object\n * @param {*} rest The array of elements to merge into dest\n */\nexport function into(target, ...rest) {\n    if (target instanceof Array) {\n        return rest.reduce(((acc, arr) => {\n            // push arrary in batches to handle large inputs\n            let i = Math.ceil(arr.length / MAX_ARRAY_PUSH);\n            let begin = 0;\n            while (i-- > 0) {\n                Array.prototype.push.apply(acc, arr.slice(begin, begin + MAX_ARRAY_PUSH));\n                begin += MAX_ARRAY_PUSH;\n            }\n            return acc;\n        }), target);\n    }\n    else {\n        // merge objects. same behaviour as Object.assign\n        return rest.filter(isObjectLike).reduce((acc, item) => {\n            Object.assign(acc, item);\n            return acc;\n        }, target);\n    }\n}\n/**\n * This is a generic memoization function\n *\n * This implementation uses a cache independent of the function being memoized\n * to allow old values to be garbage collected when the memoized function goes out of scope.\n *\n * @param {*} fn The function object to memoize\n */\nexport function memoize(fn, hashFunction = DEFAULT_HASH_FUNCTION) {\n    return ((memo) => {\n        return (...args) => {\n            const key = hashCode(args, hashFunction) || \"\";\n            if (!has(memo, key)) {\n                memo[key] = fn.apply(this, args);\n            }\n            return memo[key];\n        };\n    })({\n    /* storage */\n    });\n}\n// mingo internal\n/**\n * Retrieve the value of a given key on an object\n * @param obj\n * @param key\n * @returns {*}\n * @private\n */\nfunction getValue(obj, key) {\n    return isObjectLike(obj) ? obj[key] : undefined;\n}\n/**\n * Unwrap a single element array to specified depth\n * @param {Array} arr\n * @param {Number} depth\n */\nfunction unwrap(arr, depth) {\n    if (depth < 1)\n        return arr;\n    while (depth-- && arr.length === 1)\n        arr = arr[0];\n    return arr;\n}\n/**\n * Resolve the value of the field (dot separated) on the given object\n * @param obj {Object} the object context\n * @param selector {String} dot separated path to field\n * @returns {*}\n */\nexport function resolve(obj, selector, options) {\n    let depth = 0;\n    function resolve2(o, path) {\n        let value = o;\n        for (let i = 0; i < path.length; i++) {\n            const field = path[i];\n            const isText = /^\\d+$/.exec(field) === null;\n            // using instanceof to aid typescript compiler\n            if (isText && value instanceof Array) {\n                // On the first iteration, we check if we received a stop flag.\n                // If so, we stop to prevent iterating over a nested array value\n                // on consecutive object keys in the selector.\n                if (i === 0 && depth > 0)\n                    break;\n                depth += 1;\n                // only look at the rest of the path\n                const subpath = path.slice(i);\n                value = value.reduce((acc, item) => {\n                    const v = resolve2(item, subpath);\n                    if (v !== undefined)\n                        acc.push(v);\n                    return acc;\n                }, []);\n                break;\n            }\n            else {\n                value = getValue(value, field);\n            }\n            if (value === undefined)\n                break;\n        }\n        return value;\n    }\n    const result = JS_SIMPLE_TYPES.has(getType(obj).toLowerCase())\n        ? obj\n        : resolve2(obj, selector.split(\".\"));\n    return result instanceof Array && (options === null || options === void 0 ? void 0 : options.unwrapArray)\n        ? unwrap(result, depth)\n        : result;\n}\n/**\n * Returns the full object to the resolved value given by the selector.\n * This function excludes empty values as they aren't practically useful.\n *\n * @param obj {Object} the object context\n * @param selector {String} dot separated path to field\n */\nexport function resolveGraph(obj, selector, options) {\n    const names = selector.split(\".\");\n    const key = names[0];\n    // get the next part of the selector\n    const next = names.slice(1).join(\".\");\n    const isIndex = /^\\d+$/.exec(key) !== null;\n    const hasNext = names.length > 1;\n    let result;\n    let value;\n    if (obj instanceof Array) {\n        if (isIndex) {\n            result = getValue(obj, Number(key));\n            if (hasNext) {\n                result = resolveGraph(result, next, options);\n            }\n            result = [result];\n        }\n        else {\n            result = [];\n            for (const item of obj) {\n                value = resolveGraph(item, selector, options);\n                if (options === null || options === void 0 ? void 0 : options.preserveMissing) {\n                    if (value === undefined) {\n                        value = MISSING;\n                    }\n                    result.push(value);\n                }\n                else if (value !== undefined) {\n                    result.push(value);\n                }\n            }\n        }\n    }\n    else {\n        value = getValue(obj, key);\n        if (hasNext) {\n            value = resolveGraph(value, next, options);\n        }\n        if (value === undefined)\n            return undefined;\n        result = (options === null || options === void 0 ? void 0 : options.preserveKeys) ? Object.assign({}, obj) : {};\n        result[key] = value;\n    }\n    return result;\n}\n/**\n * Filter out all MISSING values from the object in-place\n *\n * @param obj The object to filter\n */\nexport function filterMissing(obj) {\n    if (obj instanceof Array) {\n        for (let i = obj.length - 1; i >= 0; i--) {\n            if (obj[i] === MISSING) {\n                obj.splice(i, 1);\n            }\n            else {\n                filterMissing(obj[i]);\n            }\n        }\n    }\n    else if (isObject(obj)) {\n        for (const k in obj) {\n            if (has(obj, k)) {\n                filterMissing(obj[k]);\n            }\n        }\n    }\n}\nconst NUMBER_RE = /^\\d+$/;\n/**\n * Walk the object graph and execute the given transform function\n *\n * @param  {Object|Array} obj   The object to traverse.\n * @param  {String} selector    The selector to navigate.\n * @param  {Callback} fn Callback to execute for value at the end the traversal.\n * @param  {WalkOptions} options The opetions to use for the function.\n * @return {*}\n */\nexport function walk(obj, selector, fn, options) {\n    const names = selector.split(\".\");\n    const key = names[0];\n    const next = names.slice(1).join(\".\");\n    if (names.length === 1) {\n        if (isObject(obj) || (isArray(obj) && NUMBER_RE.test(key))) {\n            fn(obj, key);\n        }\n    }\n    else {\n        // force the rest of the graph while traversing\n        if ((options === null || options === void 0 ? void 0 : options.buildGraph) && isNil(obj[key])) {\n            obj[key] = {};\n        }\n        // get the next item\n        const item = obj[key];\n        // nothing more to do\n        if (!item)\n            return;\n        // we peek to see if next key is an array index.\n        const isNextArrayIndex = !!(names.length > 1 && NUMBER_RE.test(names[1]));\n        // if we have an array value but the next key is not an index and the 'descendArray' option is set,\n        // we walk each item in the array separately. This allows for handling traversing keys for objects\n        // nested within an array.\n        //\n        // Eg: Given { array: [ {k:1}, {k:2}, {k:3} ] }\n        //  - individual objecs can be traversed with \"array.k\"\n        //  - a specific object can be traversed with \"array.1\"\n        if (item instanceof Array && (options === null || options === void 0 ? void 0 : options.descendArray) && !isNextArrayIndex) {\n            item.forEach(((e) => walk(e, next, fn, options)));\n        }\n        else {\n            walk(item, next, fn, options);\n        }\n    }\n}\n/**\n * Set the value of the given object field\n *\n * @param obj {Object|Array} the object context\n * @param selector {String} path to field\n * @param value {*} the value to set. if it is function, it is invoked with the old value and must return the new value.\n */\nexport function setValue(obj, selector, value) {\n    walk(obj, selector, ((item, key) => {\n        item[key] = isFunction(value) ? value(item[key]) : value;\n    }), { buildGraph: true });\n}\n/**\n * Removes an element from the container.\n * If the selector resolves to an array and the leaf is a non-numeric key,\n * the remove operation will be performed on objects of the array.\n *\n * @param obj {ArrayOrObject} object or array\n * @param selector {String} dot separated path to element to remove\n */\nexport function removeValue(obj, selector, options) {\n    walk(obj, selector, ((item, key) => {\n        if (item instanceof Array) {\n            if (/^\\d+$/.test(key)) {\n                item.splice(parseInt(key), 1);\n            }\n            else if (options && options.descendArray) {\n                for (const elem of item) {\n                    if (isObject(elem)) {\n                        delete elem[key];\n                    }\n                }\n            }\n        }\n        else if (isObject(item)) {\n            delete item[key];\n        }\n    }), options);\n}\nconst OPERATOR_NAME_PATTERN = /^\\$[a-zA-Z0-9_]+$/;\n/**\n * Check whether the given name passes for an operator. We assume AnyVal field name starting with '$' is an operator.\n * This is cheap and safe to do since keys beginning with '$' should be reserved for internal use.\n * @param {String} name\n */\nexport function isOperator(name) {\n    return OPERATOR_NAME_PATTERN.test(name);\n}\n/**\n * Simplify expression for easy evaluation with query operators map\n * @param expr\n * @returns {*}\n */\nexport function normalize(expr) {\n    // normalized primitives\n    if (JS_SIMPLE_TYPES.has(getType(expr).toLowerCase())) {\n        return isRegExp(expr) ? { $regex: expr } : { $eq: expr };\n    }\n    // normalize object expression. using ObjectLike handles custom types\n    if (isObjectLike(expr)) {\n        const exprObj = expr;\n        // no valid query operator found, so we do simple comparison\n        if (!Object.keys(exprObj).some(isOperator)) {\n            return { $eq: expr };\n        }\n        // ensure valid regex\n        if (has(expr, \"$regex\")) {\n            const newExpr = Object.assign({}, expr);\n            newExpr[\"$regex\"] = new RegExp(expr[\"$regex\"], expr[\"$options\"]);\n            delete newExpr[\"$options\"];\n            return newExpr;\n        }\n    }\n    return expr;\n}\n/**\n * Find the insert index for the given key in a sorted array.\n *\n * @param {*} sorted The sorted array to search\n * @param {*} item The search key\n */\nexport function findInsertIndex(sorted, item) {\n    // uses binary search\n    let lo = 0;\n    let hi = sorted.length - 1;\n    while (lo <= hi) {\n        const mid = Math.round(lo + (hi - lo) / 2);\n        if (compare(item, sorted[mid]) < 0) {\n            hi = mid - 1;\n        }\n        else if (compare(item, sorted[mid]) > 0) {\n            lo = mid + 1;\n        }\n        else {\n            return mid;\n        }\n    }\n    return lo;\n}\n","import { MingoError } from \"./types\";\nimport { assert, has, isArray, isFunction, isNil, isObject, isObjectLike, isOperator, isString, resolve } from \"./util\";\n/**\n * This controls how input and output documents are processed to meet different application needs.\n * Each mode has different trade offs for; immutability, reference sharing, and performance.\n */\nexport var ProcessingMode;\n(function (ProcessingMode) {\n    /**\n     * Clone inputs prior to processing, and the outputs if some objects graphs may be shared.\n     * Use this option to keep input collection immutable and to get distinct output objects.\n     *\n     * Note: This option is expensive and reduces performance.\n     */\n    ProcessingMode[\"CLONE_ALL\"] = \"CLONE_ALL\";\n    /**\n     * Clones inputs prior to processing.\n     * This option will return output objects with shared graphs in their path if specific operators are used.\n     * Use this option to keep the input collection immutable.\n     *\n     */\n    ProcessingMode[\"CLONE_INPUT\"] = \"CLONE_INPUT\";\n    /**\n     * Clones the output to return distinct objects with no shared paths.\n     * This option modifies the input collection and during processing.\n     */\n    ProcessingMode[\"CLONE_OUTPUT\"] = \"CLONE_OUTPUT\";\n    /**\n     * Turn off cloning and modifies the input collection as needed.\n     * This option will also return output objects with shared paths in their graph when specific operators are used.\n     * This option provides the greatest speedup for the biggest tradeoff.\n     * When using the aggregation pipeline, you can use the \"$out\" operator to collect immutable intermediate results.\n     *\n     * @default\n     */\n    ProcessingMode[\"CLONE_OFF\"] = \"CLONE_OFF\";\n})(ProcessingMode || (ProcessingMode = {}));\n/** Custom type to facilitate type checking for global options */\nexport class ComputeOptions {\n    constructor(_opts, \n    /** Reference to the root object when processing subgraphs of the object. */\n    _root, _local, \n    /** The current time in milliseconds. Remains the same throughout all stages of the aggregation pipeline. */\n    timestamp = Date.now()) {\n        this._opts = _opts;\n        this._root = _root;\n        this._local = _local;\n        this.timestamp = timestamp;\n        this.update(_root, _local);\n    }\n    /**\n     * Initialize new ComputeOptions.\n     *\n     * @param options\n     * @param root\n     * @param local\n     * @returns {ComputeOptions}\n     */\n    static init(options, root, local) {\n        return options instanceof ComputeOptions\n            ? new ComputeOptions(options._opts, isNil(options.root) ? root : options.root, Object.assign({}, options.local, local))\n            : new ComputeOptions(options, root, local);\n    }\n    /** Updates the internal mutable state. */\n    update(root, local) {\n        var _a;\n        // NOTE: this is done for efficiency to avoid creating too many intermediate options objects.\n        this._root = root;\n        this._local = local\n            ? Object.assign({}, local, {\n                variables: Object.assign({}, (_a = this._local) === null || _a === void 0 ? void 0 : _a.variables, local === null || local === void 0 ? void 0 : local.variables)\n            })\n            : local;\n        return this;\n    }\n    getOptions() {\n        return Object.freeze(Object.assign(Object.assign({}, this._opts), { context: Context.from(this._opts.context) }));\n    }\n    get root() {\n        return this._root;\n    }\n    get local() {\n        return this._local;\n    }\n    get idKey() {\n        return this._opts.idKey;\n    }\n    get collation() {\n        var _a;\n        return (_a = this._opts) === null || _a === void 0 ? void 0 : _a.collation;\n    }\n    get processingMode() {\n        var _a;\n        return ((_a = this._opts) === null || _a === void 0 ? void 0 : _a.processingMode) || ProcessingMode.CLONE_OFF;\n    }\n    get useStrictMode() {\n        var _a;\n        return (_a = this._opts) === null || _a === void 0 ? void 0 : _a.useStrictMode;\n    }\n    get scriptEnabled() {\n        var _a;\n        return (_a = this._opts) === null || _a === void 0 ? void 0 : _a.scriptEnabled;\n    }\n    get useGlobalContext() {\n        var _a;\n        return (_a = this._opts) === null || _a === void 0 ? void 0 : _a.useGlobalContext;\n    }\n    get hashFunction() {\n        var _a;\n        return (_a = this._opts) === null || _a === void 0 ? void 0 : _a.hashFunction;\n    }\n    get collectionResolver() {\n        var _a;\n        return (_a = this._opts) === null || _a === void 0 ? void 0 : _a.collectionResolver;\n    }\n    get jsonSchemaValidator() {\n        var _a;\n        return (_a = this._opts) === null || _a === void 0 ? void 0 : _a.jsonSchemaValidator;\n    }\n    get variables() {\n        var _a;\n        return (_a = this._opts) === null || _a === void 0 ? void 0 : _a.variables;\n    }\n    get context() {\n        var _a;\n        return (_a = this._opts) === null || _a === void 0 ? void 0 : _a.context;\n    }\n}\n/**\n * Creates an Option from another where required keys are initialized.\n * @param options Options\n */\nexport function initOptions(options) {\n    return options instanceof ComputeOptions\n        ? options.getOptions()\n        : Object.freeze(Object.assign(Object.assign({ idKey: \"_id\", scriptEnabled: true, useStrictMode: true, useGlobalContext: true, processingMode: ProcessingMode.CLONE_OFF }, options), { context: (options === null || options === void 0 ? void 0 : options.context)\n                ? Context.from(options === null || options === void 0 ? void 0 : options.context)\n                : Context.init({}) }));\n}\n/**\n * The different groups of operators\n */\nexport var OperatorType;\n(function (OperatorType) {\n    OperatorType[\"ACCUMULATOR\"] = \"accumulator\";\n    OperatorType[\"EXPRESSION\"] = \"expression\";\n    OperatorType[\"PIPELINE\"] = \"pipeline\";\n    OperatorType[\"PROJECTION\"] = \"projection\";\n    OperatorType[\"QUERY\"] = \"query\";\n    OperatorType[\"WINDOW\"] = \"window\";\n})(OperatorType || (OperatorType = {}));\nexport class Context {\n    constructor(ops) {\n        this.operators = {\n            [OperatorType.ACCUMULATOR]: {},\n            [OperatorType.EXPRESSION]: {},\n            [OperatorType.PIPELINE]: {},\n            [OperatorType.PROJECTION]: {},\n            [OperatorType.QUERY]: {},\n            [OperatorType.WINDOW]: {}\n        };\n        for (const [type, operators] of Object.entries(ops)) {\n            this.addOperators(type, operators);\n        }\n    }\n    static init(ops = {}) {\n        return new Context(ops);\n    }\n    static from(ctx) {\n        return new Context(ctx.operators);\n    }\n    addOperators(type, ops) {\n        for (const [name, fn] of Object.entries(ops)) {\n            if (!this.getOperator(type, name)) {\n                this.operators[type][name] = fn;\n            }\n        }\n        return this;\n    }\n    // register\n    addAccumulatorOps(ops) {\n        return this.addOperators(OperatorType.ACCUMULATOR, ops);\n    }\n    addExpressionOps(ops) {\n        return this.addOperators(OperatorType.EXPRESSION, ops);\n    }\n    addQueryOps(ops) {\n        return this.addOperators(OperatorType.QUERY, ops);\n    }\n    addPipelineOps(ops) {\n        return this.addOperators(OperatorType.PIPELINE, ops);\n    }\n    addProjectionOps(ops) {\n        return this.addOperators(OperatorType.PROJECTION, ops);\n    }\n    addWindowOps(ops) {\n        return this.addOperators(OperatorType.WINDOW, ops);\n    }\n    // getters\n    getOperator(type, name) {\n        return type in this.operators ? this.operators[type][name] || null : null;\n    }\n}\n// global context\nconst GLOBAL_CONTEXT = Context.init();\n/**\n * Register fully specified operators for the given operator class.\n *\n * @param type The operator type\n * @param operators Map of the operators\n */\nexport function useOperators(type, operators) {\n    for (const [name, fn] of Object.entries(operators)) {\n        assert(isFunction(fn) && isOperator(name), `'${name}' is not a valid operator`);\n        const currentFn = getOperator(type, name, null);\n        assert(!currentFn || fn === currentFn, `${name} already exists for '${type}' operators. Cannot change operator function once registered.`);\n    }\n    // toss the operator salad :)\n    switch (type) {\n        case OperatorType.ACCUMULATOR:\n            GLOBAL_CONTEXT.addAccumulatorOps(operators);\n            break;\n        case OperatorType.EXPRESSION:\n            GLOBAL_CONTEXT.addExpressionOps(operators);\n            break;\n        case OperatorType.PIPELINE:\n            GLOBAL_CONTEXT.addPipelineOps(operators);\n            break;\n        case OperatorType.PROJECTION:\n            GLOBAL_CONTEXT.addProjectionOps(operators);\n            break;\n        case OperatorType.QUERY:\n            GLOBAL_CONTEXT.addQueryOps(operators);\n            break;\n        case OperatorType.WINDOW:\n            GLOBAL_CONTEXT.addWindowOps(operators);\n            break;\n    }\n}\n/**\n * Overrides the current global context with this new one.\n *\n * @param context The new context to override the global one with.\n */\n// export const setGlobalContext = (context: Context): void => {\n//   GLOBAL_CONTEXT = context;\n// };\n/**\n * Returns the operator function or undefined if it is not found\n * @param type Type of operator\n * @param operator Name of the operator\n */\nexport function getOperator(type, operator, options) {\n    const { context: ctx, useGlobalContext: fallback } = options || {};\n    const fn = ctx ? ctx.getOperator(type, operator) : null;\n    return !fn && fallback ? GLOBAL_CONTEXT.getOperator(type, operator) : fn;\n}\n/* eslint-disable unused-imports/no-unused-vars-ts */\n/**\n * Implementation of system variables\n * @type {Object}\n */\nconst systemVariables = {\n    $$ROOT(_obj, _expr, options) {\n        return options.root;\n    },\n    $$CURRENT(obj, _expr, _options) {\n        return obj;\n    },\n    $$REMOVE(_obj, _expr, _options) {\n        return undefined;\n    },\n    $$NOW(_obj, _expr, options) {\n        return new Date(options.timestamp);\n    }\n};\n/**\n * Implementation of $redact variables\n *\n * Each function accepts 3 arguments (obj, expr, options)\n *\n * @type {Object}\n */\nconst redactVariables = {\n    $$KEEP(obj, _expr, _options) {\n        return obj;\n    },\n    $$PRUNE(_obj, _expr, _options) {\n        return undefined;\n    },\n    $$DESCEND(obj, expr, options) {\n        // traverse nested documents iff there is a $cond\n        if (!has(expr, \"$cond\"))\n            return obj;\n        let result;\n        for (const [key, current] of Object.entries(obj)) {\n            if (isObjectLike(current)) {\n                if (current instanceof Array) {\n                    const array = [];\n                    for (let elem of current) {\n                        if (isObject(elem)) {\n                            elem = redact(elem, expr, options.update(elem));\n                        }\n                        if (!isNil(elem)) {\n                            array.push(elem);\n                        }\n                    }\n                    result = array;\n                }\n                else {\n                    result = redact(current, expr, options.update(current));\n                }\n                if (isNil(result)) {\n                    delete obj[key]; // pruned result\n                }\n                else {\n                    obj[key] = result;\n                }\n            }\n        }\n        return obj;\n    }\n};\n/* eslint-enable unused-imports/no-unused-vars-ts */\n/**\n * Computes the value of the expression on the object for the given operator\n *\n * @param obj the current object from the collection\n * @param expr the expression for the given field\n * @param operator the operator to resolve the field with\n * @param options {Object} extra options\n * @returns {*}\n */\nexport function computeValue(obj, expr, operator, options) {\n    var _a;\n    // ensure valid options exist on first invocation\n    const copts = ComputeOptions.init(options, obj);\n    operator = operator || \"\";\n    if (isOperator(operator)) {\n        // if the field of the object is a valid operator\n        const callExpression = getOperator(OperatorType.EXPRESSION, operator, options);\n        if (callExpression)\n            return callExpression(obj, expr, copts);\n        // we also handle $group accumulator operators\n        const callAccumulator = getOperator(OperatorType.ACCUMULATOR, operator, options);\n        if (callAccumulator) {\n            // if object is not an array, first try to compute using the expression\n            if (!(obj instanceof Array)) {\n                obj = computeValue(obj, expr, null, copts);\n                expr = null;\n            }\n            // validate that we have an array\n            assert(obj instanceof Array, `'${operator}' target must be an array.`);\n            // for accumulators, we use the global options since the root is specific to each element within array.\n            return callAccumulator(obj, expr, \n            // reset the root object for accumulators.\n            copts.update(null, copts.local));\n        }\n        // operator was not found\n        throw new MingoError(`operator '${operator}' is not registered`);\n    }\n    // if expr is a string and begins with \"$$\", then we have a variable.\n    //  this can be one of; redact variable, system variable, user-defined variable.\n    //  we check and process them in that order.\n    //\n    // if expr begins only a single \"$\", then it is a path to a field on the object.\n    if (isString(expr) && expr.length > 0 && expr[0] === \"$\") {\n        // we return redact variables as literals\n        if (has(redactVariables, expr)) {\n            return expr;\n        }\n        // default to root for resolving path.\n        let context = copts.root;\n        // handle selectors with explicit prefix\n        const arr = expr.split(\".\");\n        if (has(systemVariables, arr[0])) {\n            // set 'root' only the first time it is required to be used for all subsequent calls\n            // if it already available on the options, it will be used\n            context = systemVariables[arr[0]](obj, null, copts);\n            expr = expr.slice(arr[0].length + 1); //  +1 for '.'\n        }\n        else if (arr[0].slice(0, 2) === \"$$\") {\n            // handle user-defined variables\n            context = Object.assign({}, copts.variables, // global vars\n            // current item is added before local variables because the binding may be changed.\n            { this: obj }, (_a = copts.local) === null || _a === void 0 ? void 0 : _a.variables // local vars\n            );\n            const prefix = arr[0].slice(2);\n            assert(has(context, prefix), `Use of undefined variable: ${prefix}`);\n            expr = expr.slice(2);\n        }\n        else {\n            // 'expr' is a path to a field on the object.\n            expr = expr.slice(1);\n        }\n        if (expr === \"\")\n            return context;\n        return resolve(context, expr);\n    }\n    // check and return value if already in a resolved state\n    if (isArray(expr)) {\n        return expr.map((item) => computeValue(obj, item, null, copts));\n    }\n    else if (isObject(expr)) {\n        const result = {};\n        for (const [key, val] of Object.entries(expr)) {\n            result[key] = computeValue(obj, val, key, copts);\n            // must run ONLY one aggregate operator per expression\n            // if so, return result of the computed value\n            if ([OperatorType.EXPRESSION, OperatorType.ACCUMULATOR].some(t => !!getOperator(t, key, options))) {\n                // there should be only one operator\n                assert(Object.keys(expr).length === 1, \"Invalid aggregation expression '\" + JSON.stringify(expr) + \"'\");\n                return result[key];\n            }\n        }\n        return result;\n    }\n    return expr;\n}\n/**\n * Redact an object\n * @param  {Object} obj The object to redact\n * @param  {*} expr The redact expression\n * @param  {*} options  Options for value\n * @return {*} returns the result of the redacted object\n */\nexport function redact(obj, expr, options) {\n    const result = computeValue(obj, expr, null, options);\n    return has(redactVariables, result)\n        ? redactVariables[result](obj, expr, options)\n        : result;\n}\n","import { MingoError } from \"./types\";\n/**\n * Returns an iterator\n * @param {*} source An iterable source (Array, Function, Generator, or Iterator)\n */\nexport function Lazy(source) {\n    return source instanceof Iterator ? source : new Iterator(source);\n}\nexport function compose(...iterators) {\n    let index = 0;\n    return Lazy(() => {\n        while (index < iterators.length) {\n            const o = iterators[index].next();\n            if (!o.done)\n                return o;\n            index++;\n        }\n        return { done: true };\n    });\n}\n/**\n * Checks whether the given object is compatible with a generator i.e Object{next:Function}\n * @param {*} o An object\n */\nfunction isGenerator(o) {\n    return (!!o && typeof o === \"object\" && (o === null || o === void 0 ? void 0 : o.next) instanceof Function);\n}\nfunction dropItem(array, i) {\n    const rest = array.slice(i + 1);\n    array.splice(i);\n    Array.prototype.push.apply(array, rest);\n}\n// stop iteration error\nconst DONE = new Error();\n// Lazy function actions\nvar Action;\n(function (Action) {\n    Action[Action[\"MAP\"] = 0] = \"MAP\";\n    Action[Action[\"FILTER\"] = 1] = \"FILTER\";\n    Action[Action[\"TAKE\"] = 2] = \"TAKE\";\n    Action[Action[\"DROP\"] = 3] = \"DROP\";\n})(Action || (Action = {}));\nfunction createCallback(nextFn, iteratees, buffer) {\n    let done = false;\n    let index = -1;\n    let bufferIndex = 0; // index for the buffer\n    return function (storeResult) {\n        // special hack to collect all values into buffer\n        try {\n            outer: while (!done) {\n                let o = nextFn();\n                index++;\n                let i = -1;\n                const size = iteratees.length;\n                let innerDone = false;\n                while (++i < size) {\n                    const r = iteratees[i];\n                    switch (r.action) {\n                        case Action.MAP:\n                            o = r.func(o, index);\n                            break;\n                        case Action.FILTER:\n                            if (!r.func(o, index))\n                                continue outer;\n                            break;\n                        case Action.TAKE:\n                            --r.count;\n                            if (!r.count)\n                                innerDone = true;\n                            break;\n                        case Action.DROP:\n                            --r.count;\n                            if (!r.count)\n                                dropItem(iteratees, i);\n                            continue outer;\n                        default:\n                            break outer;\n                    }\n                }\n                done = innerDone;\n                if (storeResult) {\n                    buffer[bufferIndex++] = o;\n                }\n                else {\n                    return { value: o, done: false };\n                }\n            }\n        }\n        catch (e) {\n            if (e !== DONE)\n                throw e;\n        }\n        done = true;\n        return { done };\n    };\n}\n/**\n * A lazy collection iterator yields a single value at a time upon request.\n */\nexport class Iterator {\n    /**\n     * @param {*} source An iterable object or function.\n     *    Array - return one element per cycle\n     *    Object{next:Function} - call next() for the next value (this also handles generator functions)\n     *    Function - call to return the next value\n     * @param {Function} fn An optional transformation function\n     */\n    constructor(source) {\n        this.iteratees = [];\n        this.yieldedValues = [];\n        this.isDone = false;\n        let nextVal;\n        if (source instanceof Function) {\n            // make iterable\n            source = { next: source };\n        }\n        if (isGenerator(source)) {\n            const src = source;\n            nextVal = () => {\n                const o = src.next();\n                if (o.done)\n                    throw DONE;\n                return o.value;\n            };\n        }\n        else if (source instanceof Array) {\n            const data = source;\n            const size = data.length;\n            let index = 0;\n            nextVal = () => {\n                if (index < size)\n                    return data[index++];\n                throw DONE;\n            };\n        }\n        else if (!(source instanceof Function)) {\n            throw new MingoError(`Lazy must be initialized with an array, generator, or function.`);\n        }\n        // create next function\n        this.getNext = createCallback(nextVal, this.iteratees, this.yieldedValues);\n    }\n    /**\n     * Add an iteratee to this lazy sequence\n     */\n    push(action, value) {\n        if (typeof value === \"function\") {\n            this.iteratees.push({ action, func: value });\n        }\n        else if (typeof value === \"number\") {\n            this.iteratees.push({ action, count: value });\n        }\n        return this;\n    }\n    next() {\n        return this.getNext();\n    }\n    // Iteratees methods\n    /**\n     * Transform each item in the sequence to a new value\n     * @param {Function} f\n     */\n    map(f) {\n        return this.push(Action.MAP, f);\n    }\n    /**\n     * Select only items matching the given predicate\n     * @param {Function} pred\n     */\n    filter(predicate) {\n        return this.push(Action.FILTER, predicate);\n    }\n    /**\n     * Take given numbe for values from sequence\n     * @param {Number} n A number greater than 0\n     */\n    take(n) {\n        return n > 0 ? this.push(Action.TAKE, n) : this;\n    }\n    /**\n     * Drop a number of values from the sequence\n     * @param {Number} n Number of items to drop greater than 0\n     */\n    drop(n) {\n        return n > 0 ? this.push(Action.DROP, n) : this;\n    }\n    // Transformations\n    /**\n     * Returns a new lazy object with results of the transformation\n     * The entire sequence is realized.\n     *\n     * @param {Callback<Source, RawArray>} fn Tranform function of type (Array) => (Any)\n     */\n    transform(fn) {\n        const self = this;\n        let iter;\n        return Lazy(() => {\n            if (!iter) {\n                iter = Lazy(fn(self.value()));\n            }\n            return iter.next();\n        });\n    }\n    // Terminal methods\n    /**\n     * Returns the fully realized values of the iterators.\n     * The return value will be an array unless `lazy.first()` was used.\n     * The realized values are cached for subsequent calls.\n     */\n    value() {\n        if (!this.isDone) {\n            this.isDone = this.getNext(true).done;\n        }\n        return this.yieldedValues;\n    }\n    /**\n     * Execute the funcion for each value. Will stop when an execution returns false.\n     * @param {Function} f\n     * @returns {Boolean} false iff `f` return false for AnyVal execution, otherwise true\n     */\n    each(f) {\n        for (;;) {\n            const o = this.next();\n            if (o.done)\n                break;\n            if (f(o.value) === false)\n                return false;\n        }\n        return true;\n    }\n    /**\n     * Returns the reduction of sequence according the reducing function\n     *\n     * @param {*} f a reducing function\n     * @param {*} initialValue\n     */\n    reduce(f, initialValue) {\n        let o = this.next();\n        if (initialValue === undefined && !o.done) {\n            initialValue = o.value;\n            o = this.next();\n        }\n        while (!o.done) {\n            initialValue = f(initialValue, o.value);\n            o = this.next();\n        }\n        return initialValue;\n    }\n    /**\n     * Returns the number of matched items in the sequence\n     */\n    size() {\n        return this.reduce(((acc, _) => ++acc), 0);\n    }\n    [Symbol.iterator]() {\n        /* eslint-disable @typescript-eslint/no-unsafe-return */\n        return this;\n    }\n}\n","import { getOperator, initOptions, OperatorType, ProcessingMode } from \"./core\";\nimport { Lazy } from \"./lazy\";\nimport { assert, cloneDeep, intersection, isEmpty } from \"./util\";\n/**\n * Provides functionality for the mongoDB aggregation pipeline\n *\n * @param pipeline an Array of pipeline operators\n * @param options An optional Options to pass the aggregator\n * @constructor\n */\nexport class Aggregator {\n    constructor(pipeline, options) {\n        this.pipeline = pipeline;\n        this.options = initOptions(options);\n    }\n    /**\n     * Returns an `Lazy` iterator for processing results of pipeline\n     *\n     * @param {*} collection An array or iterator object\n     * @returns {Iterator} an iterator object\n     */\n    stream(collection) {\n        let iterator = Lazy(collection);\n        const mode = this.options.processingMode;\n        if (mode == ProcessingMode.CLONE_ALL ||\n            mode == ProcessingMode.CLONE_INPUT) {\n            iterator.map(cloneDeep);\n        }\n        const pipelineOperators = new Array();\n        if (!isEmpty(this.pipeline)) {\n            // run aggregation pipeline\n            for (const operator of this.pipeline) {\n                const operatorKeys = Object.keys(operator);\n                const opName = operatorKeys[0];\n                const call = getOperator(OperatorType.PIPELINE, opName, this.options);\n                assert(operatorKeys.length === 1 && !!call, `invalid pipeline operator ${opName}`);\n                pipelineOperators.push(opName);\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                iterator = call(iterator, operator[opName], this.options);\n            }\n        }\n        // operators that may share object graphs of inputs.\n        // we only need to clone the output for these since the objects will already be distinct for other operators.\n        if (mode == ProcessingMode.CLONE_OUTPUT ||\n            (mode == ProcessingMode.CLONE_ALL &&\n                !!intersection([[\"$group\", \"$unwind\"], pipelineOperators]).length)) {\n            iterator.map(cloneDeep);\n        }\n        return iterator;\n    }\n    /**\n     * Return the results of the aggregation as an array.\n     *\n     * @param {*} collection\n     * @param {*} query\n     */\n    run(collection) {\n        return this.stream(collection).value();\n    }\n}\n","import { Aggregator } from \"./aggregator\";\nimport { compose, Lazy } from \"./lazy\";\nimport { isObject } from \"./util\";\n/**\n * Cursor to iterate and perform filtering on matched objects.\n * This object must not be used directly. A cursor may be obtaine from calling `find()` on an instance of `Query`.\n *\n * @param collection The input source of the collection\n * @param predicate A predicate function to test documents\n * @param projection A projection criteria\n * @param options Options\n * @constructor\n */\nexport class Cursor {\n    constructor(source, predicate, projection, options) {\n        this.source = source;\n        this.predicate = predicate;\n        this.projection = projection;\n        this.options = options;\n        this.operators = [];\n        this.result = null;\n        this.buffer = [];\n    }\n    /** Returns the iterator from running the query */\n    fetch() {\n        if (this.result)\n            return this.result;\n        // add projection operator\n        if (isObject(this.projection)) {\n            this.operators.push({ $project: this.projection });\n        }\n        // filter collection\n        this.result = Lazy(this.source).filter(this.predicate);\n        if (this.operators.length > 0) {\n            this.result = new Aggregator(this.operators, this.options).stream(this.result);\n        }\n        return this.result;\n    }\n    /** Returns an iterator with the buffered data included */\n    fetchAll() {\n        const buffered = Lazy([...this.buffer]);\n        this.buffer = [];\n        return compose(buffered, this.fetch());\n    }\n    /**\n     * Return remaining objects in the cursor as an array. This method exhausts the cursor\n     * @returns {Array}\n     */\n    all() {\n        return this.fetchAll().value();\n    }\n    /**\n     * Returns the number of objects return in the cursor. This method exhausts the cursor\n     * @returns {Number}\n     */\n    count() {\n        return this.all().length;\n    }\n    /**\n     * Returns a cursor that begins returning results only after passing or skipping a number of documents.\n     * @param {Number} n the number of results to skip.\n     * @return {Cursor} Returns the cursor, so you can chain this call.\n     */\n    skip(n) {\n        this.operators.push({ $skip: n });\n        return this;\n    }\n    /**\n     * Constrains the size of a cursor's result set.\n     * @param {Number} n the number of results to limit to.\n     * @return {Cursor} Returns the cursor, so you can chain this call.\n     */\n    limit(n) {\n        this.operators.push({ $limit: n });\n        return this;\n    }\n    /**\n     * Returns results ordered according to a sort specification.\n     * @param {Object} modifier an object of key and values specifying the sort order. 1 for ascending and -1 for descending\n     * @return {Cursor} Returns the cursor, so you can chain this call.\n     */\n    sort(modifier) {\n        this.operators.push({ $sort: modifier });\n        return this;\n    }\n    /**\n     * Specifies the collation for the cursor returned by the `mingo.Query.find`\n     * @param {*} spec\n     */\n    collation(spec) {\n        this.options = Object.assign(Object.assign({}, this.options), { collation: spec });\n        return this;\n    }\n    /**\n     * Returns the next document in a cursor.\n     * @returns {Object | Boolean}\n     */\n    next() {\n        // yield value obtains in hasNext()\n        if (this.buffer.length > 0) {\n            return this.buffer.pop();\n        }\n        const o = this.fetch().next();\n        if (o.done)\n            return;\n        return o.value;\n    }\n    /**\n     * Returns true if the cursor has documents and can be iterated.\n     * @returns {boolean}\n     */\n    hasNext() {\n        // there is a value in the buffer\n        if (this.buffer.length > 0)\n            return true;\n        const o = this.fetch().next();\n        if (o.done)\n            return false;\n        this.buffer.push(o.value);\n        return true;\n    }\n    /**\n     * Applies a function to each document in a cursor and collects the return values in an array.\n     * @param fn\n     * @returns {Array}\n     */\n    map(fn) {\n        return this.all().map(fn);\n    }\n    /**\n     * Applies a JavaScript function for every document in a cursor.\n     * @param fn\n     */\n    forEach(fn) {\n        this.all().forEach(fn);\n    }\n    [Symbol.iterator]() {\n        return this.fetchAll();\n    }\n}\n","import { getOperator, initOptions, OperatorType } from \"./core\";\nimport { Cursor } from \"./cursor\";\nimport { MingoError } from \"./types\";\nimport { assert, inArray, isObject, isOperator, normalize } from \"./util\";\n/**\n * An object used to filter input documents\n *\n * @param {Object} condition The condition for constructing predicates\n * @param {Options} options Options for use by operators\n * @constructor\n */\nexport class Query {\n    constructor(condition, options) {\n        this.condition = condition;\n        this.options = initOptions(options);\n        this.compiled = [];\n        this.compile();\n    }\n    compile() {\n        assert(isObject(this.condition), `query criteria must be an object: ${JSON.stringify(this.condition)}`);\n        const whereOperator = {};\n        for (const [field, expr] of Object.entries(this.condition)) {\n            if (\"$where\" === field) {\n                Object.assign(whereOperator, { field: field, expr: expr });\n            }\n            else if (inArray([\"$and\", \"$or\", \"$nor\", \"$expr\", \"$jsonSchema\"], field)) {\n                this.processOperator(field, field, expr);\n            }\n            else {\n                // normalize expression\n                assert(!isOperator(field), `unknown top level operator: ${field}`);\n                for (const [operator, val] of Object.entries(normalize(expr))) {\n                    this.processOperator(field, operator, val);\n                }\n            }\n            if (whereOperator.field) {\n                this.processOperator(whereOperator.field, whereOperator.field, whereOperator.expr);\n            }\n        }\n    }\n    processOperator(field, operator, value) {\n        const call = getOperator(OperatorType.QUERY, operator, this.options);\n        if (!call) {\n            throw new MingoError(`unknown query operator ${operator}`);\n        }\n        const fn = call(field, value, this.options);\n        this.compiled.push(fn);\n    }\n    /**\n     * Checks if the object passes the query criteria. Returns true if so, false otherwise.\n     *\n     * @param obj The object to test\n     * @returns {boolean} True or false\n     */\n    test(obj) {\n        for (let i = 0, len = this.compiled.length; i < len; i++) {\n            if (!this.compiled[i](obj)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Returns a cursor to select matching documents from the input source.\n     *\n     * @param source A source providing a sequence of documents\n     * @param projection An optional projection criteria\n     * @returns {Cursor} A Cursor for iterating over the results\n     */\n    find(collection, projection) {\n        return new Cursor(collection, ((x) => this.test(x)), projection || {}, this.options);\n    }\n    /**\n     * Remove matched documents from the collection returning the remainder\n     *\n     * @param collection An array of documents\n     * @returns {Array} A new array with matching elements removed\n     */\n    remove(collection) {\n        return collection.reduce((acc, obj) => {\n            if (!this.test(obj))\n                acc.push(obj);\n            return acc;\n        }, []);\n    }\n}\n","import { MingoError } from \"../../types\";\nimport { groupBy, isEqual } from \"../../util\";\nimport { $push } from \"../accumulator\";\nimport { MILLIS_PER_DAY } from \"../expression/date/_internal\";\nimport { isUnbounded } from \"../pipeline/_internal\";\n// millis map to diffirent time units\nexport const MILLIS_PER_UNIT = {\n    week: MILLIS_PER_DAY * 7,\n    day: MILLIS_PER_DAY,\n    hour: MILLIS_PER_DAY / 24,\n    minute: 60000,\n    second: 1000,\n    millisecond: 1\n};\n// internal cache to store precomputed series once to avoid O(N^2) calls to over the collection\nconst memo = new WeakMap();\n/**\n * Caches all computed values in a window sequence for reuse.\n * This is only useful for operations with unbounded documents.\n */\nexport function withMemo(collection, expr, cacheFn, fn) {\n    // no caching done for bounded inputs\n    if (!isUnbounded(expr.parentExpr.output[expr.field].window)) {\n        return fn(cacheFn());\n    }\n    // first time using collection\n    if (!memo.has(collection)) {\n        memo.set(collection, { [expr.field]: cacheFn() });\n    }\n    const data = memo.get(collection);\n    // subsequent computations over the same collection.\n    if (data[expr.field] === undefined) {\n        data[expr.field] = cacheFn();\n    }\n    let failed = false;\n    try {\n        return fn(data[expr.field]);\n    }\n    catch (e) {\n        failed = true;\n    }\n    finally {\n        // cleanup on failure or last element in collection.\n        if (failed || expr.documentNumber === collection.length) {\n            delete data[expr.field];\n            if (Object.keys(data).length === 0)\n                memo.delete(collection);\n        }\n    }\n}\n/** Returns the position of a document in the $setWindowFields stage partition. */\nexport function rank(_, collection, expr, options, dense) {\n    return withMemo(collection, expr, () => {\n        const sortKey = \"$\" + Object.keys(expr.parentExpr.sortBy)[0];\n        const values = $push(collection, sortKey, options);\n        const groups = groupBy(values, ((_, n) => values[n]), options.hashFunction);\n        return { values, groups };\n    }, input => {\n        const { values, groups: partitions } = input;\n        // same number of paritions as length means all sort keys are unique\n        if (partitions.size == collection.length) {\n            return expr.documentNumber;\n        }\n        const current = values[expr.documentNumber - 1];\n        let i = 0;\n        let offset = 0;\n        // partition keys are already dense so just return the value on match\n        for (const key of partitions.keys()) {\n            if (isEqual(current, key)) {\n                return dense ? i + 1 : offset + 1;\n            }\n            i++;\n            offset += partitions.get(key).length;\n        }\n        // should be unreachable\n        throw new MingoError(\"rank: invalid return value. please submit a bug report.\");\n    });\n}\n","import { ComputeOptions, computeValue } from \"../../core\";\nimport { assert, groupBy, has } from \"../../util\";\n// lookup key for grouping\nconst ID_KEY = \"_id\";\n/**\n * Groups documents together for the purpose of calculating aggregate values based on a collection of documents.\n *\n * @param collection\n * @param expr\n * @param options\n * @returns {Array}\n */\nexport const $group = (collection, expr, options) => {\n    assert(has(expr, ID_KEY), \"a group specification must include an _id\");\n    const idExpr = expr[ID_KEY];\n    const copts = ComputeOptions.init(options);\n    return collection.transform(((coll) => {\n        const partitions = groupBy(coll, obj => computeValue(obj, idExpr, null, options), options.hashFunction);\n        // remove the group key\n        expr = Object.assign({}, expr);\n        delete expr[ID_KEY];\n        let i = -1;\n        const partitionKeys = Array.from(partitions.keys());\n        const size = partitions.size;\n        return () => {\n            if (++i === size)\n                return { done: true };\n            const groupId = partitionKeys[i];\n            const obj = {};\n            // exclude undefined key value\n            if (groupId !== undefined) {\n                obj[ID_KEY] = groupId;\n            }\n            // compute remaining keys in expression\n            for (const [key, val] of Object.entries(expr)) {\n                obj[key] = computeValue(partitions.get(groupId), val, key, copts.update(null, { groupId }));\n            }\n            return { value: obj, done: false };\n        };\n    }));\n};\n","import { compare, groupBy, into, isEmpty, isObject, isString, resolve } from \"../../util\";\n/**\n * Takes all input documents and returns them in a stream of sorted documents.\n *\n * @param collection\n * @param sortKeys\n * @param  {Object} options\n * @returns {*}\n */\nexport const $sort = (collection, sortKeys, options) => {\n    if (isEmpty(sortKeys) || !isObject(sortKeys))\n        return collection;\n    let cmp = compare;\n    // check for collation spec on the options\n    const collationSpec = options.collation;\n    // use collation comparator if provided\n    if (isObject(collationSpec) && isString(collationSpec.locale)) {\n        cmp = collationComparator(collationSpec);\n    }\n    return collection.transform((coll) => {\n        const modifiers = Object.keys(sortKeys);\n        for (const key of modifiers.reverse()) {\n            const groups = groupBy(coll, (obj) => resolve(obj, key), options.hashFunction);\n            const sortedKeys = Array.from(groups.keys()).sort(cmp);\n            if (sortKeys[key] === -1)\n                sortedKeys.reverse();\n            // reuse collection so the data is available for the next iteration of the sort modifiers.\n            coll = [];\n            sortedKeys.reduce((acc, key) => into(acc, groups.get(key)), coll);\n        }\n        return coll;\n    });\n};\n// MongoDB collation strength to JS localeCompare sensitivity mapping.\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare\nconst COLLATION_STRENGTH = {\n    // Only strings that differ in base letters compare as unequal. Examples: a  b, a = , a = A.\n    1: \"base\",\n    //  Only strings that differ in base letters or accents and other diacritic marks compare as unequal.\n    // Examples: a  b, a  , a = A.\n    2: \"accent\",\n    // Strings that differ in base letters, accents and other diacritic marks, or case compare as unequal.\n    // Other differences may also be taken into consideration. Examples: a  b, a  , a  A\n    3: \"variant\"\n    // case - Only strings that differ in base letters or case compare as unequal. Examples: a  b, a = , a  A.\n};\n/**\n * Creates a comparator function for the given collation spec. See https://docs.mongodb.com/manual/reference/collation/\n *\n * @param spec {Object} The MongoDB collation spec.\n * {\n *   locale: string,\n *   caseLevel: boolean,\n *   caseFirst: string,\n *   strength: int,\n *   numericOrdering: boolean,\n *   alternate: string,\n *   maxVariable: never, // unsupported\n *   backwards: never // unsupported\n * }\n */\nfunction collationComparator(spec) {\n    const localeOpt = {\n        sensitivity: COLLATION_STRENGTH[spec.strength || 3],\n        caseFirst: spec.caseFirst === \"off\" ? \"false\" : spec.caseFirst || \"false\",\n        numeric: spec.numericOrdering || false,\n        ignorePunctuation: spec.alternate === \"shifted\"\n    };\n    // when caseLevel is true for strength  1:base and 2:accent, bump sensitivity to the nearest that supports case comparison\n    if ((spec.caseLevel || false) === true) {\n        if (localeOpt.sensitivity === \"base\")\n            localeOpt.sensitivity = \"case\";\n        if (localeOpt.sensitivity === \"accent\")\n            localeOpt.sensitivity = \"variant\";\n    }\n    const collator = new Intl.Collator(spec.locale, localeOpt);\n    return (a, b) => {\n        // non strings\n        if (!isString(a) || !isString(b))\n            return compare(a, b);\n        // only for strings\n        const i = collator.compare(a, b);\n        if (i < 0)\n            return -1;\n        if (i > 0)\n            return 1;\n        return 0;\n    };\n}\n","// $setWindowFields -  https://docs.mongodb.com/manual/reference/operator/aggregation/setWindowFields/\nimport { getOperator, initOptions, OperatorType } from \"../../core\";\nimport { compose, Lazy } from \"../../lazy\";\nimport { assert, isNumber, isOperator, isString } from \"../../util\";\nimport { $function } from \"../expression/custom/function\";\nimport { $dateAdd } from \"../expression/date/dateAdd\";\nimport { isUnbounded } from \"./_internal\";\nimport { $addFields } from \"./addFields\";\nimport { $group } from \"./group\";\nimport { $sort } from \"./sort\";\n// Operators that require 'sortBy' option.\nconst SORT_REQUIRED_OPS = new Set([\n    \"$denseRank\",\n    \"$documentNumber\",\n    \"$first\",\n    \"$last\",\n    \"$linearFill\",\n    \"$rank\",\n    \"$shift\"\n]);\n// Operators that require unbounded 'window' option.\nconst WINDOW_UNBOUNDED_OPS = new Set([\n    \"$denseRank\",\n    \"$expMovingAvg\",\n    \"$linearFill\",\n    \"$locf\",\n    \"$rank\",\n    \"$shift\"\n]);\n/**\n * Randomly selects the specified number of documents from its input. The given iterator must have finite values\n *\n * @param  {Iterator} collection\n * @param  {Object} expr\n * @param  {Options} options\n * @return {*}\n */\nexport const $setWindowFields = (collection, expr, options) => {\n    options = initOptions(options);\n    options.context.addExpressionOps({ $function });\n    // validate inputs early since this can be an expensive operation.\n    for (const outputExpr of Object.values(expr.output)) {\n        const keys = Object.keys(outputExpr);\n        const op = keys.find(isOperator);\n        assert(!!getOperator(OperatorType.WINDOW, op, options) ||\n            !!getOperator(OperatorType.ACCUMULATOR, op, options), `'${op}' is not a valid window operator`);\n        assert(keys.length > 0 &&\n            keys.length <= 2 &&\n            (keys.length == 1 || keys.includes(\"window\")), \"'output' option should have a single window operator.\");\n        if (outputExpr === null || outputExpr === void 0 ? void 0 : outputExpr.window) {\n            const { documents, range } = outputExpr.window;\n            assert((!!documents && !range) ||\n                (!documents && !!range) ||\n                (!documents && !range), \"'window' option supports only one of 'documents' or 'range'.\");\n        }\n    }\n    // we sort first if required\n    if (expr.sortBy) {\n        collection = $sort(collection, expr.sortBy, options);\n    }\n    // then partition collection\n    collection = $group(collection, {\n        _id: expr.partitionBy,\n        items: { $push: \"$$CURRENT\" }\n    }, options);\n    // transform values\n    return collection.transform(((partitions) => {\n        // let iteratorIndex = 0;\n        const iterators = [];\n        const outputConfig = [];\n        for (const [field, outputExpr] of Object.entries(expr.output)) {\n            const op = Object.keys(outputExpr).find(isOperator);\n            const config = {\n                operatorName: op,\n                func: {\n                    left: getOperator(OperatorType.ACCUMULATOR, op, options),\n                    right: getOperator(OperatorType.WINDOW, op, options)\n                },\n                args: outputExpr[op],\n                field: field,\n                window: outputExpr.window\n            };\n            // sortBy option required for specific operators or bounded window.\n            assert(!!expr.sortBy || !(SORT_REQUIRED_OPS.has(op) || !config.window), `${SORT_REQUIRED_OPS.has(op) ? `'${op}'` : \"bounded window operation\"} requires a sortBy.`);\n            // window must be unbounded for specific operators.\n            assert(!config.window || !WINDOW_UNBOUNDED_OPS.has(op), `${op} does not accept a 'window' field.`);\n            outputConfig.push(config);\n        }\n        // each parition maintains its own closure to process the documents in the window.\n        partitions.forEach(((group) => {\n            // get the items to process\n            const items = group.items;\n            // create an iterator per group.\n            // we need the index of each document so we track it using a special field.\n            let iterator = Lazy(items);\n            // results map\n            const windowResultMap = {};\n            for (const config of outputConfig) {\n                const { func, args, field, window } = config;\n                const makeResultFunc = (getItemsFn) => {\n                    // closure for object index within the partition\n                    let index = -1;\n                    return (obj) => {\n                        ++index;\n                        // process accumulator function\n                        if (func.left) {\n                            return func.left(getItemsFn(obj, index), args, options);\n                        }\n                        else if (func.right) {\n                            // OR process 'window' function\n                            return func.right(obj, getItemsFn(obj, index), {\n                                parentExpr: expr,\n                                inputExpr: args,\n                                documentNumber: index + 1,\n                                field\n                            }, \n                            // must use raw options only since it operates over a collection.\n                            options);\n                        }\n                    };\n                };\n                if (window) {\n                    const { documents, range, unit } = window;\n                    // TODO: fix the meaning of numeric values in range.\n                    //  See definition: https://www.mongodb.com/docs/manual/reference/operator/aggregation/setWindowFields/#std-label-setWindowFields-range\n                    //  - A number to add to the value of the sortBy field for the current document.\n                    //  - A document is in the window if the sortBy field value is inclusively within the lower and upper boundaries.\n                    // TODO: Need to reconcile the two above statments from the doc to implement 'range' option correctly.\n                    const boundary = documents || range;\n                    if (!isUnbounded(window)) {\n                        const [begin, end] = boundary;\n                        const toBeginIndex = (currentIndex) => {\n                            if (begin == \"current\")\n                                return currentIndex;\n                            if (begin == \"unbounded\")\n                                return 0;\n                            return Math.max(begin + currentIndex, 0);\n                        };\n                        const toEndIndex = (currentIndex) => {\n                            if (end == \"current\")\n                                return currentIndex + 1;\n                            if (end == \"unbounded\")\n                                return items.length;\n                            return end + currentIndex + 1;\n                        };\n                        const getItems = (current, index) => {\n                            // handle string boundaries or documents\n                            if (!!documents || boundary.every(isString)) {\n                                return items.slice(toBeginIndex(index), toEndIndex(index));\n                            }\n                            // handle range with numeric boundary values\n                            const sortKey = Object.keys(expr.sortBy)[0];\n                            let lower;\n                            let upper;\n                            if (unit) {\n                                // we are dealing with datetimes\n                                const getTime = (amount) => {\n                                    return $dateAdd(current, {\n                                        startDate: new Date(current[sortKey]),\n                                        unit,\n                                        amount\n                                    }, options).getTime();\n                                };\n                                lower = isNumber(begin) ? getTime(begin) : -Infinity;\n                                upper = isNumber(end) ? getTime(end) : Infinity;\n                            }\n                            else {\n                                const currentValue = current[sortKey];\n                                lower = isNumber(begin) ? currentValue + begin : -Infinity;\n                                upper = isNumber(end) ? currentValue + end : Infinity;\n                            }\n                            let array = items;\n                            if (begin == \"current\")\n                                array = items.slice(index);\n                            if (end == \"current\")\n                                array = items.slice(0, index + 1);\n                            // look within the boundary and filter down\n                            return array.filter((o) => {\n                                const n = +o[sortKey];\n                                return n >= lower && n <= upper;\n                            });\n                        };\n                        windowResultMap[field] = makeResultFunc(getItems);\n                    }\n                }\n                // default action is to utilize the entire set of items\n                if (!windowResultMap[field]) {\n                    windowResultMap[field] = makeResultFunc(_ => items);\n                }\n                // invoke add fields to get the desired behaviour using a custom function.\n                iterator = $addFields(iterator, {\n                    [field]: {\n                        $function: {\n                            body: (obj) => windowResultMap[field](obj),\n                            args: [\"$$CURRENT\"]\n                        }\n                    }\n                }, options);\n            }\n            // add to iterator list\n            iterators.push(iterator);\n        }));\n        return compose(...iterators);\n    }));\n};\n","/**\n * Predicates used for Query and Expression operators.\n */\nimport { computeValue } from \"../core\";\nimport { Query } from \"../query\";\nimport { MingoError } from \"../types\";\nimport { compare as mingoCmp, ensureArray, flatten, getType, inArray, intersection, isArray, isBoolean, isDate, isEmpty, isEqual, isNil, isNumber, isObject, isOperator, isRegExp, isString, MAX_INT, MAX_LONG, MIN_INT, MIN_LONG, resolve, truthy } from \"../util\";\n/**\n * Returns a query operator created from the predicate\n *\n * @param predicate Predicate function\n */\nexport function createQueryOperator(predicate) {\n    const f = (selector, value, options) => {\n        const opts = { unwrapArray: true };\n        const depth = Math.max(1, selector.split(\".\").length - 1);\n        return (obj) => {\n            // value of field must be fully resolved.\n            const lhs = resolve(obj, selector, opts);\n            return predicate(lhs, value, Object.assign(Object.assign({}, options), { depth }));\n        };\n    };\n    f.op = \"query\";\n    return f; // as QueryOperator;\n}\n/**\n * Returns an expression operator created from the predicate\n *\n * @param predicate Predicate function\n */\nexport function createExpressionOperator(predicate) {\n    return (obj, expr, options) => {\n        const args = computeValue(obj, expr, null, options);\n        return predicate(...args);\n    };\n}\n/**\n * Checks that two values are equal.\n *\n * @param a         The lhs operand as resolved from the object by the given selector\n * @param b         The rhs operand provided by the user\n * @returns {*}\n */\nexport function $eq(a, b, options) {\n    // start with simple equality check\n    if (isEqual(a, b))\n        return true;\n    // https://docs.mongodb.com/manual/tutorial/query-for-null-fields/\n    if (isNil(a) && isNil(b))\n        return true;\n    // check\n    if (a instanceof Array) {\n        const eq = isEqual.bind(null, b);\n        return a.some(eq) || flatten(a, options === null || options === void 0 ? void 0 : options.depth).some(eq);\n    }\n    return false;\n}\n/**\n * Matches all values that are not equal to the value specified in the query.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nexport function $ne(a, b, options) {\n    return !$eq(a, b, options);\n}\n/**\n * Matches any of the values that exist in an array specified in the query.\n *\n * @param a\n * @param b\n * @returns {*}\n */\nexport function $in(a, b, options) {\n    // queries for null should be able to find undefined fields\n    if (isNil(a))\n        return b.some(v => v === null);\n    return intersection([ensureArray(a), b], options === null || options === void 0 ? void 0 : options.hashFunction).length > 0;\n}\n/**\n * Matches values that do not exist in an array specified to the query.\n *\n * @param a\n * @param b\n * @returns {*|boolean}\n */\nexport function $nin(a, b, options) {\n    return !$in(a, b, options);\n}\n/**\n * Matches values that are less than the value specified in the query.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nexport function $lt(a, b, _options) {\n    return compare(a, b, (x, y) => mingoCmp(x, y) < 0);\n}\n/**\n * Matches values that are less than or equal to the value specified in the query.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nexport function $lte(a, b, _options) {\n    return compare(a, b, (x, y) => mingoCmp(x, y) <= 0);\n}\n/**\n * Matches values that are greater than the value specified in the query.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nexport function $gt(a, b, _options) {\n    return compare(a, b, (x, y) => mingoCmp(x, y) > 0);\n}\n/**\n * Matches values that are greater than or equal to the value specified in the query.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nexport function $gte(a, b, _options) {\n    return compare(a, b, (x, y) => mingoCmp(x, y) >= 0);\n}\n/**\n * Performs a modulo operation on the value of a field and selects documents with a specified result.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nexport function $mod(a, b, _options) {\n    return ensureArray(a).some(((x) => b.length === 2 && x % b[0] === b[1]));\n}\n/**\n * Selects documents where values match a specified regular expression.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nexport function $regex(a, b, options) {\n    const lhs = ensureArray(a);\n    const match = (x) => isString(x) && truthy(b.exec(x), options === null || options === void 0 ? void 0 : options.useStrictMode);\n    return lhs.some(match) || flatten(lhs, 1).some(match);\n}\n/**\n * Matches documents that have the specified field.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nexport function $exists(a, b, _options) {\n    return (((b === false || b === 0) && a === undefined) ||\n        ((b === true || b === 1) && a !== undefined));\n}\n/**\n * Matches arrays that contain all elements specified in the query.\n *\n * @param values\n * @param queries\n * @returns boolean\n */\nexport function $all(values, queries, options) {\n    if (!isArray(values) ||\n        !isArray(queries) ||\n        !values.length ||\n        !queries.length) {\n        return false;\n    }\n    let matched = true;\n    for (const query of queries) {\n        // no need to check all the queries.\n        if (!matched)\n            break;\n        if (isObject(query) && inArray(Object.keys(query), \"$elemMatch\")) {\n            matched = $elemMatch(values, query[\"$elemMatch\"], options);\n        }\n        else if (query instanceof RegExp) {\n            matched = values.some(s => typeof s === \"string\" && query.test(s));\n        }\n        else {\n            matched = values.some(v => isEqual(query, v));\n        }\n    }\n    return matched;\n}\n/**\n * Selects documents if the array field is a specified size.\n *\n * @param a\n * @param b\n * @returns {*|boolean}\n */\nexport function $size(a, b, _options) {\n    return Array.isArray(a) && a.length === b;\n}\nfunction isNonBooleanOperator(name) {\n    return isOperator(name) && [\"$and\", \"$or\", \"$nor\"].indexOf(name) === -1;\n}\n/**\n * Selects documents if element in the array field matches all the specified $elemMatch condition.\n *\n * @param a {Array} element to match against\n * @param b {Object} subquery\n */\nexport function $elemMatch(a, b, options) {\n    // should return false for non-matching input\n    if (isArray(a) && !isEmpty(a)) {\n        let format = (x) => x;\n        let criteria = b;\n        // If we find a boolean operator in the subquery, we fake a field to point to it. This is an\n        // attempt to ensure that it is a valid criteria. We cannot make this substitution for operators\n        // like $and/$or/$nor; as otherwise, this faking will break our query.\n        if (Object.keys(b).every(isNonBooleanOperator)) {\n            criteria = { temp: b };\n            format = x => ({ temp: x });\n        }\n        const query = new Query(criteria, options);\n        for (let i = 0, len = a.length; i < len; i++) {\n            if (query.test(format(a[i]))) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n// helper functions\nconst isNull = (a) => a === null;\nconst isInt = (a) => isNumber(a) &&\n    a >= MIN_INT &&\n    a <= MAX_INT &&\n    a.toString().indexOf(\".\") === -1;\nconst isLong = (a) => isNumber(a) &&\n    a >= MIN_LONG &&\n    a <= MAX_LONG &&\n    a.toString().indexOf(\".\") === -1;\n/** Mapping of type to predicate */\nconst compareFuncs = {\n    array: isArray,\n    bool: isBoolean,\n    boolean: isBoolean,\n    date: isDate,\n    decimal: isNumber,\n    double: isNumber,\n    int: isInt,\n    long: isLong,\n    number: isNumber,\n    null: isNull,\n    object: isObject,\n    regex: isRegExp,\n    regexp: isRegExp,\n    string: isString,\n    // added for completeness\n    undefined: isNil, // deprecated\n    function: (_) => {\n        throw new MingoError(\"unsupported type key `function`.\");\n    },\n    // Mongo identifiers\n    1: isNumber, //double\n    2: isString,\n    3: isObject,\n    4: isArray,\n    6: isNil, // deprecated\n    8: isBoolean,\n    9: isDate,\n    10: isNull,\n    11: isRegExp,\n    16: isInt,\n    18: isLong,\n    19: isNumber //decimal\n};\n/**\n * Selects documents if a field is of the specified type.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nfunction compareType(a, b, _) {\n    const f = compareFuncs[b];\n    return f ? f(a) : false;\n}\n/**\n * Selects documents if a field is of the specified type.\n *\n * @param a\n * @param b\n * @returns {boolean}\n */\nexport function $type(a, b, options) {\n    return Array.isArray(b)\n        ? b.findIndex(t => compareType(a, t, options)) >= 0\n        : compareType(a, b, options);\n}\nfunction compare(a, b, f) {\n    return ensureArray(a).some(x => getType(x) === getType(b) && f(x, b));\n}\n","// Array Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#array-expression-operators\nimport { $nin as __nin, createExpressionOperator } from \"../../_predicates\";\n/**\n * Returns a boolean indicating whether a specified value is not an array.\n * Note: This expression operator is missing from the documentation\n *\n * @param {Object} obj\n * @param {Array} expr\n */\nexport const $nin = createExpressionOperator(__nin);\n","import { computeValue } from \"../../../core\";\nimport { assert, isArray, isNil, isNumber } from \"../../../util\";\nexport const bitwise = (op, compute) => (obj, expr, options) => {\n    assert(isArray(expr), `${op}: expression must be an array.`);\n    const nums = computeValue(obj, expr, null, options);\n    if (nums.some(isNil))\n        return null;\n    assert(nums.every(isNumber), `${op}: expression must evalue to array of numbers.`);\n    return compute(nums);\n};\n","// Bitwise Operators: https://www.mongodb.com/docs/manual/reference/operator/aggregation/bitAnd/#mongodb-expression-exp\nimport { bitwise } from \"./_internal\";\n/**\n * Returns the result of a bitwise and operation on an array of int or long values.\n *\n * @param obj RawObject from collection\n * @param expr Right hand side expression of operator\n * @returns {Number}\n */\nexport const $bitAnd = bitwise(\"$bitAnd\", nums => nums.reduce((a, b) => a & b, -1));\n","// Bitwise Operators: https://www.mongodb.com/docs/manual/reference/operator/aggregation/bitOr/#mongodb-expression-exp\nimport { bitwise } from \"./_internal\";\n/**\n * Returns the result of a bitwise or operation on an array of int or long values.\n *\n * @param obj RawObject from collection\n * @param expr Right hand side expression of operator\n * @returns {Number}\n */\nexport const $bitOr = bitwise(\"$bitOr\", nums => nums.reduce((a, b) => a | b, 0));\n","// Bitwise Operators: https://www.mongodb.com/docs/manual/reference/operator/aggregation/bitNot/#mongodb-expression-exp\nimport { bitwise } from \"./_internal\";\n/**\n * Returns the result of a bitwise xor (exclusive or) operation on an array of int and long values.\n *\n * @param obj RawObject from collection\n * @param expr Right hand side expression of operator\n * @returns {Number}\n */\nexport const $bitXor = bitwise(\"$bitXor\", nums => nums.reduce((a, b) => a ^ b, 0));\n","// Comparison Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#comparison-expression-operators\nimport { $eq as __eq, createExpressionOperator } from \"../../_predicates\";\n/**\n * Matches values that are equal to a specified value.\n */\nexport const $eq = createExpressionOperator(__eq);\n","// Comparison Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#comparison-expression-operators\nimport { $gt as __gt, createExpressionOperator } from \"../../_predicates\";\n/**\n * Matches values that are greater than a specified value.\n */\nexport const $gt = createExpressionOperator(__gt);\n","// Comparison Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#comparison-expression-operators\nimport { $gte as __gte, createExpressionOperator } from \"../../_predicates\";\n/**\n * \tMatches values that are greater than or equal to a specified value.\n */\nexport const $gte = createExpressionOperator(__gte);\n","// Comparison Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#comparison-expression-operators\nimport { $lt as __lt, createExpressionOperator } from \"../../_predicates\";\n/**\n * Matches values that are less than the value specified in the query.\n */\nexport const $lt = createExpressionOperator(__lt);\n","// Comparison Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#comparison-expression-operators\nimport { $lte as __lte, createExpressionOperator } from \"../../_predicates\";\n/**\n * Matches values that are less than or equal to the value specified in the query.\n */\nexport const $lte = createExpressionOperator(__lte);\n","// Comparison Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#comparison-expression-operators\nimport { $ne as __ne, createExpressionOperator } from \"../../_predicates\";\n/**\n * Matches all values that are not equal to the value specified in the query.\n */\nexport const $ne = createExpressionOperator(__ne);\n","// Date Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#date-expression-operators\nimport { computeValue } from \"../../../core\";\nimport { DATE_PART_INTERVAL, isLeapYear, MINUTES_PER_HOUR, parseTimezone } from \"./_internal\";\nconst DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nconst getDaysInMonth = (date) => {\n    return date.month == 2 && isLeapYear(date.year)\n        ? 29\n        : DAYS_IN_MONTH[date.month - 1];\n};\n/**\n * Constructs and returns a Date object given the dates constituent properties.\n *\n * @param obj The document\n * @param expr The date expression\n * @param options Options\n */\nexport const $dateFromParts = (obj, expr, options) => {\n    const args = computeValue(obj, expr, null, options);\n    const minuteOffset = parseTimezone(args.timezone);\n    // assign default and adjust value ranges of the different parts\n    for (let i = DATE_PART_INTERVAL.length - 1, remainder = 0; i >= 0; i--) {\n        const datePartInterval = DATE_PART_INTERVAL[i];\n        const k = datePartInterval[0];\n        const min = datePartInterval[1];\n        const max = datePartInterval[2];\n        // add remainder from previous part. units should already be correct\n        let part = (args[k] || 0) + remainder;\n        // reset remainder now that it's been used.\n        remainder = 0;\n        // 1. compute the remainder for the next part\n        // 2. adjust the current part to a valid range\n        // 3. assign back to 'args'\n        const limit = max + 1;\n        // invert timezone to adjust the hours to UTC\n        if (k == \"hour\")\n            part += Math.floor(minuteOffset / MINUTES_PER_HOUR) * -1;\n        if (k == \"minute\")\n            part += (minuteOffset % MINUTES_PER_HOUR) * -1;\n        // smaller than lower bound\n        if (part < min) {\n            const delta = min - part;\n            remainder = -1 * Math.ceil(delta / limit);\n            part = limit - (delta % limit);\n        }\n        else if (part > max) {\n            // offset with the 'min' value to adjust non-zero date parts correctly\n            part += min;\n            remainder = Math.trunc(part / limit);\n            part %= limit;\n        }\n        // reassign\n        args[k] = part;\n    }\n    // adjust end of month to correctly handle overflows\n    args.day = Math.min(args.day, getDaysInMonth(args));\n    return new Date(Date.UTC(args.year, args.month - 1, args.day, args.hour, args.minute, args.second, args.millisecond));\n};\n","// Date Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#date-expression-operators\nimport { computeValue } from \"../../../core\";\nimport { assert, isNil, isObject } from \"../../../util\";\nimport { adjustDate, DATE_FORMAT, DATE_SYM_TABLE, MINUTES_PER_HOUR, parseTimezone, regexQuote, regexStrip } from \"./_internal\";\nconst buildMap = (letters, sign) => {\n    const h = {};\n    letters.split(\"\").forEach((v, i) => (h[v] = sign * (i + 1)));\n    return h;\n};\nconst TZ_LETTER_OFFSETS = Object.assign(Object.assign(Object.assign({}, buildMap(\"ABCDEFGHIKLM\", 1)), buildMap(\"NOPQRSTUVWXY\", -1)), { Z: 0 });\n/**\n * Converts a date/time string to a date object.\n * @param obj\n * @param expr\n */\nexport const $dateFromString = (obj, expr, options) => {\n    const args = computeValue(obj, expr, null, options);\n    args.format = args.format || DATE_FORMAT;\n    args.onNull = args.onNull || null;\n    let dateString = args.dateString;\n    if (isNil(dateString))\n        return args.onNull;\n    // collect all separators of the format string\n    const separators = args.format.split(/%[YGmdHMSLuVzZ]/);\n    separators.reverse();\n    const matches = args.format.match(/(%%|%Y|%G|%m|%d|%H|%M|%S|%L|%u|%V|%z|%Z)/g);\n    const dateParts = {};\n    // holds the valid regex of parts that matches input date string\n    let expectedPattern = \"\";\n    for (let i = 0, len = matches.length; i < len; i++) {\n        const formatSpecifier = matches[i];\n        const props = DATE_SYM_TABLE[formatSpecifier];\n        if (isObject(props)) {\n            // get pattern and alias from table\n            const m = props.re.exec(dateString);\n            // get the next separtor\n            const delimiter = separators.pop() || \"\";\n            if (m !== null) {\n                // store and cut out matched part\n                dateParts[props.name] = /^\\d+$/.exec(m[0]) ? parseInt(m[0]) : m[0];\n                dateString =\n                    dateString.substr(0, m.index) +\n                        dateString.substr(m.index + m[0].length);\n                // construct expected pattern\n                expectedPattern +=\n                    regexQuote(delimiter) + regexStrip(props.re.toString());\n            }\n            else {\n                dateParts[props.name] = null;\n            }\n        }\n    }\n    // 1. validate all required date parts exists\n    // 2. validate original dateString against expected pattern.\n    if (isNil(dateParts.year) ||\n        isNil(dateParts.month) ||\n        isNil(dateParts.day) ||\n        !new RegExp(\"^\" + expectedPattern + \"[A-Z]?$\").exec(args.dateString)) {\n        return args.onError;\n    }\n    const m = args.dateString.match(/([A-Z])$/);\n    assert(\n    // only one of in-date timeone or timezone argument but not both.\n    !(m && args.timezone), `$dateFromString: you cannot pass in a date/time string with time zone information ('${m && m[0]}') together with a timezone argument`);\n    const minuteOffset = m\n        ? TZ_LETTER_OFFSETS[m[0]] * MINUTES_PER_HOUR\n        : parseTimezone(args.timezone);\n    // create the date. month is 0-based in Date\n    const d = new Date(Date.UTC(dateParts.year, dateParts.month - 1, dateParts.day, 0, 0, 0));\n    if (!isNil(dateParts.hour))\n        d.setUTCHours(dateParts.hour);\n    if (!isNil(dateParts.minute))\n        d.setUTCMinutes(dateParts.minute);\n    if (!isNil(dateParts.second))\n        d.setUTCSeconds(dateParts.second);\n    if (!isNil(dateParts.millisecond))\n        d.setUTCMilliseconds(dateParts.millisecond);\n    // adjust to the correct represention for UTC\n    adjustDate(d, -minuteOffset);\n    return d;\n};\n","/**\n * String Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#string-expression-operators\n */\nimport { computeValue } from \"../../../core\";\nimport { assert, isNumber, isString } from \"../../../util\";\nconst UTF8_MASK = [0xc0, 0xe0, 0xf0];\n// encodes a unicode code point to a utf8 byte sequence\n// https://encoding.spec.whatwg.org/#utf-8\nfunction toUtf8(n) {\n    if (n < 0x80)\n        return [n];\n    let count = (n < 0x0800 && 1) || (n < 0x10000 && 2) || 3;\n    const offset = UTF8_MASK[count - 1];\n    const utf8 = [(n >> (6 * count)) + offset];\n    while (count > 0)\n        utf8.push(0x80 | ((n >> (6 * --count)) & 0x3f));\n    return utf8;\n}\nfunction utf8Encode(s) {\n    const buf = [];\n    for (let i = 0, len = s.length; i < len; i++) {\n        buf.push(toUtf8(s.codePointAt(i)));\n    }\n    return buf;\n}\n/**\n * Returns a substring of a string, starting at a specified index position and including the specified number of characters.\n * The index is zero-based.\n *\n * @param obj\n * @param expr\n * @returns {string}\n */\nexport const $substrBytes = (obj, expr, options) => {\n    const args = computeValue(obj, expr, null, options);\n    const s = args[0];\n    const index = args[1];\n    const count = args[2];\n    assert(isString(s) &&\n        isNumber(index) &&\n        index >= 0 &&\n        isNumber(count) &&\n        count >= 0, \"$substrBytes: invalid arguments\");\n    const buf = utf8Encode(s);\n    const validIndex = [];\n    let acc = 0;\n    for (let i = 0; i < buf.length; i++) {\n        validIndex.push(acc);\n        acc += buf[i].length;\n    }\n    const begin = validIndex.indexOf(index);\n    const end = validIndex.indexOf(index + count);\n    assert(begin > -1 && end > -1, \"$substrBytes: invalid range, start or end index is a UTF-8 continuation byte.\");\n    return s.substring(begin, end);\n};\n","// Trignometry Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#trigonometry-expression-operators\nimport { computeValue } from \"../../../core\";\nimport { MingoError } from \"../../../types\";\nconst FIXED_POINTS = {\n    undefined: null,\n    null: null,\n    NaN: NaN,\n    Infinity: new Error(),\n    \"-Infinity\": new Error()\n};\n/**\n * Returns an operator for a given trignometric function\n *\n * @param f The trignometric function\n */\nexport function createTrignometryOperator(f, fixedPoints = FIXED_POINTS) {\n    const fp = Object.assign({}, FIXED_POINTS, fixedPoints);\n    const keySet = new Set(Object.keys(fp));\n    return (obj, expr, options) => {\n        const n = computeValue(obj, expr, null, options);\n        if (keySet.has(`${n}`)) {\n            const res = fp[`${n}`];\n            if (res instanceof Error) {\n                throw new MingoError(`cannot apply $${f.name} to -inf, value must in (-inf,inf)`);\n            }\n            return res;\n        }\n        return f(n);\n    };\n}\n","// Trignometry Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#trigonometry-expression-operators\nimport { createTrignometryOperator } from \"./_internal\";\n/** Returns the inverse cosine (arc cosine) of a value in radians. */\nexport const $acos = createTrignometryOperator(Math.acos, {\n    Infinity: Infinity,\n    0: new Error(),\n});\n","// Trignometry Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#trigonometry-expression-operators\nimport { createTrignometryOperator } from \"./_internal\";\n/** Returns the inverse hyperbolic cosine (hyperbolic arc cosine) of a value in radians. */\nexport const $acosh = createTrignometryOperator(Math.acosh, {\n    Infinity: Infinity,\n    0: new Error(),\n});\n","// Trignometry Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#trigonometry-expression-operators\nimport { createTrignometryOperator } from \"./_internal\";\n/** Returns the inverse sin (arc sine) of a value in radians. */\nexport const $asin = createTrignometryOperator(Math.asin);\n","// Trignometry Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#trigonometry-expression-operators\nimport { createTrignometryOperator } from \"./_internal\";\n/** Returns the inverse hyperbolic sine (hyperbolic arc sine) of a value in radians. */\nexport const $asinh = createTrignometryOperator(Math.asinh, {\n    Infinity: Infinity,\n    \"-Infinity\": -Infinity,\n});\n","// Trignometry Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#trigonometry-expression-operators\nimport { createTrignometryOperator } from \"./_internal\";\n/** Returns the inverse tangent (arc tangent) of a value in radians. */\nexport const $atan = createTrignometryOperator(Math.atan);\n","// Trignometry Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#trigonometry-expression-operators\nimport { createTrignometryOperator } from \"./_internal\";\n/** Returns the inverse hyperbolic tangent (hyperbolic arc tangent) of a value in radians. */\nexport const $atanh = createTrignometryOperator(Math.atanh, {\n    1: Infinity,\n    \"-1\": -Infinity,\n});\n","// Trignometry Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#trigonometry-expression-operators\nimport { createTrignometryOperator } from \"./_internal\";\n/** Returns the cosine of a value that is measured in radians. */\nexport const $cos = createTrignometryOperator(Math.cos);\n","// Trignometry Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#trigonometry-expression-operators\nimport { createTrignometryOperator } from \"./_internal\";\n/** Returns the hyperbolic cosine of a value that is measured in radians. */\nexport const $cosh = createTrignometryOperator(Math.cosh, {\n    \"-Infinity\": Infinity,\n    Infinity: Infinity,\n    // [Math.PI]: -1,\n});\n","// Trignometry Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#trigonometry-expression-operators\nimport { createTrignometryOperator } from \"./_internal\";\nconst RADIANS_FACTOR = Math.PI / 180;\n/** Converts a value from degrees to radians. */\nexport const $degreesToRadians = createTrignometryOperator((n) => n * RADIANS_FACTOR, {\n    Infinity: Infinity,\n    \"-Infinity\": Infinity,\n});\n","// Trignometry Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#trigonometry-expression-operators\nimport { createTrignometryOperator } from \"./_internal\";\nconst DEGREES_FACTOR = 180 / Math.PI;\n/** Converts a value from radians to degrees. */\nexport const $radiansToDegrees = createTrignometryOperator((n) => n * DEGREES_FACTOR, {\n    Infinity: Infinity,\n    \"-Infinity\": -Infinity,\n});\n","// Trignometry Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#trigonometry-expression-operators\nimport { createTrignometryOperator } from \"./_internal\";\n/** Returns the sine of a value that is measured in radians. */\nexport const $sin = createTrignometryOperator(Math.sin);\n","// Trignometry Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#trigonometry-expression-operators\nimport { createTrignometryOperator } from \"./_internal\";\n/** Returns the hyperbolic sine of a value that is measured in radians. */\nexport const $sinh = createTrignometryOperator(Math.sinh, {\n    \"-Infinity\": -Infinity,\n    Infinity: Infinity,\n});\n","// Trignometry Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#trigonometry-expression-operators\nimport { createTrignometryOperator } from \"./_internal\";\n/** Returns the tangent of a value that is measured in radians. */\nexport const $tan = createTrignometryOperator(Math.tan);\n","import { computeValue } from \"../../../core\";\nimport { isNil, isNumber, isString } from \"../../../util\";\nexport class TypeConvertError extends Error {\n    constructor(message) {\n        super(message);\n    }\n}\nexport function toInteger(obj, expr, options, max, min, typename) {\n    const val = computeValue(obj, expr, null, options);\n    if (isNil(val))\n        return null;\n    if (val instanceof Date)\n        return val.getTime();\n    if (val === true)\n        return 1;\n    if (val === false)\n        return 0;\n    const n = Number(val);\n    if (isNumber(n) && n >= min && n <= max) {\n        // weirdly a decimal in string format cannot be converted to int.\n        // so we must check input if not string or if it is, not in decimal format\n        if (!isString(val) || n.toString().indexOf(\".\") === -1) {\n            return Math.trunc(n);\n        }\n    }\n    throw new TypeConvertError(`cannot convert '${val}' to ${typename}`);\n}\n","/**\n * Type Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#type-expression-operators\n */\nimport { computeValue } from \"../../../core\";\nimport { isNil, isString } from \"../../../util\";\n/**\n * Converts a value to a boolean.\n *\n * @param obj\n * @param expr\n */\nexport const $toBool = (obj, expr, options) => {\n    const val = computeValue(obj, expr, null, options);\n    if (isNil(val))\n        return null;\n    if (isString(val))\n        return true;\n    return Boolean(val);\n};\n","import { ComputeOptions, computeValue, getOperator, OperatorType } from \"../../core\";\nimport { assert, ensureArray, filterMissing, has, inArray, into, isEmpty, isNil, isNumber, isObject, isOperator, isString, merge, notInArray, removeValue, resolveGraph, setValue } from \"../../util\";\n/**\n * Reshapes a document stream.\n * $project can rename, add, or remove fields as well as create computed values and sub-documents.\n *\n * @param collection\n * @param expr\n * @param opt\n * @returns {Array}\n */\nexport const $project = (collection, expr, options) => {\n    if (isEmpty(expr))\n        return collection;\n    // result collection\n    let expressionKeys = Object.keys(expr);\n    let idOnlyExcluded = false;\n    // validate inclusion and exclusion\n    validateExpression(expr, options);\n    const ID_KEY = options.idKey;\n    if (inArray(expressionKeys, ID_KEY)) {\n        const id = expr[ID_KEY];\n        if (id === 0 || id === false) {\n            expressionKeys = expressionKeys.filter(notInArray.bind(null, [ID_KEY]));\n            idOnlyExcluded = expressionKeys.length == 0;\n        }\n    }\n    else {\n        // if not specified the add the ID field\n        expressionKeys.push(ID_KEY);\n    }\n    const copts = ComputeOptions.init(options);\n    return collection.map(((obj) => processObject(obj, expr, copts.update(obj), expressionKeys, idOnlyExcluded)));\n};\n/**\n * Process the expression value for $project operators\n *\n * @param {Object} obj The object to use as options\n * @param {Object} expr The experssion object of $project operator\n * @param {Array} expressionKeys The key in the 'expr' object\n * @param {Boolean} idOnlyExcluded Boolean value indicating whether only the ID key is excluded\n */\nfunction processObject(obj, expr, options, expressionKeys, idOnlyExcluded) {\n    let newObj = {};\n    let foundSlice = false;\n    let foundExclusion = false;\n    const dropKeys = [];\n    if (idOnlyExcluded) {\n        dropKeys.push(options.idKey);\n    }\n    for (const key of expressionKeys) {\n        // final computed value of the key\n        let value = undefined;\n        // expression to associate with key\n        const subExpr = expr[key];\n        if (key !== options.idKey && inArray([0, false], subExpr)) {\n            foundExclusion = true;\n        }\n        if (key === options.idKey && isEmpty(subExpr)) {\n            // tiny optimization here to skip over id\n            value = obj[key];\n        }\n        else if (isString(subExpr)) {\n            value = computeValue(obj, subExpr, key, options);\n        }\n        else if (inArray([1, true], subExpr)) {\n            // For direct projections, we use the resolved object value\n        }\n        else if (subExpr instanceof Array) {\n            value = subExpr.map(v => {\n                const r = computeValue(obj, v, null, options);\n                if (isNil(r))\n                    return null;\n                return r;\n            });\n        }\n        else if (isObject(subExpr)) {\n            const subExprObj = subExpr;\n            const subExprKeys = Object.keys(subExpr);\n            const operator = subExprKeys.length == 1 ? subExprKeys[0] : \"\";\n            // first try a projection operator\n            const call = getOperator(OperatorType.PROJECTION, operator, options);\n            if (call) {\n                // apply the projection operator on the operator expression for the key\n                if (operator === \"$slice\") {\n                    // $slice is handled differently for aggregation and projection operations\n                    if (ensureArray(subExprObj[operator]).every(isNumber)) {\n                        // $slice for projection operation\n                        value = call(obj, subExprObj[operator], key, options);\n                        foundSlice = true;\n                    }\n                    else {\n                        // $slice for aggregation operation\n                        value = computeValue(obj, subExprObj, key, options);\n                    }\n                }\n                else {\n                    value = call(obj, subExprObj[operator], key, options);\n                }\n            }\n            else if (isOperator(operator)) {\n                // compute if operator key\n                value = computeValue(obj, subExprObj[operator], operator, options);\n            }\n            else if (has(obj, key)) {\n                // compute the value for the sub expression for the key\n                validateExpression(subExprObj, options);\n                let target = obj[key];\n                if (target instanceof Array) {\n                    value = target.map((o) => processObject(o, subExprObj, options, subExprKeys, false));\n                }\n                else {\n                    target = isObject(target) ? target : obj;\n                    value = processObject(target, subExprObj, options, subExprKeys, false);\n                }\n            }\n            else {\n                // compute the value for the sub expression for the key\n                value = computeValue(obj, subExpr, null, options);\n            }\n        }\n        else {\n            dropKeys.push(key);\n            continue;\n        }\n        // get value with object graph\n        const objPathGraph = resolveGraph(obj, key, {\n            preserveMissing: true\n        });\n        // add the value at the path\n        if (objPathGraph !== undefined) {\n            merge(newObj, objPathGraph, {\n                flatten: true\n            });\n        }\n        // if computed add/or remove accordingly\n        if (notInArray([0, 1, false, true], subExpr)) {\n            if (value === undefined) {\n                removeValue(newObj, key, { descendArray: true });\n            }\n            else {\n                setValue(newObj, key, value);\n            }\n        }\n    }\n    // filter out all missing values preserved to support correct merging\n    filterMissing(newObj);\n    // For the following cases we include all keys on the object that were not explicitly excluded.\n    //\n    // 1. projection included $slice operator\n    // 2. some fields were explicitly excluded\n    // 3. only the id field was excluded\n    if (foundSlice || foundExclusion || idOnlyExcluded) {\n        newObj = into({}, obj, newObj);\n        if (dropKeys.length > 0) {\n            for (const k of dropKeys) {\n                removeValue(newObj, k, { descendArray: true });\n            }\n        }\n    }\n    return newObj;\n}\n/**\n * Validate inclusion and exclusion values in expression\n *\n * @param {Object} expr The expression given for the projection\n */\nfunction validateExpression(expr, options) {\n    const check = [false, false];\n    for (const [k, v] of Object.entries(expr)) {\n        if (k === (options === null || options === void 0 ? void 0 : options.idKey))\n            return;\n        if (v === 0 || v === false) {\n            check[0] = true;\n        }\n        else if (v === 1 || v === true) {\n            check[1] = true;\n        }\n        assert(!(check[0] && check[1]), \"Projection cannot have a mix of inclusion and exclusion.\");\n    }\n}\n","import { ComputeOptions, redact } from \"../../core\";\n/**\n * Restricts the contents of the documents based on information stored in the documents themselves.\n *\n * https://docs.mongodb.com/manual/reference/operator/aggregation/redact/\n */\nexport const $redact = (collection, expr, options) => {\n    const copts = ComputeOptions.init(options);\n    return collection.map(((obj) => redact(obj, expr, copts.update(obj))));\n};\n","// Query Logical Operators: https://docs.mongodb.com/manual/reference/operator/query-logical/\nimport { Query } from \"../../../query\";\nimport { assert, isArray } from \"../../../util\";\n/**\n * Joins query clauses with a logical AND returns all documents that match the conditions of both clauses.\n *\n * @param selector\n * @param rhs\n * @returns {Function}\n */\nexport const $and = (_, rhs, options) => {\n    assert(isArray(rhs), \"Invalid expression: $and expects value to be an Array.\");\n    const queries = rhs.map(expr => new Query(expr, options));\n    return (obj) => queries.every(q => q.test(obj));\n};\n","// Query Logical Operators: https://docs.mongodb.com/manual/reference/operator/query-logical/\nimport { Query } from \"../../../query\";\nimport { assert, isArray } from \"../../../util\";\n/**\n * Joins query clauses with a logical OR returns all documents that match the conditions of either clause.\n *\n * @param selector\n * @param rhs\n * @returns {Function}\n */\nexport const $or = (_, rhs, options) => {\n    assert(isArray(rhs), \"Invalid expression. $or expects value to be an Array\");\n    const queries = rhs.map(expr => new Query(expr, options));\n    return (obj) => queries.some(q => q.test(obj));\n};\n","// Query Logical Operators: https://docs.mongodb.com/manual/reference/operator/query-logical/\nimport { assert, isArray } from \"../../../util\";\nimport { $or } from \"./or\";\n/**\n * Joins query clauses with a logical NOR returns all documents that fail to match both clauses.\n *\n * @param selector\n * @param rhs\n * @returns {Function}\n */\nexport const $nor = (_, rhs, options) => {\n    assert(isArray(rhs), \"Invalid expression. $nor expects value to be an array.\");\n    const f = $or(\"$or\", rhs, options);\n    return (obj) => !f(obj);\n};\n","// Query Logical Operators: https://docs.mongodb.com/manual/reference/operator/query-logical/\nimport { Query } from \"../../../query\";\nimport { normalize } from \"../../../util\";\n/**\n * Inverts the effect of a query expression and returns documents that do not match the query expression.\n *\n * @param selector\n * @param rhs\n * @returns {Function}\n */\nexport const $not = (selector, rhs, options) => {\n    const criteria = {};\n    criteria[selector] = normalize(rhs);\n    const query = new Query(criteria, options);\n    return (obj) => !query.test(obj);\n};\n","// Query Comparison Operators: https://docs.mongodb.com/manual/reference/operator/query-comparison/\nimport { $eq as __eq, createQueryOperator } from \"../../_predicates\";\n/**\n * Matches values that are equal to a specified value.\n */\nexport const $eq = createQueryOperator(__eq);\n","// Query Comparison Operators: https://docs.mongodb.com/manual/reference/operator/query-comparison/\nimport { $gt as __gt, createQueryOperator } from \"../../_predicates\";\n/**\n * Matches values that are greater than a specified value.\n */\nexport const $gt = createQueryOperator(__gt);\n","// Query Comparison Operators: https://docs.mongodb.com/manual/reference/operator/query-comparison/\nimport { $gte as __gte, createQueryOperator } from \"../../_predicates\";\n/**\n * \tMatches values that are greater than or equal to a specified value.\n */\nexport const $gte = createQueryOperator(__gte);\n","// Query Comparison Operators: https://docs.mongodb.com/manual/reference/operator/query-comparison/\nimport { $in as __in, createQueryOperator } from \"../../_predicates\";\n/**\n * Matches any of the values that exist in an array specified in the query.\n */\nexport const $in = createQueryOperator(__in);\n","// Query Comparison Operators: https://docs.mongodb.com/manual/reference/operator/query-comparison/\nimport { $lt as __lt, createQueryOperator } from \"../../_predicates\";\n/**\n * Matches values that are less than the value specified in the query.\n */\nexport const $lt = createQueryOperator(__lt);\n","// Query Comparison Operators: https://docs.mongodb.com/manual/reference/operator/query-comparison/\nimport { $lte as __lte, createQueryOperator } from \"../../_predicates\";\n/**\n * Matches values that are less than or equal to the value specified in the query.\n */\nexport const $lte = createQueryOperator(__lte);\n","// Query Comparison Operators: https://docs.mongodb.com/manual/reference/operator/query-comparison/\nimport { $ne as __ne, createQueryOperator } from \"../../_predicates\";\n/**\n * Matches all values that are not equal to the value specified in the query.\n */\nexport const $ne = createQueryOperator(__ne);\n","// Query Comparison Operators: https://docs.mongodb.com/manual/reference/operator/query-comparison/\nimport { $nin as __nin, createQueryOperator } from \"../../_predicates\";\n/**\n * Matches values that do not exist in an array specified to the query.\n */\nexport const $nin = createQueryOperator(__nin);\n","// Query Evaluation Operators: https://docs.mongodb.com/manual/reference/operator/query-evaluation/\nimport { $mod as __mod, createQueryOperator } from \"../../_predicates\";\n/**\n * Performs a modulo operation on the value of a field and selects documents with a specified result.\n */\nexport const $mod = createQueryOperator(__mod);\n","// Query Evaluation Operators: https://docs.mongodb.com/manual/reference/operator/query-evaluation/\nimport { $regex as __regex, createQueryOperator } from \"../../_predicates\";\n/**\n * Selects documents where values match a specified regular expression.\n */\nexport const $regex = createQueryOperator(__regex);\n","// Query Array Operators: https://docs.mongodb.com/manual/reference/operator/query-array/\nimport { $all as __all, createQueryOperator } from \"../../_predicates\";\n/**\n * Matches arrays that contain all elements specified in the query.\n */\nexport const $all = createQueryOperator(__all);\n","// Query Array Operators: https://docs.mongodb.com/manual/reference/operator/query-array/\nimport { $elemMatch as __elemMatch, createQueryOperator, } from \"../../_predicates\";\n/**\n * Selects documents if element in the array field matches all the specified $elemMatch conditions.\n */\nexport const $elemMatch = createQueryOperator(__elemMatch);\n","// Query Array Operators: https://docs.mongodb.com/manual/reference/operator/query-array/\nimport { $size as __size, createQueryOperator } from \"../../_predicates\";\n/**\n * Selects documents if the array field is a specified size.\n */\nexport const $size = createQueryOperator(__size);\n","// Query Element Operators: https://docs.mongodb.com/manual/reference/operator/query-element/\nimport { $exists as __exists, createQueryOperator } from \"../../_predicates\";\n/**\n * Matches documents that have the specified field.\n */\nexport const $exists = createQueryOperator(__exists);\n","// Query Element Operators: https://docs.mongodb.com/manual/reference/operator/query-element/\nimport { $type as __type, createQueryOperator } from \"../../_predicates\";\n/**\n * Selects documents if a field is of the specified type.\n */\nexport const $type = createQueryOperator(__type);\n","import { useOperators, OperatorType } from 'mingo/core';\nimport { Query } from 'mingo/query';\nimport type { MangoQuerySelector } from './types/index.d.ts';\nimport {\n    $project,\n    $sort\n} from 'mingo/operators/pipeline';\nimport {\n    $and,\n    $not,\n    $or,\n    $nor\n} from 'mingo/operators/query/logical';\nimport {\n    $eq,\n    $ne,\n    $gt,\n    $gte,\n    $lt,\n    $lte,\n    $nin,\n    $in\n} from 'mingo/operators/query/comparison';\nimport {\n    $regex,\n    $mod\n} from 'mingo/operators/query/evaluation';\nimport {\n    $elemMatch,\n    $size\n} from 'mingo/operators/query/array';\nimport {\n    $exists,\n    $type\n} from 'mingo/operators/query/element';\n\nlet mingoInitDone = false;\n\n\n/**\n * The MongoDB query library is huge and we do not need all the operators.\n * If you add an operator here, make sure that you properly add a test in\n * the file /test/unit/rx-storage-query-correctness.test.ts\n *\n * @link https://github.com/kofrasa/mingo#es6\n */\nexport function getMingoQuery<RxDocType>(\n    selector?: MangoQuerySelector<RxDocType>\n) {\n    if (!mingoInitDone) {\n\n        useOperators(OperatorType.PIPELINE, {\n            $sort,\n            $project\n        } as any);\n        useOperators(OperatorType.QUERY, {\n            $and,\n            $eq,\n            $elemMatch,\n            $exists,\n            $gt,\n            $gte,\n            $in,\n            $lt,\n            $lte,\n            $ne,\n            $nin,\n            $mod,\n            $nor,\n            $not,\n            $or,\n            $regex,\n            $size,\n            $type,\n        } as any);\n        mingoInitDone = true;\n    }\n    return new Query(selector as any);\n}\n","import { LOGICAL_OPERATORS } from './query-planner.ts';\nimport { getPrimaryFieldOfPrimaryKey } from './rx-schema-helper.ts';\nimport type {\n    DeepReadonly,\n    DeterministicSortComparator,\n    FilledMangoQuery,\n    MangoQuery,\n    MangoQuerySortDirection,\n    QueryMatcher,\n    RxDocumentData,\n    RxJsonSchema\n} from './types/index.d.ts';\nimport {\n    clone,\n    firstPropertyNameOfObject,\n    toArray,\n    isMaybeReadonlyArray,\n    flatClone,\n    objectPathMonad,\n    ObjectPathMonadFunction\n} from './plugins/utils/index.ts';\nimport {\n    compare as mingoSortComparator\n} from 'mingo/util';\nimport { newRxError } from './rx-error.ts';\nimport { getMingoQuery } from './rx-query-mingo.ts';\n\n/**\n * Normalize the query to ensure we have all fields set\n * and queries that represent the same query logic are detected as equal by the caching.\n */\nexport function normalizeMangoQuery<RxDocType>(\n    schema: RxJsonSchema<RxDocumentData<RxDocType>>,\n    mangoQuery: MangoQuery<RxDocType>\n): FilledMangoQuery<RxDocType> {\n    const primaryKey: string = getPrimaryFieldOfPrimaryKey(schema.primaryKey);\n    mangoQuery = flatClone(mangoQuery);\n\n    const normalizedMangoQuery: FilledMangoQuery<RxDocType> = clone(mangoQuery) as any;\n    if (typeof normalizedMangoQuery.skip !== 'number') {\n        normalizedMangoQuery.skip = 0;\n    }\n\n    if (!normalizedMangoQuery.selector) {\n        normalizedMangoQuery.selector = {};\n    } else {\n        normalizedMangoQuery.selector = normalizedMangoQuery.selector;\n        /**\n         * In mango query, it is possible to have an\n         * equals comparison by directly assigning a value\n         * to a property, without the '$eq' operator.\n         * Like:\n         * selector: {\n         *   foo: 'bar'\n         * }\n         * For normalization, we have to normalize this\n         * so our checks can perform properly.\n         *\n         *\n         * TODO this must work recursive with nested queries that\n         * contain multiple selectors via $and or $or etc.\n         */\n        Object\n            .entries(normalizedMangoQuery.selector)\n            .forEach(([field, matcher]) => {\n                if (typeof matcher !== 'object' || matcher === null) {\n                    (normalizedMangoQuery as any).selector[field] = {\n                        $eq: matcher\n                    };\n                }\n            });\n    }\n\n    /**\n     * Ensure that if an index is specified,\n     * the primaryKey is inside of it.\n     */\n    if (normalizedMangoQuery.index) {\n        const indexAr = toArray(normalizedMangoQuery.index);\n        if (!indexAr.includes(primaryKey)) {\n            indexAr.push(primaryKey);\n        }\n        normalizedMangoQuery.index = indexAr;\n    }\n\n    /**\n     * To ensure a deterministic sorting,\n     * we have to ensure the primary key is always part\n     * of the sort query.\n     * Primary sorting is added as last sort parameter,\n     * similar to how we add the primary key to indexes that do not have it.\n     *\n     */\n    if (!normalizedMangoQuery.sort) {\n        /**\n         * If no sort is given at all,\n         * we can assume that the user does not care about sort order at al.\n         *\n         * we cannot just use the primary key as sort parameter\n         * because it would likely cause the query to run over the primary key index\n         * which has a bad performance in most cases.\n         */\n        if (normalizedMangoQuery.index) {\n            normalizedMangoQuery.sort = normalizedMangoQuery.index.map((field: string) => {\n                return { [field as any]: 'asc' } as any;\n            });\n        } else {\n            /**\n             * Find the index that best matches the fields with the logical operators\n             */\n            if (schema.indexes) {\n                const fieldsWithLogicalOperator: Set<string> = new Set();\n                Object.entries(normalizedMangoQuery.selector).forEach(([field, matcher]) => {\n                    let hasLogical = false;\n                    if (typeof matcher === 'object' && matcher !== null) {\n                        hasLogical = !!Object.keys(matcher).find(operator => LOGICAL_OPERATORS.has(operator));\n                    } else {\n                        hasLogical = true;\n                    }\n                    if (hasLogical) {\n                        fieldsWithLogicalOperator.add(field);\n                    }\n                });\n\n\n                let currentFieldsAmount = -1;\n                let currentBestIndexForSort: string[] | readonly string[] | undefined;\n                schema.indexes.forEach(index => {\n                    const useIndex = isMaybeReadonlyArray(index) ? index : [index];\n                    const firstWrongIndex = useIndex.findIndex(indexField => !fieldsWithLogicalOperator.has(indexField));\n                    if (\n                        firstWrongIndex > 0 &&\n                        firstWrongIndex > currentFieldsAmount\n                    ) {\n                        currentFieldsAmount = firstWrongIndex;\n                        currentBestIndexForSort = useIndex;\n                    }\n                });\n                if (currentBestIndexForSort) {\n                    normalizedMangoQuery.sort = currentBestIndexForSort.map((field: string) => {\n                        return { [field as any]: 'asc' } as any;\n                    });\n                }\n\n            }\n\n            /**\n             * Fall back to the primary key as sort order\n             * if no better one has been found\n             */\n            if (!normalizedMangoQuery.sort) {\n                normalizedMangoQuery.sort = [{ [primaryKey]: 'asc' }] as any;\n            }\n        }\n    } else {\n        const isPrimaryInSort = normalizedMangoQuery.sort\n            .find(p => firstPropertyNameOfObject(p) === primaryKey);\n        if (!isPrimaryInSort) {\n            normalizedMangoQuery.sort = normalizedMangoQuery.sort.slice(0);\n            normalizedMangoQuery.sort.push({ [primaryKey]: 'asc' } as any);\n        }\n    }\n\n    return normalizedMangoQuery;\n}\n\n/**\n * Returns the sort-comparator,\n * which is able to sort documents in the same way\n * a query over the db would do.\n */\nexport function getSortComparator<RxDocType>(\n    schema: RxJsonSchema<RxDocumentData<RxDocType>>,\n    query: FilledMangoQuery<RxDocType>\n): DeterministicSortComparator<RxDocType> {\n    if (!query.sort) {\n        throw newRxError('SNH', { query });\n    }\n    const sortParts: {\n        key: string;\n        direction: MangoQuerySortDirection;\n        getValueFn: ObjectPathMonadFunction<RxDocType>;\n    }[] = [];\n    query.sort.forEach(sortBlock => {\n        const key = Object.keys(sortBlock)[0];\n        const direction = Object.values(sortBlock)[0];\n        sortParts.push({\n            key,\n            direction,\n            getValueFn: objectPathMonad(key)\n        });\n    });\n    const fun: DeterministicSortComparator<RxDocType> = (a: RxDocType, b: RxDocType) => {\n        for (let i = 0; i < sortParts.length; ++i) {\n            const sortPart = sortParts[i];\n            const valueA = sortPart.getValueFn(a);\n            const valueB = sortPart.getValueFn(b);\n            if (valueA !== valueB) {\n                const ret = sortPart.direction === 'asc' ? mingoSortComparator(valueA, valueB) : mingoSortComparator(valueB, valueA);\n                return ret as any;\n            }\n        }\n    };\n\n    return fun;\n}\n\n\n/**\n * Returns a function\n * that can be used to check if a document\n * matches the query.\n */\nexport function getQueryMatcher<RxDocType>(\n    _schema: RxJsonSchema<RxDocType> | RxJsonSchema<RxDocumentData<RxDocType>>,\n    query: FilledMangoQuery<RxDocType>\n): QueryMatcher<RxDocumentData<RxDocType>> {\n    if (!query.sort) {\n        throw newRxError('SNH', { query });\n    }\n\n    const mingoQuery = getMingoQuery(query.selector as any);\n    const fun: QueryMatcher<RxDocumentData<RxDocType>> = (doc: RxDocumentData<RxDocType> | DeepReadonly<RxDocumentData<RxDocType>>) => {\n        return mingoQuery.test(doc);\n    };\n    return fun;\n}\n","import {\n    ActionName,\n    calculateActionName,\n    runAction,\n    QueryParams,\n    QueryMatcher,\n    DeterministicSortComparator,\n    StateResolveFunctionInput,\n    ChangeEvent\n} from 'event-reduce-js';\nimport type {\n    RxQuery,\n    MangoQuery,\n    RxChangeEvent,\n    StringKeys,\n    RxDocumentData\n} from './types/index.d.ts';\nimport { rxChangeEventToEventReduceChangeEvent } from './rx-change-event.ts';\nimport {\n    arrayFilterNotEmpty,\n    clone,\n    ensureNotFalsy,\n    getFromMapOrCreate\n} from './plugins/utils/index.ts';\nimport { getQueryMatcher, getSortComparator, normalizeMangoQuery } from './rx-query-helper.ts';\n\nexport type EventReduceResultNeg = {\n    runFullQueryAgain: true;\n};\nexport type EventReduceResultPos<RxDocumentType> = {\n    runFullQueryAgain: false;\n    changed: boolean;\n    newResults: RxDocumentType[];\n};\nexport type EventReduceResult<RxDocumentType> = EventReduceResultNeg | EventReduceResultPos<RxDocumentType>;\n\n\nexport function getSortFieldsOfQuery<RxDocType>(\n    primaryKey: StringKeys<RxDocumentData<RxDocType>>,\n    query: MangoQuery<RxDocType>\n): (string | StringKeys<RxDocType>)[] {\n    if (!query.sort || query.sort.length === 0) {\n        return [primaryKey];\n    } else {\n        return query.sort.map(part => Object.keys(part)[0]);\n    }\n}\n\n\n\nexport const RXQUERY_QUERY_PARAMS_CACHE: WeakMap<RxQuery, QueryParams<any>> = new WeakMap();\nexport function getQueryParams<RxDocType>(\n    rxQuery: RxQuery<RxDocType>\n): QueryParams<RxDocType> {\n    return getFromMapOrCreate(\n        RXQUERY_QUERY_PARAMS_CACHE,\n        rxQuery,\n        () => {\n            const collection = rxQuery.collection;\n            const normalizedMangoQuery = normalizeMangoQuery(\n                collection.storageInstance.schema,\n                clone(rxQuery.mangoQuery)\n            );\n            const primaryKey = collection.schema.primaryPath;\n\n            /**\n             * Create a custom sort comparator\n             * that uses the hooks to ensure\n             * we send for example compressed documents to be sorted by compressed queries.\n             */\n            const sortComparator = getSortComparator(\n                collection.schema.jsonSchema,\n                normalizedMangoQuery\n            );\n\n            const useSortComparator: DeterministicSortComparator<RxDocType> = (docA: RxDocType, docB: RxDocType) => {\n                const sortComparatorData = {\n                    docA,\n                    docB,\n                    rxQuery\n                };\n                return sortComparator(sortComparatorData.docA, sortComparatorData.docB);\n            };\n\n            /**\n             * Create a custom query matcher\n             * that uses the hooks to ensure\n             * we send for example compressed documents to match compressed queries.\n             */\n            const queryMatcher = getQueryMatcher(\n                collection.schema.jsonSchema,\n                normalizedMangoQuery\n            );\n            const useQueryMatcher: QueryMatcher<RxDocumentData<RxDocType>> = (doc: RxDocumentData<RxDocType>) => {\n                const queryMatcherData = {\n                    doc,\n                    rxQuery\n                };\n                return queryMatcher(queryMatcherData.doc);\n            };\n\n            const ret: QueryParams<any> = {\n                primaryKey: rxQuery.collection.schema.primaryPath as any,\n                skip: normalizedMangoQuery.skip,\n                limit: normalizedMangoQuery.limit,\n                sortFields: getSortFieldsOfQuery(primaryKey, normalizedMangoQuery) as string[],\n                sortComparator: useSortComparator,\n                queryMatcher: useQueryMatcher\n            };\n            return ret;\n        }\n    );\n}\n\n\nexport function calculateNewResults<RxDocumentType>(\n    rxQuery: RxQuery<RxDocumentType>,\n    rxChangeEvents: RxChangeEvent<RxDocumentType>[]\n): EventReduceResult<RxDocumentType> {\n    if (!rxQuery.collection.database.eventReduce) {\n        return {\n            runFullQueryAgain: true\n        };\n    }\n    const queryParams = getQueryParams(rxQuery);\n    const previousResults: RxDocumentType[] = ensureNotFalsy(rxQuery._result).docsData.slice(0);\n    const previousResultsMap: Map<string, RxDocumentType> = ensureNotFalsy(rxQuery._result).docsDataMap;\n    let changed: boolean = false;\n\n    const eventReduceEvents: ChangeEvent<RxDocumentType>[] = rxChangeEvents\n        .map(cE => rxChangeEventToEventReduceChangeEvent(cE))\n        .filter(arrayFilterNotEmpty);\n\n    const foundNonOptimizeable = eventReduceEvents.find(eventReduceEvent => {\n        const stateResolveFunctionInput: StateResolveFunctionInput<RxDocumentType> = {\n            queryParams,\n            changeEvent: eventReduceEvent,\n            previousResults,\n            keyDocumentMap: previousResultsMap\n        };\n\n        const actionName: ActionName = calculateActionName(stateResolveFunctionInput);\n        if (actionName === 'runFullQueryAgain') {\n            return true;\n        } else if (actionName !== 'doNothing') {\n            changed = true;\n            runAction(\n                actionName,\n                queryParams,\n                eventReduceEvent,\n                previousResults,\n                previousResultsMap\n            );\n            return false;\n        }\n    });\n    if (foundNonOptimizeable) {\n        return {\n            runFullQueryAgain: true,\n        };\n    } else {\n        return {\n            runFullQueryAgain: false,\n            changed,\n            newResults: previousResults\n        };\n    }\n}\n","/**\n * the query-cache makes sure that on every query-state, exactly one instance can exist\n * if you use the same mango-query more then once, it will reuse the first RxQuery\n */\nimport type {\n    RxQuery,\n    RxCacheReplacementPolicy,\n    RxCollection\n} from './types/index.d.ts';\nimport {\n    getFromMapOrCreate,\n    nextTick,\n    now,\n    requestIdlePromise\n} from './plugins/utils/index.ts';\n\nexport class QueryCache {\n    public _map: Map<string, RxQuery> = new Map();\n\n    /**\n     * check if an equal query is in the cache,\n     * if true, return the cached one,\n     * if false, save the given one and return it\n     */\n    getByQuery(rxQuery: RxQuery): RxQuery {\n        const stringRep = rxQuery.toString();\n        return getFromMapOrCreate(\n            this._map,\n            stringRep,\n            () => rxQuery\n        );\n    }\n}\n\nexport function createQueryCache() {\n    return new QueryCache();\n}\n\n\nexport function uncacheRxQuery(queryCache: QueryCache, rxQuery: RxQuery) {\n    rxQuery.uncached = true;\n    const stringRep = rxQuery.toString();\n    queryCache._map.delete(stringRep);\n\n}\n\n\nexport function countRxQuerySubscribers(rxQuery: RxQuery): number {\n    return rxQuery.refCount$.observers.length;\n}\n\n\nexport const DEFAULT_TRY_TO_KEEP_MAX = 100;\nexport const DEFAULT_UNEXECUTED_LIFETIME = 30 * 1000;\n\n/**\n * The default cache replacement policy\n * See docs-src/query-cache.md to learn how it should work.\n * Notice that this runs often and should block the cpu as less as possible\n * This is a monad which makes it easier to unit test\n */\nexport const defaultCacheReplacementPolicyMonad: (\n    tryToKeepMax: number,\n    unExecutedLifetime: number\n) => RxCacheReplacementPolicy = (\n    tryToKeepMax,\n    unExecutedLifetime\n) => (\n    _collection: RxCollection,\n    queryCache: QueryCache\n) => {\n            if (queryCache._map.size < tryToKeepMax) {\n                return;\n            }\n\n            const minUnExecutedLifetime = now() - unExecutedLifetime;\n            const maybeUncache: RxQuery[] = [];\n\n            const queriesInCache = Array.from(queryCache._map.values());\n            for (const rxQuery of queriesInCache) {\n                // filter out queries with subscribers\n                if (countRxQuerySubscribers(rxQuery) > 0) {\n                    continue;\n                }\n                // directly uncache queries that never executed and are older then unExecutedLifetime\n                if (rxQuery._lastEnsureEqual === 0 && rxQuery._creationTime < minUnExecutedLifetime) {\n                    uncacheRxQuery(queryCache, rxQuery);\n                    continue;\n                }\n                maybeUncache.push(rxQuery);\n            }\n\n            const mustUncache = maybeUncache.length - tryToKeepMax;\n            if (mustUncache <= 0) {\n                return;\n            }\n\n            const sortedByLastUsage = maybeUncache.sort((a, b) => a._lastEnsureEqual - b._lastEnsureEqual);\n            const toRemove = sortedByLastUsage.slice(0, mustUncache);\n            toRemove.forEach(rxQuery => uncacheRxQuery(queryCache, rxQuery));\n        };\n\n\nexport const defaultCacheReplacementPolicy: RxCacheReplacementPolicy = defaultCacheReplacementPolicyMonad(\n    DEFAULT_TRY_TO_KEEP_MAX,\n    DEFAULT_UNEXECUTED_LIFETIME\n);\n\nexport const COLLECTIONS_WITH_RUNNING_CLEANUP: WeakSet<RxCollection> = new WeakSet();\n\n/**\n * Triggers the cache replacement policy after waitTime has passed.\n * We do not run this directly because at exactly the time a query is created,\n * we need all CPU to minimize latency.\n * Also this should not be triggered multiple times when waitTime is still waiting.\n */\nexport function triggerCacheReplacement(\n    rxCollection: RxCollection\n) {\n    if (COLLECTIONS_WITH_RUNNING_CLEANUP.has(rxCollection)) {\n        // already started\n        return;\n    }\n\n    COLLECTIONS_WITH_RUNNING_CLEANUP.add(rxCollection);\n\n    /**\n     * Do not run directly to not reduce result latency of a new query\n     */\n    nextTick() // wait at least one tick\n        .then(() => requestIdlePromise(200)) // and then wait for the CPU to be idle\n        .then(() => {\n            if (!rxCollection.destroyed) {\n                rxCollection.cacheReplacementPolicy(rxCollection, rxCollection._queryCache);\n            }\n            COLLECTIONS_WITH_RUNNING_CLEANUP.delete(rxCollection);\n        });\n}\n","import type {\n    RxChangeEvent,\n    RxDocument,\n    RxDocumentData\n} from './types/index.d.ts';\nimport {\n    getFromMapOrCreate,\n    getFromMapOrThrow,\n    getHeightOfRevision,\n    overwriteGetterForCaching,\n    requestIdlePromiseNoQueue\n} from './plugins/utils/index.ts';\nimport {\n    overwritable\n} from './overwritable.ts';\nimport { getDocumentDataOfRxChangeEvent } from './rx-change-event.ts';\nimport { Observable } from 'rxjs';\n\ndeclare type CacheItem<RxDocType, OrmMethods> = {\n    /**\n     * Store the different document states of time\n     * based on their revision height.\n     * We store WeakRefs so that we can later clean up\n     * document states that are no longer needed.\n     */\n    byRev: Map<number, WeakRef<RxDocument<RxDocType, OrmMethods>>>;\n\n    /**\n     * Store the latest known document state.\n     * As long as any state of the document is in the cache,\n     * we observe the changestream and update the latestDoc accordingly.\n     * This makes it easier to optimize performance on other parts\n     * because for each known document we can always get the current state\n     * in the storage.\n     * Also it makes it possible to call RxDocument.latest() in a non-async way\n     * to retrieve the latest document state or to observe$ some property.\n     *\n     * To not prevent the whole cacheItem from being garbage collected,\n     * we store only the document data here, but not the RxDocument.\n     */\n    last: RxDocumentData<RxDocType>;\n};\n\n\n/**\n * @link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/FinalizationRegistry\n */\ndeclare type FinalizationRegistryValue = {\n    docId: string;\n    revisionHeight: number;\n};\n\n/**\n * The DocumentCache stores RxDocument objects\n * by their primary key and revision.\n * This is useful on client side applications where\n * it is not known how much memory can be used, so\n * we de-duplicate RxDocument states to save memory.\n * To not fill up the memory with old document states, the DocumentCache\n * only contains weak references to the RxDocuments themself.\n * @link https://caniuse.com/?search=weakref\n */\nexport class DocumentCache<RxDocType, OrmMethods> {\n    public cacheItemByDocId = new Map<string, CacheItem<RxDocType, OrmMethods>>();\n\n    /**\n     * Some JavaScript runtimes like QuickJS,\n     * so not have a FinalizationRegistry or WeakRef.\n     * Therefore we need a workaround which might waste a lot of memory,\n     * but at least works.\n     */\n    public readonly registry?: FinalizationRegistry<FinalizationRegistryValue> = typeof FinalizationRegistry === 'function' ?\n        new FinalizationRegistry<FinalizationRegistryValue>(docMeta => {\n            const docId = docMeta.docId;\n            const cacheItem = this.cacheItemByDocId.get(docId);\n            if (cacheItem) {\n                cacheItem.byRev.delete(docMeta.revisionHeight);\n                if (cacheItem.byRev.size === 0) {\n                    /**\n                     * No state of the document is cached anymore,\n                     * so we can clean up.\n                     */\n                    this.cacheItemByDocId.delete(docId);\n                }\n            }\n        }) :\n        undefined;\n\n    /**\n     * Calling registry.register(() has shown to have\n     * really bad performance. So we add the cached documents\n     * lazily.\n     */\n    public registerIdlePromise?: Promise<any>;\n    public registerIdleTasks: RxDocument<RxDocType, OrmMethods>[] = [];\n\n    constructor(\n        public readonly primaryPath: string,\n        public readonly changes$: Observable<RxChangeEvent<RxDocType>>,\n        /**\n         * A method that can create a RxDocument by the given document data.\n         */\n        public documentCreator: (docData: RxDocumentData<RxDocType>) => RxDocument<RxDocType, OrmMethods>\n    ) {\n        changes$.subscribe(changeEvent => {\n            const docId = changeEvent.documentId;\n            const cacheItem = this.cacheItemByDocId.get(docId);\n            if (cacheItem) {\n                const documentData = getDocumentDataOfRxChangeEvent(changeEvent);\n                cacheItem.last = documentData;\n            }\n        });\n    }\n\n    /**\n     * Get the RxDocument from the cache\n     * and create a new one if not exits before.\n     * @overwrites itself with the actual function\n     * because this is @performance relevant.\n     * It is called on each document row for each write and read.\n     */\n    get getCachedRxDocument(): (docData: RxDocumentData<RxDocType>) => RxDocument<RxDocType, OrmMethods> {\n        const fn = getCachedRxDocumentMonad(this);\n        return overwriteGetterForCaching(\n            this,\n            'getCachedRxDocument',\n            fn\n        );\n    }\n\n    /**\n     * Throws if not exists\n     */\n    public getLatestDocumentData(docId: string): RxDocumentData<RxDocType> {\n        const cacheItem = getFromMapOrThrow(this.cacheItemByDocId, docId);\n        return cacheItem.last;\n    }\n\n    public getLatestDocumentDataIfExists(docId: string): RxDocumentData<RxDocType> | undefined {\n        const cacheItem = this.cacheItemByDocId.get(docId);\n        if (cacheItem) {\n            return cacheItem.last;\n        }\n    }\n}\n\n/**\n * This function is called very very often.\n * This is likely the most important function for RxDB overall performance\n */\nfunction getCachedRxDocumentMonad<RxDocType, OrmMethods>(\n    docCache: DocumentCache<RxDocType, OrmMethods>\n): (docData: RxDocumentData<RxDocType>) => RxDocument<RxDocType, OrmMethods> {\n    const primaryPath = docCache.primaryPath;\n    const cacheItemByDocId = docCache.cacheItemByDocId;\n    const registry = docCache.registry;\n    const deepFreezeWhenDevMode = overwritable.deepFreezeWhenDevMode;\n    const documentCreator = docCache.documentCreator;\n    const fn: (docData: RxDocumentData<RxDocType>) => RxDocument<RxDocType, OrmMethods> = (docData: RxDocumentData<RxDocType>) => {\n        const docId: string = (docData as any)[primaryPath];\n        const revisionHeight = getHeightOfRevision(docData._rev);\n        const cacheItem = getFromMapOrCreate<string, CacheItem<RxDocType, OrmMethods>>(\n            cacheItemByDocId,\n            docId,\n            () => getNewCacheItem<RxDocType, OrmMethods>(docData)\n        );\n\n        const byRev = cacheItem.byRev;\n        const cachedRxDocumentWeakRef: WeakRef<RxDocument<RxDocType, OrmMethods>> | undefined = byRev.get(revisionHeight);\n        let cachedRxDocument = cachedRxDocumentWeakRef ? cachedRxDocumentWeakRef.deref() : undefined;\n        if (!cachedRxDocument) {\n            docData = deepFreezeWhenDevMode(docData) as any;\n            cachedRxDocument = documentCreator(docData) as RxDocument<RxDocType, OrmMethods>;\n            byRev.set(revisionHeight, createWeakRefWithFallback(cachedRxDocument));\n            if (registry) {\n                docCache.registerIdleTasks.push(cachedRxDocument);\n                if (!docCache.registerIdlePromise) {\n                    docCache.registerIdlePromise = requestIdlePromiseNoQueue().then(() => {\n                        docCache.registerIdlePromise = undefined;\n                        const tasks = docCache.registerIdleTasks;\n                        if (tasks.length === 0) {\n                            return;\n                        }\n                        docCache.registerIdleTasks = [];\n                        tasks.forEach(doc => {\n                            registry.register(doc, {\n                                docId: doc.primary,\n                                revisionHeight: getHeightOfRevision(doc.revision)\n                            });\n                        });\n                    });\n                }\n            }\n        }\n        return cachedRxDocument;\n    };\n    return fn;\n}\n\nexport function mapDocumentsDataToCacheDocs<RxDocType, OrmMethods>(\n    docCache: DocumentCache<RxDocType, OrmMethods>,\n    docsData: RxDocumentData<RxDocType>[]\n) {\n    const getCachedRxDocument = docCache.getCachedRxDocument;\n    const documents: RxDocument<RxDocType, OrmMethods>[] = [];\n    for (let i = 0; i < docsData.length; i++) {\n        const docData = docsData[i];\n        const doc = getCachedRxDocument(docData);\n        documents.push(doc);\n    }\n    return documents;\n}\n\n\nfunction getNewCacheItem<RxDocType, OrmMethods>(docData: RxDocumentData<RxDocType>): CacheItem<RxDocType, OrmMethods> {\n    return {\n        byRev: new Map(),\n        last: docData\n    };\n}\n\n\n\n\n/**\n * Fallback for JavaScript runtimes that do not support WeakRef.\n * The fallback will keep the items in cache forever,\n * but at least works.\n */\nconst HAS_WEAK_REF = typeof WeakRef === 'function';\nconst createWeakRefWithFallback = HAS_WEAK_REF ? createWeakRef : createWeakRefFallback;\nfunction createWeakRef<T extends object>(obj: T): WeakRef<T> {\n    return new WeakRef(obj) as any;\n}\nfunction createWeakRefFallback<T extends object>(obj: T): WeakRef<T> {\n    return {\n        deref() {\n            return obj;\n        }\n    } as any;\n}\n","import { mapDocumentsDataToCacheDocs } from './doc-cache.ts';\nimport { now, overwriteGetterForCaching } from './plugins/utils/index.ts';\nimport type {\n    RxCollection,\n    RxDocument,\n    RxDocumentData\n} from './types';\n\n/**\n * RxDB needs the query results in multiple formats.\n * Sometimes as a Map or an array with only the documentData.\n * For better performance we work with this class\n * that initializes stuff lazily so that\n * we can directly work with the query results after RxQuery.exec()\n */\nexport class RxQuerySingleResult<RxDocType>{\n    /**\n     * Time at which the current _result state was created.\n     * Used to determine if the result set has changed since X\n     * so that we do not emit the same result multiple times on subscription.\n     */\n    public readonly time = now();\n    public readonly documents: RxDocument<RxDocType>[];\n    constructor(\n        public readonly collection: RxCollection<RxDocType>,\n        // only used internally, do not use outside, use this.docsData instead\n        docsDataFromStorageInstance: RxDocumentData<RxDocType>[],\n        // can be overwritten for count-queries\n        public readonly count: number,\n    ) {\n        this.documents = mapDocumentsDataToCacheDocs<RxDocType, any>(this.collection._docCache, docsDataFromStorageInstance);\n    }\n\n\n    /**\n     * Instead of using the newResultData in the result cache,\n     * we directly use the objects that are stored in the RxDocument\n     * to ensure we do not store the same data twice and fill up the memory.\n     * @overwrites itself with the actual value\n     */\n    get docsData(): RxDocumentData<RxDocType>[] {\n        return overwriteGetterForCaching(\n            this,\n            'docsData',\n            this.documents.map(d => d._data)\n        );\n    }\n\n\n    // A key->document map, used in the event reduce optimization.\n    get docsDataMap(): Map<string, RxDocumentData<RxDocType>> {\n        const map = new Map<string, RxDocumentData<RxDocType>>();\n        this.documents.forEach(d => {\n            map.set(d.primary, d._data);\n        });\n        return overwriteGetterForCaching(\n            this,\n            'docsDataMap',\n            map\n        );\n    }\n\n    get docsMap(): Map<string, RxDocument<RxDocType>> {\n        const map = new Map<string, RxDocument<RxDocType>>();\n        const documents = this.documents;\n        for (let i = 0; i < documents.length; i++) {\n            const doc = documents[i];\n            map.set(doc.primary, doc);\n        }\n        return overwriteGetterForCaching(\n            this,\n            'docsMap',\n            map\n        );\n    }\n}\n","import {\n    BehaviorSubject,\n    firstValueFrom,\n    Observable,\n    merge\n} from 'rxjs';\nimport {\n    mergeMap,\n    filter,\n    map,\n    startWith,\n    distinctUntilChanged,\n    shareReplay\n} from 'rxjs/operators';\nimport {\n    sortObject,\n    pluginMissing,\n    overwriteGetterForCaching,\n    now,\n    PROMISE_RESOLVE_FALSE,\n    RXJS_SHARE_REPLAY_DEFAULTS,\n    ensureNotFalsy,\n    areRxDocumentArraysEqual,\n    appendToArray\n} from './plugins/utils/index.ts';\nimport {\n    newRxError\n} from './rx-error.ts';\nimport {\n    runPluginHooks\n} from './hooks.ts';\nimport type {\n    RxCollection,\n    RxDocument,\n    RxQueryOP,\n    RxQuery,\n    MangoQuery,\n    MangoQuerySortPart,\n    MangoQuerySelector,\n    PreparedQuery,\n    RxChangeEvent,\n    RxDocumentWriteData,\n    RxDocumentData,\n    QueryMatcher,\n    RxJsonSchema,\n    FilledMangoQuery\n} from './types/index.d.ts';\nimport { calculateNewResults } from './event-reduce.ts';\nimport { triggerCacheReplacement } from './query-cache.ts';\nimport { getQueryMatcher, normalizeMangoQuery } from './rx-query-helper.ts';\nimport { RxQuerySingleResult } from './rx-query-single-result.ts';\nimport { getQueryPlan } from './query-planner.ts';\n\nlet _queryCount = 0;\nconst newQueryID = function (): number {\n    return ++_queryCount;\n};\n\nexport class RxQueryBase<\n    RxDocType,\n    RxQueryResult,\n    OrmMethods = {},\n    Reactivity = unknown,\n> {\n\n    public id: number = newQueryID();\n\n    /**\n     * Some stats then are used for debugging and cache replacement policies\n     */\n    public _execOverDatabaseCount: number = 0;\n    public _creationTime = now();\n\n    // used in the query-cache to determine if the RxQuery can be cleaned up.\n    public _lastEnsureEqual = 0;\n\n    public uncached = false;\n\n    // used to count the subscribers to the query\n    public refCount$ = new BehaviorSubject(null);\n\n    public isFindOneByIdQuery: false | string | string[];\n\n\n    /**\n     * Contains the current result state\n     * or null if query has not run yet.\n     */\n    public _result: RxQuerySingleResult<RxDocType> | null = null;\n\n\n    constructor(\n        public op: RxQueryOP,\n        public mangoQuery: Readonly<MangoQuery<RxDocType>>,\n        public collection: RxCollection<RxDocType>,\n        // used by some plugins\n        public other: any = {}\n    ) {\n        if (!mangoQuery) {\n            this.mangoQuery = _getDefaultQuery();\n        }\n\n        this.isFindOneByIdQuery = isFindOneByIdQuery(\n            this.collection.schema.primaryPath as string,\n            mangoQuery\n        );\n    }\n    get $(): BehaviorSubject<RxQueryResult> {\n        if (!this._$) {\n\n            const results$ = this.collection.$.pipe(\n                /**\n                 * Performance shortcut.\n                 * Changes to local documents are not relevant for the query.\n                 */\n                filter(changeEvent => !changeEvent.isLocal),\n                /**\n                 * Start once to ensure the querying also starts\n                 * when there where no changes.\n                 */\n                startWith(null),\n                // ensure query results are up to date.\n                mergeMap(() => _ensureEqual(this as any)),\n                // use the current result set, written by _ensureEqual().\n                map(() => this._result),\n                // do not run stuff above for each new subscriber, only once.\n                shareReplay(RXJS_SHARE_REPLAY_DEFAULTS),\n                // do not proceed if result set has not changed.\n                distinctUntilChanged((prev, curr) => {\n                    if (prev && prev.time === ensureNotFalsy(curr).time) {\n                        return true;\n                    } else {\n                        return false;\n                    }\n                }),\n                filter(result => !!result),\n                /**\n                 * Map the result set to a single RxDocument or an array,\n                 * depending on query type\n                 */\n                map((result) => {\n                    const useResult = ensureNotFalsy(result);\n                    if (this.op === 'count') {\n                        return useResult.count;\n                    } else if (this.op === 'findOne') {\n                        // findOne()-queries emit RxDocument or null\n                        return useResult.documents.length === 0 ? null : useResult.documents[0];\n                    } else if (this.op === 'findByIds') {\n                        return useResult.docsMap;\n                    } else {\n                        // find()-queries emit RxDocument[]\n                        // Flat copy the array so it won't matter if the user modifies it.\n                        return useResult.documents.slice(0);\n                    }\n                })\n            );\n\n            this._$ = merge<any>(\n                results$,\n                /**\n                 * Also add the refCount$ to the query observable\n                 * to allow us to count the amount of subscribers.\n                 */\n                this.refCount$.pipe(\n                    filter(() => false)\n                )\n            );\n        }\n        return this._$ as any;\n    }\n\n    get $$(): Reactivity {\n        const reactivity = this.collection.database.getReactivityFactory();\n        return reactivity.fromObservable(\n            this.$,\n            undefined,\n            this.collection.database\n        );\n    }\n\n    // stores the changeEvent-number of the last handled change-event\n    public _latestChangeEvent: -1 | number = -1;\n\n    // time stamps on when the last full exec over the database has run\n    // used to properly handle events that happen while the find-query is running\n    public _lastExecStart: number = 0;\n    public _lastExecEnd: number = 0;\n\n    /**\n     * ensures that the exec-runs\n     * are not run in parallel\n     */\n    public _ensureEqualQueue: Promise<boolean> = PROMISE_RESOLVE_FALSE;\n\n    /**\n     * Returns an observable that emits the results\n     * This should behave like an rxjs-BehaviorSubject which means:\n     * - Emit the current result-set on subscribe\n     * - Emit the new result-set when an RxChangeEvent comes in\n     * - Do not emit anything before the first result-set was created (no null)\n     */\n    public _$?: Observable<RxQueryResult>;\n\n    /**\n     * set the new result-data as result-docs of the query\n     * @param newResultData json-docs that were received from the storage\n     */\n    _setResultData(newResultData: RxDocumentData<RxDocType>[] | number | Map<string, RxDocumentData<RxDocType>>): void {\n        if (typeof newResultData === 'number') {\n            this._result = new RxQuerySingleResult<RxDocType>(\n                this.collection,\n                [],\n                newResultData\n            );\n            return;\n        } else if (newResultData instanceof Map) {\n            newResultData = Array.from((newResultData as Map<string, RxDocumentData<RxDocType>>).values());\n        }\n\n        const newQueryResult = new RxQuerySingleResult<RxDocType>(\n            this.collection,\n            newResultData,\n            newResultData.length\n        );\n        this._result = newQueryResult;\n    }\n\n    /**\n     * executes the query on the database\n     * @return results-array with document-data\n     */\n    async _execOverDatabase(): Promise<RxDocumentData<RxDocType>[] | number> {\n        this._execOverDatabaseCount = this._execOverDatabaseCount + 1;\n        this._lastExecStart = now();\n\n\n        if (this.op === 'count') {\n            const preparedQuery = this.getPreparedQuery();\n            const result = await this.collection.storageInstance.count(preparedQuery);\n            if (result.mode === 'slow' && !this.collection.database.allowSlowCount) {\n                throw newRxError('QU14', {\n                    collection: this.collection,\n                    queryObj: this.mangoQuery\n                });\n            } else {\n                return result.count;\n            }\n        }\n\n        if (this.op === 'findByIds') {\n            const ids: string[] = ensureNotFalsy(this.mangoQuery.selector as any)[this.collection.schema.primaryPath].$in;\n            const ret = new Map<string, RxDocument<RxDocType>>();\n            const mustBeQueried: string[] = [];\n            // first try to fill from docCache\n            ids.forEach(id => {\n                const docData = this.collection._docCache.getLatestDocumentDataIfExists(id);\n                if (docData) {\n                    if (!docData._deleted) {\n                        const doc = this.collection._docCache.getCachedRxDocument(docData);\n                        ret.set(id, doc);\n                    }\n                } else {\n                    mustBeQueried.push(id);\n                }\n            });\n            // everything which was not in docCache must be fetched from the storage\n            if (mustBeQueried.length > 0) {\n                const docs = await this.collection.storageInstance.findDocumentsById(mustBeQueried, false);\n                docs.forEach(docData => {\n                    const doc = this.collection._docCache.getCachedRxDocument(docData);\n                    ret.set(doc.primary, doc);\n                });\n            }\n            return ret as any;\n        }\n\n\n        const docsPromise = queryCollection<RxDocType>(this as any);\n        return docsPromise.then(docs => {\n            this._lastExecEnd = now();\n            return docs;\n        });\n    }\n\n    /**\n     * Execute the query\n     * To have an easier implementations,\n     * just subscribe and use the first result\n     */\n    public exec(throwIfMissing: true): Promise<RxDocument<RxDocType, OrmMethods, Reactivity>>;\n    public exec(): Promise<RxQueryResult>;\n    public exec(throwIfMissing?: boolean): Promise<any> {\n        if (throwIfMissing && this.op !== 'findOne') {\n            throw newRxError('QU9', {\n                collection: this.collection.name,\n                query: this.mangoQuery,\n                op: this.op\n            });\n        }\n\n\n        /**\n         * run _ensureEqual() here,\n         * this will make sure that errors in the query which throw inside of the RxStorage,\n         * will be thrown at this execution context and not in the background.\n         */\n        return _ensureEqual(this as any)\n            .then(() => firstValueFrom(this.$))\n            .then(result => {\n                if (!result && throwIfMissing) {\n                    throw newRxError('QU10', {\n                        collection: this.collection.name,\n                        query: this.mangoQuery,\n                        op: this.op\n                    });\n                } else {\n                    return result;\n                }\n            });\n    }\n\n\n\n    /**\n     * cached call to get the queryMatcher\n     * @overwrites itself with the actual value\n     */\n    get queryMatcher(): QueryMatcher<RxDocumentWriteData<RxDocType>> {\n        const schema = this.collection.schema.jsonSchema;\n        const normalizedQuery = normalizeMangoQuery(\n            this.collection.schema.jsonSchema,\n            this.mangoQuery\n        );\n        return overwriteGetterForCaching(\n            this,\n            'queryMatcher',\n            getQueryMatcher(\n                schema,\n                normalizedQuery\n            ) as any\n        );\n    }\n\n    /**\n     * returns a string that is used for equal-comparisons\n     * @overwrites itself with the actual value\n     */\n    toString(): string {\n        const stringObj = sortObject({\n            op: this.op,\n            query: this.mangoQuery,\n            other: this.other\n        }, true);\n        const value = JSON.stringify(stringObj);\n        this.toString = () => value;\n        return value;\n    }\n\n    /**\n     * returns the prepared query\n     * which can be send to the storage instance to query for documents.\n     * @overwrites itself with the actual value.\n     */\n    getPreparedQuery(): PreparedQuery<RxDocType> {\n        const hookInput = {\n            rxQuery: this,\n            // can be mutated by the hooks so we have to deep clone first.\n            mangoQuery: normalizeMangoQuery<RxDocType>(\n                this.collection.schema.jsonSchema,\n                this.mangoQuery\n            )\n        };\n        (hookInput.mangoQuery.selector as any)._deleted = { $eq: false };\n        if (hookInput.mangoQuery.index) {\n            hookInput.mangoQuery.index.unshift('_deleted');\n        }\n        runPluginHooks('prePrepareQuery', hookInput);\n\n        const value = prepareQuery(\n            this.collection.schema.jsonSchema,\n            hookInput.mangoQuery as any\n        );\n\n        this.getPreparedQuery = () => value;\n        return value;\n    }\n\n    /**\n     * returns true if the document matches the query,\n     * does not use the 'skip' and 'limit'\n     */\n    doesDocumentDataMatch(docData: RxDocType | any): boolean {\n        // if doc is deleted, it cannot match\n        if (docData._deleted) {\n            return false;\n        }\n\n        return this.queryMatcher(docData);\n    }\n\n    /**\n     * deletes all found documents\n     * @return promise with deleted documents\n     */\n    remove(): Promise<RxQueryResult> {\n        return this\n            .exec()\n            .then(docs => {\n                if (Array.isArray(docs)) {\n                    // TODO use a bulk operation instead of running .remove() on each document\n                    return Promise.all(docs.map(doc => doc.remove()));\n                } else {\n                    return (docs as any).remove();\n                }\n            });\n    }\n\n\n    /**\n     * helper function to transform RxQueryBase to RxQuery type\n     */\n    get asRxQuery(): RxQuery<RxDocType, RxQueryResult> {\n        return this as any;\n    }\n\n    /**\n     * updates all found documents\n     * @overwritten by plugin (optional)\n     */\n    update(_updateObj: any): Promise<RxQueryResult> {\n        throw pluginMissing('update');\n    }\n\n\n    // we only set some methods of query-builder here\n    // because the others depend on these ones\n    where(_queryObj: MangoQuerySelector<RxDocType> | keyof RxDocType | string): RxQuery<RxDocType, RxQueryResult> {\n        throw pluginMissing('query-builder');\n    }\n    sort(_params: string | MangoQuerySortPart<RxDocType>): RxQuery<RxDocType, RxQueryResult> {\n        throw pluginMissing('query-builder');\n    }\n    skip(_amount: number | null): RxQuery<RxDocType, RxQueryResult> {\n        throw pluginMissing('query-builder');\n    }\n    limit(_amount: number | null): RxQuery<RxDocType, RxQueryResult> {\n        throw pluginMissing('query-builder');\n    }\n}\n\nexport function _getDefaultQuery<RxDocType>(): MangoQuery<RxDocType> {\n    return {\n        selector: {}\n    };\n}\n\n/**\n * run this query through the QueryCache\n */\nexport function tunnelQueryCache<RxDocumentType, RxQueryResult>(\n    rxQuery: RxQueryBase<RxDocumentType, RxQueryResult>\n): RxQuery<RxDocumentType, RxQueryResult> {\n    return rxQuery.collection._queryCache.getByQuery(rxQuery as any);\n}\n\nexport function createRxQuery<RxDocType>(\n    op: RxQueryOP,\n    queryObj: MangoQuery<RxDocType>,\n    collection: RxCollection<RxDocType>,\n    other?: any\n) {\n    runPluginHooks('preCreateRxQuery', {\n        op,\n        queryObj,\n        collection,\n        other\n    });\n\n    let ret = new RxQueryBase<RxDocType, any>(op, queryObj, collection, other);\n\n    // ensure when created with same params, only one is created\n    ret = tunnelQueryCache(ret);\n    triggerCacheReplacement(collection);\n\n    return ret;\n}\n\n/**\n * Check if the current results-state is in sync with the database\n * which means that no write event happened since the last run.\n * @return false if not which means it should re-execute\n */\nfunction _isResultsInSync(rxQuery: RxQueryBase<any, any>): boolean {\n    const currentLatestEventNumber = rxQuery.asRxQuery.collection._changeEventBuffer.counter;\n    if (rxQuery._latestChangeEvent >= currentLatestEventNumber) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\n\n/**\n * wraps __ensureEqual()\n * to ensure it does not run in parallel\n * @return true if has changed, false if not\n */\nfunction _ensureEqual(rxQuery: RxQueryBase<any, any>): Promise<boolean> {\n    // Optimisation shortcut\n    if (\n        rxQuery.collection.database.destroyed ||\n        _isResultsInSync(rxQuery)\n    ) {\n        return PROMISE_RESOLVE_FALSE;\n    }\n\n    rxQuery._ensureEqualQueue = rxQuery._ensureEqualQueue\n        .then(() => __ensureEqual(rxQuery));\n    return rxQuery._ensureEqualQueue;\n}\n\n/**\n * ensures that the results of this query is equal to the results which a query over the database would give\n * @return true if results have changed\n */\nfunction __ensureEqual<RxDocType>(rxQuery: RxQueryBase<RxDocType, any>): Promise<boolean> {\n    rxQuery._lastEnsureEqual = now();\n\n    /**\n     * Optimisation shortcuts\n     */\n    if (\n        // db is closed\n        rxQuery.collection.database.destroyed ||\n        // nothing happened since last run\n        _isResultsInSync(rxQuery)\n    ) {\n        return PROMISE_RESOLVE_FALSE;\n    }\n\n    let ret = false;\n    let mustReExec = false; // if this becomes true, a whole execution over the database is made\n    if (rxQuery._latestChangeEvent === -1) {\n        // have not executed yet -> must run\n        mustReExec = true;\n    }\n\n    /**\n     * try to use EventReduce to calculate the new results\n     */\n    if (!mustReExec) {\n        const missedChangeEvents = rxQuery.asRxQuery.collection._changeEventBuffer.getFrom(rxQuery._latestChangeEvent + 1);\n        if (missedChangeEvents === null) {\n            // changeEventBuffer is of bounds -> we must re-execute over the database\n            mustReExec = true;\n        } else {\n            rxQuery._latestChangeEvent = rxQuery.asRxQuery.collection._changeEventBuffer.counter;\n\n            const runChangeEvents: RxChangeEvent<RxDocType>[] = rxQuery.asRxQuery.collection\n                ._changeEventBuffer\n                .reduceByLastOfDoc(missedChangeEvents);\n\n            if (rxQuery.op === 'count') {\n                // 'count' query\n                const previousCount = ensureNotFalsy(rxQuery._result).count;\n                let newCount = previousCount;\n                runChangeEvents.forEach(cE => {\n                    const didMatchBefore = cE.previousDocumentData && rxQuery.doesDocumentDataMatch(cE.previousDocumentData);\n                    const doesMatchNow = rxQuery.doesDocumentDataMatch(cE.documentData);\n\n                    if (!didMatchBefore && doesMatchNow) {\n                        newCount++;\n                    }\n                    if (didMatchBefore && !doesMatchNow) {\n                        newCount--;\n                    }\n                });\n                if (newCount !== previousCount) {\n                    ret = true; // true because results changed\n                    rxQuery._setResultData(newCount as any);\n                }\n            } else {\n                // 'find' or 'findOne' query\n                const eventReduceResult = calculateNewResults(\n                    rxQuery as any,\n                    runChangeEvents\n                );\n                if (eventReduceResult.runFullQueryAgain) {\n                    // could not calculate the new results, execute must be done\n                    mustReExec = true;\n                } else if (eventReduceResult.changed) {\n                    // we got the new results, we do not have to re-execute, mustReExec stays false\n                    ret = true; // true because results changed\n                    rxQuery._setResultData(eventReduceResult.newResults as any);\n                }\n            }\n        }\n    }\n\n    // oh no we have to re-execute the whole query over the database\n    if (mustReExec) {\n        return rxQuery._execOverDatabase()\n            .then(newResultData => {\n\n                /**\n                 * The RxStorage is defined to always first emit events and then return\n                 * on bulkWrite() calls. So here we have to use the counter AFTER the execOverDatabase()\n                 * has been run, not the one from before.\n                 */\n                rxQuery._latestChangeEvent = rxQuery.collection._changeEventBuffer.counter;\n\n                // A count query needs a different has-changed check.\n                if (typeof newResultData === 'number') {\n                    if (\n                        !rxQuery._result ||\n                        newResultData !== rxQuery._result.count\n                    ) {\n                        ret = true;\n                        rxQuery._setResultData(newResultData as any);\n                    }\n                    return ret;\n                }\n                if (\n                    !rxQuery._result ||\n                    !areRxDocumentArraysEqual(\n                        rxQuery.collection.schema.primaryPath,\n                        newResultData,\n                        rxQuery._result.docsData\n                    )\n                ) {\n                    ret = true; // true because results changed\n                    rxQuery._setResultData(newResultData as any);\n                }\n                return ret;\n            });\n    }\n    return Promise.resolve(ret); // true if results have changed\n}\n\n/**\n * @returns a format of the query that can be used with the storage\n * when calling RxStorageInstance().query()\n */\nexport function prepareQuery<RxDocType>(\n    schema: RxJsonSchema<RxDocumentData<RxDocType>>,\n    mutateableQuery: FilledMangoQuery<RxDocType>\n): PreparedQuery<RxDocType> {\n    if (!mutateableQuery.sort) {\n        throw newRxError('SNH', {\n            query: mutateableQuery\n        });\n    }\n\n    /**\n     * Store the query plan together with the\n     * prepared query to save performance.\n     */\n    const queryPlan = getQueryPlan(\n        schema,\n        mutateableQuery\n    );\n\n    return {\n        query: mutateableQuery,\n        queryPlan\n    };\n}\n\n/**\n * Runs the query over the storage instance\n * of the collection.\n * Does some optimizations to ensure findById is used\n * when specific queries are used.\n */\nexport async function queryCollection<RxDocType>(\n    rxQuery: RxQuery<RxDocType> | RxQueryBase<RxDocType, any>\n): Promise<RxDocumentData<RxDocType>[]> {\n    let docs: RxDocumentData<RxDocType>[] = [];\n    const collection = rxQuery.collection;\n\n    /**\n     * Optimizations shortcut.\n     * If query is find-one-document-by-id,\n     * then we do not have to use the slow query() method\n     * but instead can use findDocumentsById()\n     */\n    if (rxQuery.isFindOneByIdQuery) {\n        if (Array.isArray(rxQuery.isFindOneByIdQuery)) {\n            let docIds = rxQuery.isFindOneByIdQuery;\n            docIds = docIds.filter(docId => {\n                // first try to fill from docCache\n                const docData = rxQuery.collection._docCache.getLatestDocumentDataIfExists(docId);\n                if (docData) {\n                    if (!docData._deleted) {\n                        docs.push(docData);\n                    }\n                    return false;\n                } else {\n                    return true;\n                }\n            });\n            // otherwise get from storage\n            if (docIds.length > 0) {\n                const docsFromStorage = await collection.storageInstance.findDocumentsById(docIds, false);\n                appendToArray(docs, docsFromStorage);\n            }\n        } else {\n            const docId = rxQuery.isFindOneByIdQuery;\n\n            // first try to fill from docCache\n            let docData = rxQuery.collection._docCache.getLatestDocumentDataIfExists(docId);\n            if (!docData) {\n                // otherwise get from storage\n                const fromStorageList = await collection.storageInstance.findDocumentsById([docId], false);\n                if (fromStorageList[0]) {\n                    docData = fromStorageList[0];\n                }\n            }\n            if (docData && !docData._deleted) {\n                docs.push(docData);\n            }\n        }\n    } else {\n        const preparedQuery = rxQuery.getPreparedQuery();\n        const queryResult = await collection.storageInstance.query(preparedQuery);\n        docs = queryResult.documents;\n    }\n    return docs;\n\n}\n\n/**\n * Returns true if the given query\n * selects exactly one document by its id.\n * Used to optimize performance because these kind of\n * queries do not have to run over an index and can use get-by-id instead.\n * Returns false if no query of that kind.\n * Returns the document id otherwise.\n */\nexport function isFindOneByIdQuery(\n    primaryPath: string,\n    query: MangoQuery<any>\n): false | string | string[] {\n    // must have exactly one operator which must be $eq || $in\n    if (\n        !query.skip &&\n        query.selector &&\n        Object.keys(query.selector).length === 1 &&\n        query.selector[primaryPath]\n    ) {\n        const value: any = query.selector[primaryPath];\n        if (typeof value === 'string') {\n            return value;\n        } else if (\n            Object.keys(value).length === 1 &&\n            typeof value.$eq === 'string'\n        ) {\n            return value.$eq;\n        }\n\n        // same with $in string arrays\n        if (\n            Object.keys(value).length === 1 &&\n            Array.isArray(value.$eq) &&\n            // must only contain strings\n            !(value.$eq as any[]).find(r => typeof r !== 'string')\n        ) {\n            return value.$eq;\n        }\n    }\n    return false;\n}\n\n\n\nexport function isRxQuery(obj: any): boolean {\n    return obj instanceof RxQueryBase;\n}\n","import { Observable } from './Observable';\nimport { EmptyError } from './util/EmptyError';\nimport { SafeSubscriber } from './Subscriber';\n\nexport interface FirstValueFromConfig<T> {\n  defaultValue: T;\n}\n\nexport function firstValueFrom<T, D>(source: Observable<T>, config: FirstValueFromConfig<D>): Promise<T | D>;\nexport function firstValueFrom<T>(source: Observable<T>): Promise<T>;\n\n/**\n * Converts an observable to a promise by subscribing to the observable,\n * and returning a promise that will resolve as soon as the first value\n * arrives from the observable. The subscription will then be closed.\n *\n * If the observable stream completes before any values were emitted, the\n * returned promise will reject with {@link EmptyError} or will resolve\n * with the default value if a default was specified.\n *\n * If the observable stream emits an error, the returned promise will reject\n * with that error.\n *\n * **WARNING**: Only use this with observables you *know* will emit at least one value,\n * *OR* complete. If the source observable does not emit one value or complete, you will\n * end up with a promise that is hung up, and potentially all of the state of an\n * async function hanging out in memory. To avoid this situation, look into adding\n * something like {@link timeout}, {@link take}, {@link takeWhile}, or {@link takeUntil}\n * amongst others.\n *\n * ## Example\n *\n * Wait for the first value from a stream and emit it from a promise in\n * an async function\n *\n * ```ts\n * import { interval, firstValueFrom } from 'rxjs';\n *\n * async function execute() {\n *   const source$ = interval(2000);\n *   const firstNumber = await firstValueFrom(source$);\n *   console.log(`The first number is ${ firstNumber }`);\n * }\n *\n * execute();\n *\n * // Expected output:\n * // 'The first number is 0'\n * ```\n *\n * @see {@link lastValueFrom}\n *\n * @param source the observable to convert to a promise\n * @param config a configuration object to define the `defaultValue` to use if the source completes without emitting a value\n */\nexport function firstValueFrom<T, D>(source: Observable<T>, config?: FirstValueFromConfig<D>): Promise<T | D> {\n  const hasConfig = typeof config === 'object';\n  return new Promise<T | D>((resolve, reject) => {\n    const subscriber = new SafeSubscriber<T>({\n      next: (value) => {\n        resolve(value);\n        subscriber.unsubscribe();\n      },\n      error: reject,\n      complete: () => {\n        if (hasConfig) {\n          resolve(config!.defaultValue);\n        } else {\n          reject(new EmptyError());\n        }\n      },\n    });\n    source.subscribe(subscriber);\n  });\n}\n","import { Observable } from '../Observable';\nimport { ObservableInput, ObservableInputTuple, SchedulerLike } from '../types';\nimport { mergeAll } from '../operators/mergeAll';\nimport { innerFrom } from './innerFrom';\nimport { EMPTY } from './empty';\nimport { popNumber, popScheduler } from '../util/args';\nimport { from } from './from';\n\nexport function merge<A extends readonly unknown[]>(...sources: [...ObservableInputTuple<A>]): Observable<A[number]>;\nexport function merge<A extends readonly unknown[]>(...sourcesAndConcurrency: [...ObservableInputTuple<A>, number?]): Observable<A[number]>;\n/** @deprecated The `scheduler` parameter will be removed in v8. Use `scheduled` and `mergeAll`. Details: https://rxjs.dev/deprecations/scheduler-argument */\nexport function merge<A extends readonly unknown[]>(\n  ...sourcesAndScheduler: [...ObservableInputTuple<A>, SchedulerLike?]\n): Observable<A[number]>;\n/** @deprecated The `scheduler` parameter will be removed in v8. Use `scheduled` and `mergeAll`. Details: https://rxjs.dev/deprecations/scheduler-argument */\nexport function merge<A extends readonly unknown[]>(\n  ...sourcesAndConcurrencyAndScheduler: [...ObservableInputTuple<A>, number?, SchedulerLike?]\n): Observable<A[number]>;\n\n/**\n * Creates an output Observable which concurrently emits all values from every\n * given input Observable.\n *\n * <span class=\"informal\">Flattens multiple Observables together by blending\n * their values into one Observable.</span>\n *\n * ![](merge.png)\n *\n * `merge` subscribes to each given input Observable (as arguments), and simply\n * forwards (without doing any transformation) all the values from all the input\n * Observables to the output Observable. The output Observable only completes\n * once all input Observables have completed. Any error delivered by an input\n * Observable will be immediately emitted on the output Observable.\n *\n * ## Examples\n *\n * Merge together two Observables: 1s interval and clicks\n *\n * ```ts\n * import { merge, fromEvent, interval } from 'rxjs';\n *\n * const clicks = fromEvent(document, 'click');\n * const timer = interval(1000);\n * const clicksOrTimer = merge(clicks, timer);\n * clicksOrTimer.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // timer will emit ascending values, one every second(1000ms) to console\n * // clicks logs MouseEvents to console every time the \"document\" is clicked\n * // Since the two streams are merged you see these happening\n * // as they occur.\n * ```\n *\n * Merge together 3 Observables, but run only 2 concurrently\n *\n * ```ts\n * import { interval, take, merge } from 'rxjs';\n *\n * const timer1 = interval(1000).pipe(take(10));\n * const timer2 = interval(2000).pipe(take(6));\n * const timer3 = interval(500).pipe(take(10));\n *\n * const concurrent = 2; // the argument\n * const merged = merge(timer1, timer2, timer3, concurrent);\n * merged.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // - First timer1 and timer2 will run concurrently\n * // - timer1 will emit a value every 1000ms for 10 iterations\n * // - timer2 will emit a value every 2000ms for 6 iterations\n * // - after timer1 hits its max iteration, timer2 will\n * //   continue, and timer3 will start to run concurrently with timer2\n * // - when timer2 hits its max iteration it terminates, and\n * //   timer3 will continue to emit a value every 500ms until it is complete\n * ```\n *\n * @see {@link mergeAll}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n *\n * @param {...ObservableInput} observables Input Observables to merge together.\n * @param {number} [concurrent=Infinity] Maximum number of input\n * Observables being subscribed to concurrently.\n * @param {SchedulerLike} [scheduler=null] The {@link SchedulerLike} to use for managing\n * concurrency of input Observables.\n * @return {Observable} an Observable that emits items that are the result of\n * every input Observable.\n */\nexport function merge(...args: (ObservableInput<unknown> | number | SchedulerLike)[]): Observable<unknown> {\n  const scheduler = popScheduler(args);\n  const concurrent = popNumber(args, Infinity);\n  const sources = args as ObservableInput<unknown>[];\n  return !sources.length\n    ? // No source provided\n      EMPTY\n    : sources.length === 1\n    ? // One source? Just return it.\n      innerFrom(sources[0])\n    : // Merge all sources\n      mergeAll(concurrent)(from(sources, scheduler));\n}\n","import {\n    isBulkWriteConflictError,\n    newRxError\n} from './rx-error.ts';\nimport {\n    fillWithDefaultSettings,\n    getComposedPrimaryKeyOfDocumentData\n} from './rx-schema-helper.ts';\nimport { getSingleDocument, writeSingle } from './rx-storage-helper.ts';\nimport type {\n    CollectionsOfDatabase,\n    InternalStoreCollectionDocType,\n    InternalStoreDocType,\n    InternalStoreStorageTokenDocType,\n    RxCollection,\n    RxDatabase,\n    RxDocumentData,\n    RxJsonSchema,\n    RxStorageInstance,\n    RxStorageWriteErrorConflict\n} from './types/index.d.ts';\nimport {\n    clone,\n    ensureNotFalsy,\n    getDefaultRevision,\n    getDefaultRxDocumentMeta,\n    randomCouchString\n} from './plugins/utils/index.ts';\nimport { prepareQuery } from './rx-query.ts';\n\nexport const INTERNAL_CONTEXT_COLLECTION = 'collection';\nexport const INTERNAL_CONTEXT_STORAGE_TOKEN = 'storage-token';\nexport const INTERNAL_CONTEXT_MIGRATION_STATUS = 'rx-migration-status';\n\n/**\n * Do not change the title,\n * we have to flag the internal schema so that\n * some RxStorage implementations are able\n * to detect if the created RxStorageInstance\n * is from the internals or not,\n * to do some optimizations in some cases.\n */\nexport const INTERNAL_STORE_SCHEMA_TITLE = 'RxInternalDocument';\n\nexport const INTERNAL_STORE_SCHEMA: RxJsonSchema<RxDocumentData<InternalStoreDocType<any>>> = fillWithDefaultSettings({\n    version: 0,\n    title: INTERNAL_STORE_SCHEMA_TITLE,\n    primaryKey: {\n        key: 'id',\n        fields: [\n            'context',\n            'key'\n        ],\n        separator: '|'\n    },\n    type: 'object',\n    properties: {\n        id: {\n            type: 'string',\n            maxLength: 200\n        },\n        key: {\n            type: 'string'\n        },\n        context: {\n            type: 'string',\n            enum: [\n                INTERNAL_CONTEXT_COLLECTION,\n                INTERNAL_CONTEXT_STORAGE_TOKEN,\n                INTERNAL_CONTEXT_MIGRATION_STATUS,\n                'OTHER'\n            ]\n        },\n        data: {\n            type: 'object',\n            additionalProperties: true\n        }\n    },\n    indexes: [],\n    required: [\n        'key',\n        'context',\n        'data'\n    ],\n    additionalProperties: false,\n    /**\n     * If the sharding plugin is used,\n     * it must not shard on the internal RxStorageInstance\n     * because that one anyway has only a small amount of documents\n     * and also its creation is in the hot path of the initial page load,\n     * so we should spend less time creating multiple RxStorageInstances.\n     */\n    sharding: {\n        shards: 1,\n        mode: 'collection'\n    }\n});\n\n\nexport function getPrimaryKeyOfInternalDocument(\n    key: string,\n    context: string\n): string {\n    return getComposedPrimaryKeyOfDocumentData<InternalStoreDocType>(\n        INTERNAL_STORE_SCHEMA,\n        {\n            key,\n            context\n        }\n    );\n}\n\n/**\n * Returns all internal documents\n * with context 'collection'\n */\nexport async function getAllCollectionDocuments(\n    storageInstance: RxStorageInstance<InternalStoreDocType<any>, any, any>\n): Promise<RxDocumentData<InternalStoreCollectionDocType>[]> {\n    const getAllQueryPrepared = prepareQuery<InternalStoreDocType<any>>(\n        storageInstance.schema,\n        {\n            selector: {\n                context: INTERNAL_CONTEXT_COLLECTION,\n                _deleted: {\n                    $eq: false\n                }\n            },\n            sort: [{ id: 'asc' }],\n            skip: 0\n        }\n    );\n    const queryResult = await storageInstance.query(getAllQueryPrepared);\n    const allDocs = queryResult.documents;\n    return allDocs;\n}\n\n/**\n * to not confuse multiInstance-messages with other databases that have the same\n * name and adapter, but do not share state with this one (for example in-memory-instances),\n * we set a storage-token and use it in the broadcast-channel\n */\nexport const STORAGE_TOKEN_DOCUMENT_KEY = 'storageToken';\n\nexport const STORAGE_TOKEN_DOCUMENT_ID = getPrimaryKeyOfInternalDocument(\n    STORAGE_TOKEN_DOCUMENT_KEY,\n    INTERNAL_CONTEXT_STORAGE_TOKEN\n);\n\nexport async function ensureStorageTokenDocumentExists<Collections extends CollectionsOfDatabase = any>(\n    rxDatabase: RxDatabase<Collections>\n): Promise<RxDocumentData<InternalStoreStorageTokenDocType>> {\n\n    /**\n     * To have less read-write cycles,\n     * we just try to insert a new document\n     * and only fetch the existing one if a conflict happened.\n     */\n    const storageToken = randomCouchString(10);\n\n    const passwordHash = rxDatabase.password ?\n        await rxDatabase.hashFunction(JSON.stringify(rxDatabase.password)) :\n        undefined;\n\n    const docData: RxDocumentData<InternalStoreStorageTokenDocType> = {\n        id: STORAGE_TOKEN_DOCUMENT_ID,\n        context: INTERNAL_CONTEXT_STORAGE_TOKEN,\n        key: STORAGE_TOKEN_DOCUMENT_KEY,\n        data: {\n            rxdbVersion: rxDatabase.rxdbVersion,\n            token: storageToken,\n            /**\n             * We add the instance token here\n             * to be able to detect if a given RxDatabase instance\n             * is the first instance that was ever created\n             * or if databases have existed earlier on that storage\n             * with the same database name.\n             */\n            instanceToken: rxDatabase.token,\n            passwordHash\n        },\n        _deleted: false,\n        _meta: getDefaultRxDocumentMeta(),\n        _rev: getDefaultRevision(),\n        _attachments: {}\n    };\n\n    const writeResult = await rxDatabase.internalStore.bulkWrite(\n        [{ document: docData }],\n        'internal-add-storage-token'\n    );\n    if (writeResult.success[0]) {\n        return writeResult.success[0];\n    }\n\n    /**\n     * If we get a 409 error,\n     * it means another instance already inserted the storage token.\n     * So we get that token from the database and return that one.\n     */\n    const error = ensureNotFalsy(writeResult.error[0]);\n    if (\n        error.isError &&\n        isBulkWriteConflictError(error)\n    ) {\n        const conflictError = (error as RxStorageWriteErrorConflict<InternalStoreStorageTokenDocType>);\n\n        if (\n            !isDatabaseStateVersionCompatibleWithDatabaseCode(\n                conflictError.documentInDb.data.rxdbVersion,\n                rxDatabase.rxdbVersion\n            )\n        ) {\n            throw newRxError('DM5', {\n                args: {\n                    database: rxDatabase.name,\n                    databaseStateVersion: conflictError.documentInDb.data.rxdbVersion,\n                    codeVersion: rxDatabase.rxdbVersion\n                }\n            });\n        }\n\n        if (\n            passwordHash &&\n            passwordHash !== conflictError.documentInDb.data.passwordHash\n        ) {\n            throw newRxError('DB1', {\n                passwordHash,\n                existingPasswordHash: conflictError.documentInDb.data.passwordHash\n            });\n        }\n\n        const storageTokenDocInDb = conflictError.documentInDb;\n        return ensureNotFalsy(storageTokenDocInDb);\n    }\n    throw error;\n}\n\n\nexport function isDatabaseStateVersionCompatibleWithDatabaseCode(\n    databaseStateVersion: string,\n    codeVersion: string\n): boolean {\n    if (!databaseStateVersion) {\n        return false;\n    }\n\n    if (\n        codeVersion.includes('beta') &&\n        codeVersion !== databaseStateVersion\n    ) {\n        return false;\n    }\n\n    const stateMajor = databaseStateVersion.split('.')[0];\n    const codeMajor = codeVersion.split('.')[0];\n    if (stateMajor !== codeMajor) {\n        return false;\n    }\n    return true;\n}\n\n\n\n\n\nexport async function addConnectedStorageToCollection(\n    collection: RxCollection<any>,\n    storageCollectionName: string,\n    schema: RxJsonSchema<any>\n) {\n\n    if (collection.schema.version !== schema.version) {\n        throw newRxError('SNH', {\n            schema,\n            version: collection.schema.version,\n            name: collection.name,\n            collection,\n            args: {\n                storageCollectionName\n            }\n        });\n    }\n\n    const collectionNameWithVersion = _collectionNamePrimary(collection.name, collection.schema.jsonSchema);\n    const collectionDocId = getPrimaryKeyOfInternalDocument(\n        collectionNameWithVersion,\n        INTERNAL_CONTEXT_COLLECTION\n    );\n\n    while (true) {\n        const collectionDoc = await getSingleDocument(\n            collection.database.internalStore,\n            collectionDocId\n        );\n        const saveData: RxDocumentData<InternalStoreCollectionDocType> = clone(ensureNotFalsy(collectionDoc));\n\n        // do nothing if already in array\n        const alreadyThere = saveData.data.connectedStorages\n            .find(row => row.collectionName === storageCollectionName && row.schema.version === schema.version);\n        if (alreadyThere) {\n            return;\n        }\n\n        // otherwise add to array and save\n        saveData.data.connectedStorages.push({\n            collectionName: storageCollectionName,\n            schema\n        });\n        try {\n            await writeSingle(\n                collection.database.internalStore,\n                {\n                    previous: ensureNotFalsy(collectionDoc),\n                    document: saveData\n                },\n                'add-connected-storage-to-collection'\n            );\n        } catch (err) {\n            if (!isBulkWriteConflictError(err)) {\n                throw err;\n            }\n            // retry on conflict\n        }\n    }\n}\n\nexport async function removeConnectedStorageFromCollection(\n    collection: RxCollection<any>,\n    storageCollectionName: string,\n    schema: RxJsonSchema<any>\n) {\n    if (collection.schema.version !== schema.version) {\n        throw newRxError('SNH', {\n            schema,\n            version: collection.schema.version,\n            name: collection.name,\n            collection,\n            args: {\n                storageCollectionName\n            }\n        });\n    }\n\n    const collectionNameWithVersion = _collectionNamePrimary(collection.name, collection.schema.jsonSchema);\n    const collectionDocId = getPrimaryKeyOfInternalDocument(\n        collectionNameWithVersion,\n        INTERNAL_CONTEXT_COLLECTION\n    );\n\n    while (true) {\n        const collectionDoc = await getSingleDocument(\n            collection.database.internalStore,\n            collectionDocId\n        );\n        const saveData: RxDocumentData<InternalStoreCollectionDocType> = clone(ensureNotFalsy(collectionDoc));\n\n        // do nothing if not there\n        const isThere = saveData.data.connectedStorages\n            .find(row => row.collectionName === storageCollectionName && row.schema.version === schema.version);\n        if (!isThere) {\n            return;\n        }\n\n        // otherwise remove from array and save\n        saveData.data.connectedStorages = saveData.data.connectedStorages.filter(item => item.collectionName !== storageCollectionName);\n        try {\n            await writeSingle(\n                collection.database.internalStore,\n                {\n                    previous: ensureNotFalsy(collectionDoc),\n                    document: saveData\n                },\n                'remove-connected-storage-from-collection'\n            );\n        } catch (err) {\n            if (!isBulkWriteConflictError(err)) {\n                throw err;\n            }\n            // retry on conflict\n        }\n    }\n}\n\n\n\n/**\n * returns the primary for a given collection-data\n * used in the internal store of a RxDatabase\n */\nexport function _collectionNamePrimary(name: string, schema: RxJsonSchema<any>) {\n    return name + '-' + schema.version;\n}\n","import type {\n    HashFunction,\n    InternalStoreDocType,\n    RxDatabase,\n    RxDocumentData,\n    RxJsonSchema,\n    RxStorage,\n    RxStorageInstance,\n    RxStorageInstanceCreationParams\n} from './types/index.d.ts';\nimport {\n    createRevision,\n    flatClone,\n    getDefaultRevision,\n    getDefaultRxDocumentMeta,\n    now\n} from './plugins/utils/index.ts';\nimport {\n    fillObjectWithDefaults,\n    fillPrimaryKey\n} from './rx-schema-helper.ts';\nimport type { RxSchema } from './rx-schema.ts';\nimport { runAsyncPluginHooks } from './hooks.ts';\nimport { getAllCollectionDocuments } from './rx-database-internal-store.ts';\nimport { flatCloneDocWithMeta } from './rx-storage-helper.ts';\nimport { overwritable } from './overwritable.ts';\n\n/**\n * fills in the default data.\n * This also clones the data.\n */\nexport function fillObjectDataBeforeInsert<RxDocType>(\n    schema: RxSchema<RxDocType>,\n    data: Partial<RxDocumentData<RxDocType>> | any\n): RxDocumentData<RxDocType> {\n    data = flatClone(data);\n    data = fillObjectWithDefaults(schema, data);\n    data = fillPrimaryKey(\n        schema.primaryPath,\n        schema.jsonSchema,\n        data\n    );\n    data._meta = getDefaultRxDocumentMeta();\n    if (!Object.prototype.hasOwnProperty.call(data, '_deleted')) {\n        data._deleted = false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(data, '_attachments')) {\n        data._attachments = {};\n    }\n    if (!Object.prototype.hasOwnProperty.call(data, '_rev')) {\n        data._rev = getDefaultRevision();\n    }\n    return data;\n}\n\n/**\n * Creates the storage instances that are used internally in the collection\n */\nexport async function createRxCollectionStorageInstance<RxDocumentType, Internals, InstanceCreationOptions>(\n    rxDatabase: RxDatabase<{}, Internals, InstanceCreationOptions>,\n    storageInstanceCreationParams: RxStorageInstanceCreationParams<RxDocumentType, InstanceCreationOptions>\n): Promise<RxStorageInstance<RxDocumentType, Internals, InstanceCreationOptions>> {\n    storageInstanceCreationParams.multiInstance = rxDatabase.multiInstance;\n    const storageInstance = await rxDatabase.storage.createStorageInstance<RxDocumentType>(\n        storageInstanceCreationParams\n    );\n    return storageInstance;\n}\n\n/**\n * Removes the main storage of the collection\n * and all connected storages like the ones from the replication meta etc.\n */\nexport async function removeCollectionStorages(\n    storage: RxStorage<any, any>,\n    databaseInternalStorage: RxStorageInstance<InternalStoreDocType<any>, any, any>,\n    databaseInstanceToken: string,\n    databaseName: string,\n    collectionName: string,\n    password?: string,\n    /**\n     * If no hash function is provided,\n     * we assume that the whole internal store is removed anyway\n     * so we do not have to delete the meta documents.\n     */\n    hashFunction?: HashFunction,\n) {\n    const allCollectionMetaDocs = await getAllCollectionDocuments(\n        databaseInternalStorage\n    );\n    const relevantCollectionMetaDocs = allCollectionMetaDocs\n        .filter(metaDoc => metaDoc.data.name === collectionName);\n\n    let removeStorages: {\n        collectionName: string;\n        schema: RxJsonSchema<any>;\n        isCollection: boolean;\n    }[] = [];\n    relevantCollectionMetaDocs.forEach(metaDoc => {\n        removeStorages.push({\n            collectionName: metaDoc.data.name,\n            schema: metaDoc.data.schema,\n            isCollection: true\n        });\n        metaDoc.data.connectedStorages.forEach(row => removeStorages.push({\n            collectionName: row.collectionName,\n            isCollection: false,\n            schema: row.schema\n        }));\n    });\n\n    // ensure uniqueness\n    const alreadyAdded = new Set<string>();\n    removeStorages = removeStorages.filter(row => {\n        const key = row.collectionName + '||' + row.schema.version;\n        if (alreadyAdded.has(key)) {\n            return false;\n        } else {\n            alreadyAdded.add(key);\n            return true;\n        }\n    });\n\n    // remove all the storages\n    await Promise.all(\n        removeStorages\n            .map(async (row) => {\n                const storageInstance = await storage.createStorageInstance<any>({\n                    collectionName: row.collectionName,\n                    databaseInstanceToken,\n                    databaseName,\n                    multiInstance: false,\n                    options: {},\n                    schema: row.schema,\n                    password,\n                    devMode: overwritable.isDevMode()\n                });\n                await storageInstance.remove();\n                if (row.isCollection) {\n                    await runAsyncPluginHooks('postRemoveRxCollection', {\n                        storage,\n                        databaseName: databaseName,\n                        collectionName\n                    });\n                }\n            })\n    );\n\n    // remove the meta documents\n    if (hashFunction) {\n        const writeRows = relevantCollectionMetaDocs.map(doc => {\n            const writeDoc = flatCloneDocWithMeta(doc);\n            writeDoc._deleted = true;\n            writeDoc._meta.lwt = now();\n            writeDoc._rev = createRevision(\n                databaseInstanceToken,\n                doc\n            );\n            return {\n                previous: doc,\n                document: writeDoc\n            };\n        });\n        await databaseInternalStorage.bulkWrite(\n            writeRows,\n            'rx-database-remove-collection-all'\n        );\n    }\n}\n","/**\n * a buffer-cache which holds the last X changeEvents of the collection\n */\nimport {\n    Subscription\n} from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport type {\n    RxChangeEvent,\n    RxCollection\n} from './types/index.d.ts';\n\nexport class ChangeEventBuffer<RxDocType> {\n    private subs: Subscription[] = [];\n    public limit: number = 100;\n    public counter: number = 0;\n    private eventCounterMap: WeakMap<\n        RxChangeEvent<RxDocType>, number\n    > = new WeakMap();\n\n    /**\n     * array with changeEvents\n     * starts with oldest known event, ends with newest\n     */\n    public buffer: RxChangeEvent<RxDocType>[] = [];\n\n    constructor(\n        public collection: RxCollection\n    ) {\n        this.subs.push(\n            this.collection.$.pipe(\n                filter(cE => !cE.isLocal)\n            ).subscribe((cE: any) => this._handleChangeEvent(cE))\n        );\n    }\n\n    _handleChangeEvent(changeEvent: RxChangeEvent<RxDocType>) {\n        this.counter++;\n        this.buffer.push(changeEvent);\n        this.eventCounterMap.set(changeEvent, this.counter);\n        while (this.buffer.length > this.limit) {\n            this.buffer.shift();\n        }\n    }\n\n    /**\n     * gets the array-index for the given pointer\n     * @return arrayIndex which can be used to iterate from there. If null, pointer is out of lower bound\n     */\n    getArrayIndexByPointer(pointer: number): number | null {\n        const oldestEvent = this.buffer[0];\n        const oldestCounter = this.eventCounterMap.get(\n            oldestEvent\n        ) as number;\n\n        if (pointer < oldestCounter)\n            return null; // out of bounds\n\n        const rest = pointer - oldestCounter;\n        return rest;\n    }\n\n    /**\n     * get all changeEvents which came in later than the pointer-event\n     * @return array with change-events. If null, pointer out of bounds\n     */\n    getFrom(pointer: number): RxChangeEvent<RxDocType>[] | null {\n        const ret = [];\n        let currentIndex = this.getArrayIndexByPointer(pointer);\n        if (currentIndex === null) // out of bounds\n            return null;\n\n        while (true) {\n            const nextEvent = this.buffer[currentIndex];\n            currentIndex++;\n            if (!nextEvent) {\n                return ret;\n            } else {\n                ret.push(nextEvent);\n            }\n        }\n    }\n\n    runFrom(pointer: number, fn: Function) {\n        const ret = this.getFrom(pointer);\n        if (ret === null) {\n            throw new Error('out of bounds');\n        } else {\n            ret.forEach(cE => fn(cE));\n        }\n    }\n\n    /**\n     * no matter how many operations are done on one document,\n     * only the last operation has to be checked to calculate the new state\n     * this function reduces the events to the last ChangeEvent of each doc\n     */\n    reduceByLastOfDoc(changeEvents: RxChangeEvent<RxDocType>[]): RxChangeEvent<RxDocType>[] {\n        return changeEvents.slice(0);\n        // TODO the old implementation was wrong\n        // because it did not correctly reassigned the previousData of the changeevents\n        // this should be added to the event-reduce library and not be done in RxDB\n        const docEventMap: any = {};\n        changeEvents.forEach(changeEvent => {\n            docEventMap[changeEvent.documentId] = changeEvent;\n        });\n        return Object.values(docEventMap);\n    }\n\n    destroy() {\n        this.subs.forEach(sub => sub.unsubscribe());\n    }\n}\n\nexport function createChangeEventBuffer<RxdocType>(\n    collection: RxCollection<RxdocType, any>\n) {\n    return new ChangeEventBuffer<RxdocType>(collection);\n}\n","/**\n * For the ORM capabilities,\n * we have to merge the document prototype\n * with the ORM functions and the data\n * We do this iterating over the properties and\n * adding them to a new object.\n * In the future we should do this by chaining the __proto__ objects\n */\n\nimport type {\n    RxCollection,\n    RxDocument,\n    RxDocumentData\n} from './types/index.d.ts';\nimport {\n    createRxDocumentConstructor,\n    basePrototype,\n    createWithConstructor as createRxDocumentWithConstructor\n} from './rx-document.ts';\nimport {\n    runPluginHooks\n} from './hooks.ts';\nimport { overwritable } from './overwritable.ts';\nimport { getFromMapOrCreate } from './plugins/utils/index.ts';\n\nconst constructorForCollection = new WeakMap();\n\nexport function getDocumentPrototype(\n    rxCollection: RxCollection\n): any {\n    const schemaProto = rxCollection.schema.getDocumentPrototype();\n    const ormProto = getDocumentOrmPrototype(rxCollection);\n    const baseProto = basePrototype;\n    const proto = {};\n    [\n        schemaProto,\n        ormProto,\n        baseProto\n    ].forEach(obj => {\n        const props = Object.getOwnPropertyNames(obj);\n        props.forEach(key => {\n            const desc: any = Object.getOwnPropertyDescriptor(obj, key);\n\n\n            /**\n             * When enumerable is true, it will show on console dir(instance)\n             * To not pollute the output, only getters and methods are enumerable\n             */\n            let enumerable = true;\n            if (\n                key.startsWith('_') ||\n                key.endsWith('_') ||\n                key.startsWith('$') ||\n                key.endsWith('$')\n            ) enumerable = false;\n\n            if (typeof desc.value === 'function') {\n                // when getting a function, we automatically do a .bind(this)\n                Object.defineProperty(proto, key, {\n                    get() {\n                        return desc.value.bind(this);\n                    },\n                    enumerable,\n                    configurable: false\n                });\n\n            } else {\n                desc.enumerable = enumerable;\n                desc.configurable = false;\n                if (desc.writable)\n                    desc.writable = false;\n                Object.defineProperty(proto, key, desc);\n            }\n        });\n    });\n    return proto;\n}\n\nexport function getRxDocumentConstructor<RxDocType, ORM>(\n    rxCollection: RxCollection<RxDocType, ORM>\n) {\n    return getFromMapOrCreate(\n        constructorForCollection,\n        rxCollection,\n        () => createRxDocumentConstructor(\n            getDocumentPrototype(rxCollection as any)\n        )\n    );\n}\n\n/**\n * Create a RxDocument-instance from the jsonData\n * and the prototype merge.\n * You should never call this method directly,\n * instead you should get the document from collection._docCache.getCachedRxDocument().\n */\nexport function createNewRxDocument<RxDocType, ORM, Reactivity>(\n    rxCollection: RxCollection<RxDocType, ORM, any, any, Reactivity>,\n    docData: RxDocumentData<RxDocType>\n): RxDocument<RxDocType, ORM, Reactivity> {\n    const doc = createRxDocumentWithConstructor(\n        getRxDocumentConstructor(rxCollection),\n        rxCollection as any,\n        overwritable.deepFreezeWhenDevMode(docData as any)\n    );\n    rxCollection._runHooksSync('post', 'create', docData, doc);\n    runPluginHooks('postCreateRxDocument', doc);\n    return doc as any;\n}\n\n\n/**\n * returns the prototype-object\n * that contains the orm-methods,\n * used in the proto-merge\n */\nexport function getDocumentOrmPrototype(rxCollection: RxCollection): any {\n    const proto: any = {};\n    Object\n        .entries(rxCollection.methods)\n        .forEach(([k, v]) => {\n            proto[k] = v;\n        });\n    return proto;\n}\n","import type {\n    RxConflictHandler,\n    RxConflictHandlerInput,\n    RxConflictHandlerOutput,\n    RxDocumentData,\n    RxStorageInstanceReplicationState\n} from '../types/index.d.ts';\nimport {\n    getDefaultRevision,\n    createRevision,\n    now,\n    flatClone,\n    deepEqual\n} from '../plugins/utils/index.ts';\nimport { stripAttachmentsDataFromDocument } from '../rx-storage-helper.ts';\n\nexport const defaultConflictHandler: RxConflictHandler<any> = function (\n    i: RxConflictHandlerInput<any>,\n    _context: string\n): Promise<RxConflictHandlerOutput<any>> {\n    const newDocumentState = stripAttachmentsDataFromDocument(i.newDocumentState);\n    const realMasterState = stripAttachmentsDataFromDocument(i.realMasterState);\n\n    /**\n     * If the documents are deep equal,\n     * we have no conflict.\n     * On your custom conflict handler you might only\n     * check some properties, like the updatedAt time,\n     * for better performance, because deepEqual is expensive.\n     */\n    if (deepEqual(\n        newDocumentState,\n        realMasterState\n    )) {\n        return Promise.resolve({\n            isEqual: true\n        });\n    }\n\n    /**\n     * The default conflict handler will always\n     * drop the fork state and use the master state instead.\n     */\n    return Promise.resolve({\n        isEqual: false,\n        documentData: i.realMasterState\n    });\n};\n\n\n/**\n * Resolves a conflict error or determines that the given document states are equal.\n * Returns the resolved document that must be written to the fork.\n * Then the new document state can be pushed upstream.\n * If document is not in conflict, returns undefined.\n * If error is non-409, it throws an error.\n * Conflicts are only solved in the upstream, never in the downstream.\n */\nexport async function resolveConflictError<RxDocType>(\n    state: RxStorageInstanceReplicationState<RxDocType>,\n    input: RxConflictHandlerInput<RxDocType>,\n    forkState: RxDocumentData<RxDocType>\n): Promise<{\n    resolvedDoc: RxDocumentData<RxDocType>;\n    output: RxConflictHandlerOutput<RxDocType>;\n} | undefined> {\n    const conflictHandler: RxConflictHandler<RxDocType> = state.input.conflictHandler;\n    const conflictHandlerOutput = await conflictHandler(input, 'replication-resolve-conflict');\n\n    if (conflictHandlerOutput.isEqual) {\n        /**\n         * Documents are equal,\n         * so this is not a conflict -> do nothing.\n         */\n        return undefined;\n    } else {\n        /**\n         * We have a resolved conflict,\n         * use the resolved document data.\n         */\n        const resolvedDoc: RxDocumentData<RxDocType> = Object.assign(\n            {},\n            conflictHandlerOutput.documentData,\n            {\n                /**\n                 * Because the resolved conflict is written to the fork,\n                 * we have to keep/update the forks _meta data, not the masters.\n                 */\n                _meta: flatClone(forkState._meta),\n                _rev: getDefaultRevision(),\n                _attachments: flatClone(forkState._attachments)\n            }\n        ) as any;\n        resolvedDoc._meta.lwt = now();\n        resolvedDoc._rev = createRevision(\n            await state.checkpointKey,\n            forkState\n        );\n        return {\n            resolvedDoc,\n            output: conflictHandlerOutput\n        };\n    }\n}\n","import {\n    filter,\n    map,\n    mergeMap\n} from 'rxjs';\n\nimport {\n    ucfirst,\n    flatClone,\n    promiseSeries,\n    pluginMissing,\n    ensureNotFalsy,\n    getFromMapOrThrow,\n    PROMISE_RESOLVE_FALSE,\n    PROMISE_RESOLVE_VOID\n} from './plugins/utils/index.ts';\nimport {\n    fillObjectDataBeforeInsert,\n    createRxCollectionStorageInstance,\n    removeCollectionStorages\n} from './rx-collection-helper.ts';\nimport {\n    createRxQuery,\n    _getDefaultQuery\n} from './rx-query.ts';\nimport {\n    newRxError,\n    newRxTypeError\n} from './rx-error.ts';\nimport type {\n    RxMigrationState\n} from './plugins/migration-schema/index.ts';\nimport {\n    DocumentCache, mapDocumentsDataToCacheDocs\n} from './doc-cache.ts';\nimport {\n    QueryCache,\n    createQueryCache,\n    defaultCacheReplacementPolicy\n} from './query-cache.ts';\nimport {\n    ChangeEventBuffer,\n    createChangeEventBuffer\n} from './change-event-buffer.ts';\nimport {\n    runAsyncPluginHooks,\n    runPluginHooks\n} from './hooks.ts';\n\nimport {\n    Subscription,\n    Observable\n} from 'rxjs';\n\nimport type {\n    KeyFunctionMap,\n    RxCollection,\n    RxDatabase,\n    RxQuery,\n    RxDocument,\n    RxDumpCollection,\n    RxDumpCollectionAny,\n    MangoQuery,\n    MangoQueryNoLimit,\n    RxCacheReplacementPolicy,\n    RxStorageWriteError,\n    RxDocumentData,\n    RxStorageInstanceCreationParams,\n    BulkWriteRow,\n    RxChangeEvent,\n    RxChangeEventInsert,\n    RxChangeEventUpdate,\n    RxChangeEventDelete,\n    RxStorageInstance,\n    CollectionsOfDatabase,\n    RxChangeEventBulk,\n    RxLocalDocumentData,\n    RxDocumentBase,\n    RxConflictHandler,\n    MaybePromise,\n    CRDTEntry,\n    MangoQuerySelectorAndIndex,\n    MigrationStrategies\n} from './types/index.d.ts';\n\nimport {\n    RxSchema\n} from './rx-schema.ts';\n\nimport {\n    createNewRxDocument\n} from './rx-document-prototype-merge.ts';\nimport {\n    getWrappedStorageInstance,\n    storageChangeEventToRxChangeEvent,\n    throwIfIsStorageWriteError,\n    WrappedRxStorageInstance\n} from './rx-storage-helper.ts';\nimport { defaultConflictHandler } from './replication-protocol/index.ts';\nimport { IncrementalWriteQueue } from './incremental-write.ts';\nimport { beforeDocumentUpdateWrite } from './rx-document.ts';\nimport { overwritable } from './overwritable.ts';\n\nconst HOOKS_WHEN = ['pre', 'post'] as const;\ntype HookWhenType = typeof HOOKS_WHEN[number];\nconst HOOKS_KEYS = ['insert', 'save', 'remove', 'create'] as const;\ntype HookKeyType = typeof HOOKS_KEYS[number];\nlet hooksApplied = false;\n\nexport class RxCollectionBase<\n    InstanceCreationOptions,\n    RxDocumentType = { [prop: string]: any; },\n    OrmMethods = {},\n    StaticMethods = { [key: string]: any; },\n    Reactivity = any\n> {\n\n\n    /**\n     * Stores all 'normal' documents\n     */\n    public storageInstance: WrappedRxStorageInstance<RxDocumentType, any, InstanceCreationOptions> = {} as any;\n    public readonly timeouts: Set<ReturnType<typeof setTimeout>> = new Set();\n    public incrementalWriteQueue: IncrementalWriteQueue<RxDocumentType> = {} as any;\n\n    constructor(\n        public database: RxDatabase<CollectionsOfDatabase, any, InstanceCreationOptions, Reactivity>,\n        public name: string,\n        public schema: RxSchema<RxDocumentType>,\n        public internalStorageInstance: RxStorageInstance<RxDocumentType, any, InstanceCreationOptions>,\n        public instanceCreationOptions: InstanceCreationOptions = {} as any,\n        public migrationStrategies: MigrationStrategies = {},\n        public methods: KeyFunctionMap = {},\n        public attachments: KeyFunctionMap = {},\n        public options: any = {},\n        public cacheReplacementPolicy: RxCacheReplacementPolicy = defaultCacheReplacementPolicy,\n        public statics: KeyFunctionMap = {},\n        public conflictHandler: RxConflictHandler<RxDocumentType> = defaultConflictHandler\n    ) {\n        _applyHookFunctions(this.asRxCollection);\n    }\n\n    get insert$(): Observable<RxChangeEventInsert<RxDocumentType>> {\n        return this.$.pipe(\n            filter(cE => cE.operation === 'INSERT')\n        ) as any;\n    }\n    get update$(): Observable<RxChangeEventUpdate<RxDocumentType>> {\n        return this.$.pipe(\n            filter(cE => cE.operation === 'UPDATE')\n        ) as any;\n    }\n    get remove$(): Observable<RxChangeEventDelete<RxDocumentType>> {\n        return this.$.pipe(\n            filter(cE => cE.operation === 'DELETE')\n        ) as any;\n    }\n\n    public _incrementalUpsertQueues: Map<string, Promise<any>> = new Map();\n    // defaults\n    public synced: boolean = false;\n    public hooks: {\n        [key in HookKeyType]: {\n            [when in HookWhenType]: {\n                series: Function[];\n                parallel: Function[];\n            };\n        }\n    } = {} as any;\n    public _subs: Subscription[] = [];\n\n    public _docCache: DocumentCache<RxDocumentType, OrmMethods> = {} as any;\n\n    public _queryCache: QueryCache = createQueryCache();\n    public $: Observable<RxChangeEvent<RxDocumentType>> = {} as any;\n    public checkpoint$: Observable<any> = {} as any;\n    public _changeEventBuffer: ChangeEventBuffer<RxDocumentType> = {} as ChangeEventBuffer<RxDocumentType>;\n\n\n\n    /**\n     * When the collection is destroyed,\n     * these functions will be called an awaited.\n     * Used to automatically clean up stuff that\n     * belongs to this collection.\n     */\n    public onDestroy: (() => MaybePromise<any>)[] = [];\n    public destroyed = false;\n\n    public async prepare(): Promise<void> {\n        this.storageInstance = getWrappedStorageInstance(\n            this.database,\n            this.internalStorageInstance,\n            this.schema.jsonSchema\n        );\n        this.incrementalWriteQueue = new IncrementalWriteQueue<RxDocumentType>(\n            this.storageInstance,\n            this.schema.primaryPath,\n            (newData, oldData) => beforeDocumentUpdateWrite(this as any, newData, oldData),\n            result => this._runHooks('post', 'save', result)\n        );\n\n        const collectionEventBulks$ = this.database.eventBulks$.pipe(\n            filter(changeEventBulk => changeEventBulk.collectionName === this.name),\n        );\n        this.$ = collectionEventBulks$.pipe(\n            mergeMap(changeEventBulk => changeEventBulk.events),\n        );\n        this.checkpoint$ = collectionEventBulks$.pipe(\n            map(changeEventBulk => changeEventBulk.checkpoint),\n        );\n\n        this._changeEventBuffer = createChangeEventBuffer<RxDocumentType>(this.asRxCollection);\n        this._docCache = new DocumentCache(\n            this.schema.primaryPath,\n            this.$.pipe(filter(cE => !cE.isLocal)),\n            docData => createNewRxDocument(this.asRxCollection, docData)\n        );\n\n        /**\n         * Instead of resolving the EventBulk array here and spit it into\n         * single events, we should fully work with event bulks internally\n         * to save performance.\n         */\n        const databaseStorageToken = await this.database.storageToken;\n        const subDocs = this.storageInstance.changeStream().subscribe(eventBulk => {\n            const changeEventBulk: RxChangeEventBulk<RxDocumentType | RxLocalDocumentData> = {\n                id: eventBulk.id,\n                internal: false,\n                collectionName: this.name,\n                storageToken: databaseStorageToken,\n                events: eventBulk.events.map(ev => storageChangeEventToRxChangeEvent(\n                    false,\n                    ev,\n                    this as any\n                )),\n                databaseToken: this.database.token,\n                checkpoint: eventBulk.checkpoint,\n                context: eventBulk.context,\n                endTime: eventBulk.endTime,\n                startTime: eventBulk.startTime\n            };\n            this.database.$emit(changeEventBulk);\n        });\n        this._subs.push(subDocs);\n\n        /**\n         * Resolve the conflict tasks\n         * of the RxStorageInstance\n         */\n        this._subs.push(\n            this.storageInstance\n                .conflictResultionTasks()\n                .subscribe(task => {\n                    this\n                        .conflictHandler(task.input, task.context)\n                        .then(output => {\n                            this.storageInstance.resolveConflictResultionTask({\n                                id: task.id,\n                                output\n                            });\n                        });\n                })\n        );\n\n        return PROMISE_RESOLVE_VOID;\n    }\n\n\n    /**\n     * Manually call the cleanup function of the storage.\n     * @link https://rxdb.info/cleanup.html\n     */\n    cleanup(_minimumDeletedTime?: number): Promise<boolean> {\n        throw pluginMissing('cleanup');\n    }\n\n    // overwritten by migration-plugin\n    migrationNeeded(): Promise<boolean> {\n        throw pluginMissing('migration-schema');\n    }\n    getMigrationState(): RxMigrationState {\n        throw pluginMissing('migration-schema');\n    }\n    startMigration(batchSize: number = 10): Promise<void> {\n        return this.getMigrationState().startMigration(batchSize);\n    }\n    migratePromise(batchSize: number = 10): Promise<any> {\n        return this.getMigrationState().migratePromise(batchSize);\n    }\n\n    async insert(\n        json: RxDocumentType | RxDocument\n    ): Promise<RxDocument<RxDocumentType, OrmMethods>> {\n        const writeResult = await this.bulkInsert([json as any]);\n\n        const isError = writeResult.error[0];\n        throwIfIsStorageWriteError(this as any, (json as any)[this.schema.primaryPath] as any, json, isError);\n        const insertResult = ensureNotFalsy(writeResult.success[0]);\n        return insertResult;\n    }\n\n    async bulkInsert(\n        docsData: RxDocumentType[]\n    ): Promise<{\n        success: RxDocument<RxDocumentType, OrmMethods>[];\n        error: RxStorageWriteError<RxDocumentType>[];\n    }> {\n        /**\n         * Optimization shortcut,\n         * do nothing when called with an empty array\n        */\n        if (docsData.length === 0) {\n            return {\n                success: [],\n                error: []\n            };\n        }\n\n        const primaryPath = this.schema.primaryPath;\n        const useDocs = docsData.map(docData => {\n            const useDocData = fillObjectDataBeforeInsert(this.schema, docData);\n            return useDocData;\n        });\n        const docs = this.hasHooks('pre', 'insert') ?\n            await Promise.all(\n                useDocs.map(doc => {\n                    return this._runHooks('pre', 'insert', doc)\n                        .then(() => {\n                            return doc;\n                        });\n                })\n            ) : useDocs;\n        const insertRows: BulkWriteRow<RxDocumentType>[] = docs.map(doc => {\n            const row: BulkWriteRow<RxDocumentType> = { document: doc };\n            return row;\n        });\n        const results = await this.storageInstance.bulkWrite(\n            insertRows,\n            'rx-collection-bulk-insert'\n        );\n\n        // create documents\n        const rxDocuments = mapDocumentsDataToCacheDocs<RxDocumentType, OrmMethods>(this._docCache, results.success);\n\n        if (this.hasHooks('post', 'insert')) {\n            const docsMap: Map<string, RxDocumentType> = new Map();\n            docs.forEach(doc => {\n                docsMap.set((doc as any)[primaryPath] as any, doc);\n            });\n            await Promise.all(\n                rxDocuments.map(doc => {\n                    return this._runHooks(\n                        'post', 'insert',\n                        docsMap.get(doc.primary),\n                        doc\n                    );\n                })\n            );\n        }\n\n        return {\n            success: rxDocuments,\n            error: results.error\n        };\n    }\n\n    async bulkRemove(\n        ids: string[]\n    ): Promise<{\n        success: RxDocument<RxDocumentType, OrmMethods>[];\n        error: RxStorageWriteError<RxDocumentType>[];\n    }> {\n        const primaryPath = this.schema.primaryPath;\n        /**\n         * Optimization shortcut,\n         * do nothing when called with an empty array\n         */\n        if (ids.length === 0) {\n            return {\n                success: [],\n                error: []\n            };\n        }\n\n        const rxDocumentMap = await this.findByIds(ids).exec();\n        const docsData: RxDocumentData<RxDocumentType>[] = [];\n        const docsMap: Map<string, RxDocumentData<RxDocumentType>> = new Map();\n        Array.from(rxDocumentMap.values()).forEach(rxDocument => {\n            const data: RxDocumentData<RxDocumentType> = rxDocument.toMutableJSON(true) as any;\n            docsData.push(data);\n            docsMap.set(rxDocument.primary, data);\n        });\n\n        await Promise.all(\n            docsData.map(doc => {\n                const primary = (doc as any)[this.schema.primaryPath];\n                return this._runHooks('pre', 'remove', doc, rxDocumentMap.get(primary));\n            })\n        );\n        const removeDocs: BulkWriteRow<RxDocumentType>[] = docsData.map(doc => {\n            const writeDoc = flatClone(doc);\n            writeDoc._deleted = true;\n            return {\n                previous: doc,\n                document: writeDoc\n            };\n        });\n        const results = await this.storageInstance.bulkWrite(\n            removeDocs,\n            'rx-collection-bulk-remove'\n        );\n\n        const successIds: string[] = results.success.map(d => d[primaryPath] as string);\n\n        // run hooks\n        await Promise.all(\n            successIds.map(id => {\n                return this._runHooks(\n                    'post',\n                    'remove',\n                    docsMap.get(id),\n                    rxDocumentMap.get(id)\n                );\n            })\n        );\n\n        const rxDocuments = successIds.map(id => getFromMapOrThrow(rxDocumentMap, id));\n\n        return {\n            success: rxDocuments,\n            error: results.error\n        };\n    }\n\n    /**\n     * same as bulkInsert but overwrites existing document with same primary\n     */\n    async bulkUpsert(docsData: Partial<RxDocumentType>[]): Promise<{\n        success: RxDocument<RxDocumentType, OrmMethods>[];\n        error: RxStorageWriteError<RxDocumentType>[];\n    }> {\n        const insertData: RxDocumentType[] = [];\n        const useJsonByDocId: Map<string, RxDocumentType> = new Map();\n        docsData.forEach(docData => {\n            const useJson = fillObjectDataBeforeInsert(this.schema, docData);\n            const primary: string = useJson[this.schema.primaryPath] as any;\n            if (!primary) {\n                throw newRxError('COL3', {\n                    primaryPath: this.schema.primaryPath as string,\n                    data: useJson,\n                    schema: this.schema.jsonSchema\n                });\n            }\n            useJsonByDocId.set(primary, useJson);\n            insertData.push(useJson);\n        });\n\n        const insertResult = await this.bulkInsert(insertData);\n        const success = insertResult.success.slice(0);\n        const error: RxStorageWriteError<RxDocumentType>[] = [];\n\n        // update the ones that existed already\n        await Promise.all(\n            insertResult.error.map(async (err) => {\n                if (err.status !== 409) {\n                    error.push(err);\n                } else {\n                    const id = err.documentId;\n                    const writeData = getFromMapOrThrow(useJsonByDocId, id);\n                    const docDataInDb = ensureNotFalsy(err.documentInDb);\n                    const doc = this._docCache.getCachedRxDocument(docDataInDb);\n                    const newDoc = await doc.incrementalModify(() => writeData);\n                    success.push(newDoc);\n                }\n            })\n        );\n        return {\n            error,\n            success\n        };\n    }\n\n    /**\n     * same as insert but overwrites existing document with same primary\n     */\n    async upsert(json: Partial<RxDocumentType>): Promise<RxDocument<RxDocumentType, OrmMethods>> {\n        const bulkResult = await this.bulkUpsert([json]);\n        throwIfIsStorageWriteError<RxDocumentType>(\n            this.asRxCollection,\n            (json as any)[this.schema.primaryPath],\n            json as any,\n            bulkResult.error[0]\n        );\n        return bulkResult.success[0];\n    }\n\n    /**\n     * upserts to a RxDocument, uses incrementalModify if document already exists\n     */\n    incrementalUpsert(json: Partial<RxDocumentType>): Promise<RxDocument<RxDocumentType, OrmMethods>> {\n        const useJson = fillObjectDataBeforeInsert(this.schema, json);\n        const primary: string = useJson[this.schema.primaryPath] as any;\n        if (!primary) {\n            throw newRxError('COL4', {\n                data: json\n            });\n        }\n\n        // ensure that it won't try 2 parallel runs\n        let queue = this._incrementalUpsertQueues.get(primary);\n        if (!queue) {\n            queue = PROMISE_RESOLVE_VOID;\n        }\n        queue = queue\n            .then(() => _incrementalUpsertEnsureRxDocumentExists(this as any, primary as any, useJson))\n            .then((wasInserted) => {\n                if (!wasInserted.inserted) {\n                    return _incrementalUpsertUpdate(wasInserted.doc, useJson);\n                } else {\n                    return wasInserted.doc;\n                }\n            });\n        this._incrementalUpsertQueues.set(primary, queue);\n        return queue;\n    }\n\n    find(queryObj?: MangoQuery<RxDocumentType>): RxQuery<\n        RxDocumentType,\n        RxDocument<RxDocumentType, OrmMethods>[],\n        OrmMethods,\n        Reactivity\n    > {\n        if (typeof queryObj === 'string') {\n            throw newRxError('COL5', {\n                queryObj\n            });\n        }\n\n        if (!queryObj) {\n            queryObj = _getDefaultQuery();\n        }\n\n        const query = createRxQuery('find', queryObj, this as any);\n        return query as any;\n    }\n\n    findOne(\n        queryObj?: MangoQueryNoLimit<RxDocumentType> | string\n    ): RxQuery<\n        RxDocumentType,\n        RxDocument<RxDocumentType, OrmMethods> | null,\n        OrmMethods,\n        Reactivity\n    > {\n\n        // TODO move this check to dev-mode plugin\n        if (\n            typeof queryObj === 'number' ||\n            Array.isArray(queryObj)\n        ) {\n            throw newRxTypeError('COL6', {\n                queryObj\n            });\n        }\n\n        let query;\n\n        if (typeof queryObj === 'string') {\n            query = createRxQuery('findOne', {\n                selector: {\n                    [this.schema.primaryPath]: queryObj\n                },\n                limit: 1\n            }, this as any);\n        } else {\n            if (!queryObj) {\n                queryObj = _getDefaultQuery();\n            }\n\n\n            // cannot have limit on findOne queries because it will be overwritten\n            if ((queryObj as MangoQuery).limit) {\n                throw newRxError('QU6');\n            }\n\n            queryObj = flatClone(queryObj);\n            (queryObj as any).limit = 1;\n            query = createRxQuery<RxDocumentType>('findOne', queryObj, this as any);\n        }\n\n\n        return query as any;\n    }\n\n    count(queryObj?: MangoQuerySelectorAndIndex<RxDocumentType>): RxQuery<\n        RxDocumentType,\n        number,\n        OrmMethods,\n        Reactivity\n    > {\n        if (!queryObj) {\n            queryObj = _getDefaultQuery();\n        }\n        const query = createRxQuery('count', queryObj, this as any);\n        return query as any;\n    }\n\n    /**\n     * find a list documents by their primary key\n     * has way better performance then running multiple findOne() or a find() with a complex $or-selected\n     */\n    findByIds(\n        ids: string[]\n    ): RxQuery<\n        RxDocumentType,\n        Map<string, RxDocument<RxDocumentType, OrmMethods>>,\n        OrmMethods,\n        Reactivity\n    > {\n        const mangoQuery: MangoQuery<RxDocumentType> = {\n            selector: {\n                [this.schema.primaryPath]: {\n                    $in: ids.slice(0)\n                }\n            } as any\n        };\n        const query = createRxQuery('findByIds', mangoQuery, this as any);\n        return query as any;\n    }\n\n    /**\n     * Export collection to a JSON friendly format.\n     */\n    exportJSON(): Promise<RxDumpCollection<RxDocumentType>>;\n    exportJSON(): Promise<RxDumpCollectionAny<RxDocumentType>>;\n    exportJSON(): Promise<any> {\n        throw pluginMissing('json-dump');\n    }\n\n    /**\n     * Import the parsed JSON export into the collection.\n     * @param _exportedJSON The previously exported data from the `<collection>.exportJSON()` method.\n     */\n    importJSON(_exportedJSON: RxDumpCollectionAny<RxDocumentType>): Promise<void> {\n        throw pluginMissing('json-dump');\n    }\n\n    insertCRDT(_updateObj: CRDTEntry<any> | CRDTEntry<any>[]): RxDocument<RxDocumentType, OrmMethods> {\n        throw pluginMissing('crdt');\n    }\n\n    /**\n     * HOOKS\n     */\n    addHook(when: HookWhenType, key: HookKeyType, fun: any, parallel = false) {\n        if (typeof fun !== 'function') {\n            throw newRxTypeError('COL7', {\n                key,\n                when\n            });\n        }\n\n        if (!HOOKS_WHEN.includes(when)) {\n            throw newRxTypeError('COL8', {\n                key,\n                when\n            });\n        }\n\n        if (!HOOKS_KEYS.includes(key)) {\n            throw newRxError('COL9', {\n                key\n            });\n        }\n\n        if (when === 'post' && key === 'create' && parallel === true) {\n            throw newRxError('COL10', {\n                when,\n                key,\n                parallel\n            });\n        }\n\n        // bind this-scope to hook-function\n        const boundFun = fun.bind(this);\n\n        const runName = parallel ? 'parallel' : 'series';\n\n        this.hooks[key] = this.hooks[key] || {};\n        this.hooks[key][when] = this.hooks[key][when] || {\n            series: [],\n            parallel: []\n        };\n        this.hooks[key][when][runName].push(boundFun);\n    }\n\n    getHooks(when: HookWhenType, key: HookKeyType) {\n        if (\n            !this.hooks[key] ||\n            !this.hooks[key][when]\n        ) {\n            return {\n                series: [],\n                parallel: []\n            };\n        }\n        return this.hooks[key][when];\n    }\n\n    hasHooks(when: HookWhenType, key: HookKeyType) {\n        const hooks = this.getHooks(when, key);\n        if (!hooks) {\n            return false;\n        }\n        return hooks.series.length > 0 || hooks.parallel.length > 0;\n    }\n\n    _runHooks(when: HookWhenType, key: HookKeyType, data: any, instance?: any): Promise<any> {\n        const hooks = this.getHooks(when, key);\n\n        if (!hooks) {\n            return PROMISE_RESOLVE_VOID;\n        }\n\n        // run parallel: false\n        const tasks = hooks.series.map((hook: any) => () => hook(data, instance));\n        return promiseSeries(tasks)\n            // run parallel: true\n            .then(() => Promise.all(\n                hooks.parallel\n                    .map((hook: any) => hook(data, instance))\n            ));\n    }\n\n    /**\n     * does the same as ._runHooks() but with non-async-functions\n     */\n    _runHooksSync(when: HookWhenType, key: HookKeyType, data: any, instance: any) {\n        const hooks = this.getHooks(when, key);\n        if (!hooks) return;\n        hooks.series.forEach((hook: any) => hook(data, instance));\n    }\n\n    /**\n     * Returns a promise that resolves after the given time.\n     * Ensures that is properly cleans up when the collection is destroyed\n     * so that no running timeouts prevent the exit of the JavaScript process.\n     */\n    promiseWait(time: number): Promise<void> {\n        const ret = new Promise<void>(res => {\n            const timeout = setTimeout(() => {\n                this.timeouts.delete(timeout);\n                res();\n            }, time);\n            this.timeouts.add(timeout);\n        });\n        return ret;\n    }\n\n    destroy(): Promise<boolean> {\n        if (this.destroyed) {\n            return PROMISE_RESOLVE_FALSE;\n        }\n\n        /**\n         * Settings destroyed = true\n         * must be the first thing to do,\n         * so for example the replication can directly stop\n         * instead of sending requests to a closed storage.\n         */\n        this.destroyed = true;\n\n\n        Array.from(this.timeouts).forEach(timeout => clearTimeout(timeout));\n        if (this._changeEventBuffer) {\n            this._changeEventBuffer.destroy();\n        }\n        /**\n         * First wait until the whole database is idle.\n         * This ensures that the storage does not get closed\n         * while some operation is running.\n         * It is important that we do not intercept a running call\n         * because it might lead to undefined behavior like when a doc is written\n         * but the change is not added to the changes collection.\n         */\n        return this.database.requestIdlePromise()\n            .then(() => Promise.all(this.onDestroy.map(fn => fn())))\n            .then(() => this.storageInstance.close())\n            .then(() => {\n                /**\n                 * Unsubscribing must be done AFTER the storageInstance.close()\n                 * Because the conflict handling is part of the subscriptions and\n                 * otherwise there might be open conflicts to be resolved which\n                 * will then stuck and never resolve.\n                 */\n                this._subs.forEach(sub => sub.unsubscribe());\n\n                delete this.database.collections[this.name];\n                return runAsyncPluginHooks('postDestroyRxCollection', this).then(() => true);\n            });\n    }\n\n    /**\n     * remove all data of the collection\n     */\n    async remove(): Promise<any> {\n        await this.destroy();\n        await removeCollectionStorages(\n            this.database.storage,\n            this.database.internalStore,\n            this.database.token,\n            this.database.name,\n            this.name,\n            this.database.password,\n            this.database.hashFunction\n        );\n    }\n\n    get asRxCollection(): RxCollection<RxDocumentType, OrmMethods, StaticMethods, any, Reactivity> {\n        return this as any;\n    }\n}\n\n/**\n * adds the hook-functions to the collections prototype\n * this runs only once\n */\nfunction _applyHookFunctions(\n    collection: RxCollection<any, any>\n) {\n    if (hooksApplied) return; // already run\n    hooksApplied = true;\n    const colProto = Object.getPrototypeOf(collection);\n    HOOKS_KEYS.forEach(key => {\n        HOOKS_WHEN.map(when => {\n            const fnName = when + ucfirst(key);\n            colProto[fnName] = function (fun: string, parallel: boolean) {\n                return this.addHook(when, key, fun, parallel);\n            };\n        });\n    });\n}\n\nfunction _incrementalUpsertUpdate<RxDocType>(\n    doc: RxDocumentBase<RxDocType>,\n    json: RxDocumentData<RxDocType>\n): Promise<RxDocumentBase<RxDocType>> {\n    return doc.incrementalModify((_innerDoc) => {\n        return json;\n    });\n}\n\n/**\n * ensures that the given document exists\n * @return promise that resolves with new doc and flag if inserted\n */\nfunction _incrementalUpsertEnsureRxDocumentExists<RxDocType>(\n    rxCollection: RxCollection<RxDocType>,\n    primary: string,\n    json: any\n): Promise<\n    {\n        doc: RxDocument<RxDocType>;\n        inserted: boolean;\n    }\n> {\n    /**\n     * Optimisation shortcut,\n     * first try to find the document in the doc-cache\n     */\n    const docDataFromCache = rxCollection._docCache.getLatestDocumentDataIfExists(primary);\n    if (docDataFromCache) {\n        return Promise.resolve({\n            doc: rxCollection._docCache.getCachedRxDocument(docDataFromCache),\n            inserted: false\n        });\n    }\n    return rxCollection.findOne(primary).exec()\n        .then(doc => {\n            if (!doc) {\n                return rxCollection.insert(json).then(newDoc => ({\n                    doc: newDoc,\n                    inserted: true\n                }));\n            } else {\n                return {\n                    doc,\n                    inserted: false\n                };\n            }\n        });\n}\n\n/**\n * creates and prepares a new collection\n */\nexport function createRxCollection(\n    {\n        database,\n        name,\n        schema,\n        instanceCreationOptions = {},\n        migrationStrategies = {},\n        autoMigrate = true,\n        statics = {},\n        methods = {},\n        attachments = {},\n        options = {},\n        localDocuments = false,\n        cacheReplacementPolicy = defaultCacheReplacementPolicy,\n        conflictHandler = defaultConflictHandler\n    }: any\n): Promise<RxCollection> {\n    const storageInstanceCreationParams: RxStorageInstanceCreationParams<any, any> = {\n        databaseInstanceToken: database.token,\n        databaseName: database.name,\n        collectionName: name,\n        schema: schema.jsonSchema,\n        options: instanceCreationOptions,\n        multiInstance: database.multiInstance,\n        password: database.password,\n        devMode: overwritable.isDevMode()\n    };\n\n    runPluginHooks(\n        'preCreateRxStorageInstance',\n        storageInstanceCreationParams\n    );\n\n    return createRxCollectionStorageInstance(\n        database,\n        storageInstanceCreationParams\n    ).then(storageInstance => {\n        const collection = new RxCollectionBase(\n            database,\n            name,\n            schema,\n            storageInstance,\n            instanceCreationOptions,\n            migrationStrategies,\n            methods,\n            attachments,\n            options,\n            cacheReplacementPolicy,\n            statics,\n            conflictHandler\n        );\n\n        return collection\n            .prepare()\n            .then(() => {\n                // ORM add statics\n                Object\n                    .entries(statics)\n                    .forEach(([funName, fun]) => {\n                        Object.defineProperty(collection, funName, {\n                            get: () => (fun as any).bind(collection)\n                        });\n                    });\n\n                let ret = PROMISE_RESOLVE_VOID;\n                if (autoMigrate && collection.schema.version !== 0) {\n                    ret = collection.migratePromise();\n                }\n                return ret;\n            })\n            .then(() => {\n                runPluginHooks('createRxCollection', {\n                    collection,\n                    creator: {\n                        name,\n                        schema,\n                        storageInstance,\n                        instanceCreationOptions,\n                        migrationStrategies,\n                        methods,\n                        attachments,\n                        options,\n                        cacheReplacementPolicy,\n                        localDocuments,\n                        statics\n                    }\n                });\n                return collection as any;\n            })\n            /**\n             * If the collection creation fails,\n             * we yet have to close the storage instances.\n             */\n            .catch(err => {\n                return storageInstance.close()\n                    .then(() => Promise.reject(err));\n            });\n    });\n}\n\nexport function isRxCollection(obj: any): boolean {\n    return obj instanceof RxCollectionBase;\n}\n","/**\n * Creates a new Idle-Queue\n * @constructor\n * @param {number} [parallels=1] amount of parrallel runs of the limited-ressource\n */\nexport var IdleQueue = function IdleQueue() {\n  var parallels = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  this._parallels = parallels || 1;\n  /**\n   * _queueCounter\n   * each lock() increased this number\n   * each unlock() decreases this number\n   * If _qC==0, the state is in idle\n   * @type {Number}\n   */\n\n  this._qC = 0;\n  /**\n   * _idleCalls\n   * contains all promises that where added via requestIdlePromise()\n   * and not have been resolved\n   * @type {Set<Promise>} _iC with oldest promise first\n   */\n\n  this._iC = new Set();\n  /**\n   * _lastHandleNumber\n   * @type {Number}\n   */\n\n  this._lHN = 0;\n  /**\n   * _handlePromiseMap\n   * Contains the handleNumber on the left\n   * And the assigned promise on the right.\n   * This is stored so you can use cancelIdleCallback(handleNumber)\n   * to stop executing the callback.\n   * @type {Map<Number><Promise>}\n   */\n\n  this._hPM = new Map();\n  this._pHM = new Map(); // _promiseHandleMap\n};\nIdleQueue.prototype = {\n  isIdle: function isIdle() {\n    return this._qC < this._parallels;\n  },\n\n  /**\n   * creates a lock in the queue\n   * and returns an unlock-function to remove the lock from the queue\n   * @return {function} unlock function than must be called afterwards\n   */\n  lock: function lock() {\n    this._qC++;\n  },\n  unlock: function unlock() {\n    this._qC--;\n\n    _tryIdleCall(this);\n  },\n\n  /**\n   * wraps a function with lock/unlock and runs it\n   * @param  {function}  fun\n   * @return {Promise<any>}\n   */\n  wrapCall: function wrapCall(fun) {\n    var _this = this;\n\n    this.lock();\n    var maybePromise;\n\n    try {\n      maybePromise = fun();\n    } catch (err) {\n      this.unlock();\n      throw err;\n    }\n\n    if (!maybePromise.then || typeof maybePromise.then !== 'function') {\n      // no promise\n      this.unlock();\n      return maybePromise;\n    } else {\n      // promise\n      return maybePromise.then(function (ret) {\n        // sucessfull -> unlock before return\n        _this.unlock();\n\n        return ret;\n      })[\"catch\"](function (err) {\n        // not sucessfull -> unlock before throwing\n        _this.unlock();\n\n        throw err;\n      });\n    }\n  },\n\n  /**\n   * does the same as requestIdleCallback() but uses promises instead of the callback\n   * @param {{timeout?: number}} options like timeout\n   * @return {Promise<void>} promise that resolves when the database is in idle-mode\n   */\n  requestIdlePromise: function requestIdlePromise(options) {\n    var _this2 = this;\n\n    options = options || {};\n    var resolve;\n    var prom = new Promise(function (res) {\n      return resolve = res;\n    });\n\n    var resolveFromOutside = function resolveFromOutside() {\n      _removeIdlePromise(_this2, prom);\n\n      resolve();\n    };\n\n    prom._manRes = resolveFromOutside;\n\n    if (options.timeout) {\n      // if timeout has passed, resolve promise even if not idle\n      var timeoutObj = setTimeout(function () {\n        prom._manRes();\n      }, options.timeout);\n      prom._timeoutObj = timeoutObj;\n    }\n\n    this._iC.add(prom);\n\n    _tryIdleCall(this);\n\n    return prom;\n  },\n\n  /**\n   * remove the promise so it will never be resolved\n   * @param  {Promise} promise from requestIdlePromise()\n   * @return {void}\n   */\n  cancelIdlePromise: function cancelIdlePromise(promise) {\n    _removeIdlePromise(this, promise);\n  },\n\n  /**\n   * api equal to\n   * @link https://developer.mozilla.org/en-US/docs/Web/API/Window/requestIdleCallback\n   * @param  {Function} callback\n   * @param  {options}   options  [description]\n   * @return {number} handle which can be used with cancelIdleCallback()\n   */\n  requestIdleCallback: function requestIdleCallback(callback, options) {\n    var handle = this._lHN++;\n    var promise = this.requestIdlePromise(options);\n\n    this._hPM.set(handle, promise);\n\n    this._pHM.set(promise, handle);\n\n    promise.then(function () {\n      return callback();\n    });\n    return handle;\n  },\n\n  /**\n   * API equal to\n   * @link https://developer.mozilla.org/en-US/docs/Web/API/Window/cancelIdleCallback\n   * @param  {number} handle returned from requestIdleCallback()\n   * @return {void}\n   */\n  cancelIdleCallback: function cancelIdleCallback(handle) {\n    var promise = this._hPM.get(handle);\n\n    this.cancelIdlePromise(promise);\n  },\n\n  /**\n   * clears and resets everything\n   * @return {void}\n   */\n  clear: function clear() {\n    var _this3 = this;\n\n    // remove all non-cleared\n    this._iC.forEach(function (promise) {\n      return _removeIdlePromise(_this3, promise);\n    });\n\n    this._qC = 0;\n\n    this._iC.clear();\n\n    this._hPM = new Map();\n    this._pHM = new Map();\n  }\n};\n/**\n * processes the oldest call of the idleCalls-queue\n * @return {Promise<void>}\n */\n\nfunction _resolveOneIdleCall(idleQueue) {\n  if (idleQueue._iC.size === 0) return;\n\n  var iterator = idleQueue._iC.values();\n\n  var oldestPromise = iterator.next().value;\n\n  oldestPromise._manRes(); // try to call the next tick\n\n\n  setTimeout(function () {\n    return _tryIdleCall(idleQueue);\n  }, 0);\n}\n/**\n * removes the promise from the queue and maps and also its corresponding handle-number\n * @param  {Promise} promise from requestIdlePromise()\n * @return {void}\n */\n\n\nfunction _removeIdlePromise(idleQueue, promise) {\n  if (!promise) return; // remove timeout if exists\n\n  if (promise._timeoutObj) clearTimeout(promise._timeoutObj); // remove handle-nr if exists\n\n  if (idleQueue._pHM.has(promise)) {\n    var handle = idleQueue._pHM.get(promise);\n\n    idleQueue._hPM[\"delete\"](handle);\n\n    idleQueue._pHM[\"delete\"](promise);\n  } // remove from queue\n\n\n  idleQueue._iC[\"delete\"](promise);\n}\n/**\n * resolves the last entry of this._iC\n * but only if the queue is empty\n * @return {Promise}\n */\n\n\nfunction _tryIdleCall(idleQueue) {\n  // ensure this does not run in parallel\n  if (idleQueue._tryIR || idleQueue._iC.size === 0) return;\n  idleQueue._tryIR = true; // w8 one tick\n\n  setTimeout(function () {\n    // check if queue empty\n    if (!idleQueue.isIdle()) {\n      idleQueue._tryIR = false;\n      return;\n    }\n    /**\n     * wait 1 tick here\n     * because many functions do IO->CPU->IO\n     * which means the queue is empty for a short time\n     * but the ressource is not idle\n     */\n\n\n    setTimeout(function () {\n      // check if queue still empty\n      if (!idleQueue.isIdle()) {\n        idleQueue._tryIR = false;\n        return;\n      } // ressource is idle\n\n\n      _resolveOneIdleCall(idleQueue);\n\n      idleQueue._tryIR = false;\n    }, 0);\n  }, 0);\n}","/**\n * This file is replaced in the 'npm run build:version' script.\n */\nexport const RXDB_VERSION = '15.17.0';\n","const defaults = Object.freeze({\n  ignoreUnknown: false,\n  respectType: false,\n  respectFunctionNames: false,\n  respectFunctionProperties: false,\n  unorderedObjects: true,\n  unorderedArrays: false,\n  unorderedSets: false,\n  excludeKeys: void 0,\n  excludeValues: void 0,\n  replacer: void 0\n});\nfunction objectHash(object, options) {\n  if (options) {\n    options = { ...defaults, ...options };\n  } else {\n    options = defaults;\n  }\n  const hasher = createHasher(options);\n  hasher.dispatch(object);\n  return hasher.toString();\n}\nconst defaultPrototypesKeys = Object.freeze([\n  \"prototype\",\n  \"__proto__\",\n  \"constructor\"\n]);\nfunction createHasher(options) {\n  let buff = \"\";\n  let context = /* @__PURE__ */ new Map();\n  const write = (str) => {\n    buff += str;\n  };\n  return {\n    toString() {\n      return buff;\n    },\n    getContext() {\n      return context;\n    },\n    dispatch(value) {\n      if (options.replacer) {\n        value = options.replacer(value);\n      }\n      const type = value === null ? \"null\" : typeof value;\n      return this[type](value);\n    },\n    object(object) {\n      if (object && typeof object.toJSON === \"function\") {\n        return this.object(object.toJSON());\n      }\n      const objString = Object.prototype.toString.call(object);\n      let objType = \"\";\n      const objectLength = objString.length;\n      if (objectLength < 10) {\n        objType = \"unknown:[\" + objString + \"]\";\n      } else {\n        objType = objString.slice(8, objectLength - 1);\n      }\n      objType = objType.toLowerCase();\n      let objectNumber = null;\n      if ((objectNumber = context.get(object)) === void 0) {\n        context.set(object, context.size);\n      } else {\n        return this.dispatch(\"[CIRCULAR:\" + objectNumber + \"]\");\n      }\n      if (typeof Buffer !== \"undefined\" && Buffer.isBuffer && Buffer.isBuffer(object)) {\n        write(\"buffer:\");\n        return write(object.toString(\"utf8\"));\n      }\n      if (objType !== \"object\" && objType !== \"function\" && objType !== \"asyncfunction\") {\n        if (this[objType]) {\n          this[objType](object);\n        } else if (!options.ignoreUnknown) {\n          this.unkown(object, objType);\n        }\n      } else {\n        let keys = Object.keys(object);\n        if (options.unorderedObjects) {\n          keys = keys.sort();\n        }\n        let extraKeys = [];\n        if (options.respectType !== false && !isNativeFunction(object)) {\n          extraKeys = defaultPrototypesKeys;\n        }\n        if (options.excludeKeys) {\n          keys = keys.filter((key) => {\n            return !options.excludeKeys(key);\n          });\n          extraKeys = extraKeys.filter((key) => {\n            return !options.excludeKeys(key);\n          });\n        }\n        write(\"object:\" + (keys.length + extraKeys.length) + \":\");\n        const dispatchForKey = (key) => {\n          this.dispatch(key);\n          write(\":\");\n          if (!options.excludeValues) {\n            this.dispatch(object[key]);\n          }\n          write(\",\");\n        };\n        for (const key of keys) {\n          dispatchForKey(key);\n        }\n        for (const key of extraKeys) {\n          dispatchForKey(key);\n        }\n      }\n    },\n    array(arr, unordered) {\n      unordered = unordered === void 0 ? options.unorderedArrays !== false : unordered;\n      write(\"array:\" + arr.length + \":\");\n      if (!unordered || arr.length <= 1) {\n        for (const entry of arr) {\n          this.dispatch(entry);\n        }\n        return;\n      }\n      const contextAdditions = /* @__PURE__ */ new Map();\n      const entries = arr.map((entry) => {\n        const hasher = createHasher(options);\n        hasher.dispatch(entry);\n        for (const [key, value] of hasher.getContext()) {\n          contextAdditions.set(key, value);\n        }\n        return hasher.toString();\n      });\n      context = contextAdditions;\n      entries.sort();\n      return this.array(entries, false);\n    },\n    date(date) {\n      return write(\"date:\" + date.toJSON());\n    },\n    symbol(sym) {\n      return write(\"symbol:\" + sym.toString());\n    },\n    unkown(value, type) {\n      write(type);\n      if (!value) {\n        return;\n      }\n      write(\":\");\n      if (value && typeof value.entries === \"function\") {\n        return this.array(\n          Array.from(value.entries()),\n          true\n          /* ordered */\n        );\n      }\n    },\n    error(err) {\n      return write(\"error:\" + err.toString());\n    },\n    boolean(bool) {\n      return write(\"bool:\" + bool);\n    },\n    string(string) {\n      write(\"string:\" + string.length + \":\");\n      write(string);\n    },\n    function(fn) {\n      write(\"fn:\");\n      if (isNativeFunction(fn)) {\n        this.dispatch(\"[native]\");\n      } else {\n        this.dispatch(fn.toString());\n      }\n      if (options.respectFunctionNames !== false) {\n        this.dispatch(\"function-name:\" + String(fn.name));\n      }\n      if (options.respectFunctionProperties) {\n        this.object(fn);\n      }\n    },\n    number(number) {\n      return write(\"number:\" + number);\n    },\n    xml(xml) {\n      return write(\"xml:\" + xml.toString());\n    },\n    null() {\n      return write(\"Null\");\n    },\n    undefined() {\n      return write(\"Undefined\");\n    },\n    regexp(regex) {\n      return write(\"regex:\" + regex.toString());\n    },\n    uint8array(arr) {\n      write(\"uint8array:\");\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    uint8clampedarray(arr) {\n      write(\"uint8clampedarray:\");\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    int8array(arr) {\n      write(\"int8array:\");\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    uint16array(arr) {\n      write(\"uint16array:\");\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    int16array(arr) {\n      write(\"int16array:\");\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    uint32array(arr) {\n      write(\"uint32array:\");\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    int32array(arr) {\n      write(\"int32array:\");\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    float32array(arr) {\n      write(\"float32array:\");\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    float64array(arr) {\n      write(\"float64array:\");\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    arraybuffer(arr) {\n      write(\"arraybuffer:\");\n      return this.dispatch(new Uint8Array(arr));\n    },\n    url(url) {\n      return write(\"url:\" + url.toString());\n    },\n    map(map) {\n      write(\"map:\");\n      const arr = [...map];\n      return this.array(arr, options.unorderedSets !== false);\n    },\n    set(set) {\n      write(\"set:\");\n      const arr = [...set];\n      return this.array(arr, options.unorderedSets !== false);\n    },\n    file(file) {\n      write(\"file:\");\n      return this.dispatch([file.name, file.size, file.type, file.lastModfied]);\n    },\n    blob() {\n      if (options.ignoreUnknown) {\n        return write(\"[blob]\");\n      }\n      throw new Error(\n        'Hashing Blob objects is currently not supported\\nUse \"options.replacer\" or \"options.ignoreUnknown\"\\n'\n      );\n    },\n    domwindow() {\n      return write(\"domwindow\");\n    },\n    bigint(number) {\n      return write(\"bigint:\" + number.toString());\n    },\n    /* Node.js standard native objects */\n    process() {\n      return write(\"process\");\n    },\n    timer() {\n      return write(\"timer\");\n    },\n    pipe() {\n      return write(\"pipe\");\n    },\n    tcp() {\n      return write(\"tcp\");\n    },\n    udp() {\n      return write(\"udp\");\n    },\n    tty() {\n      return write(\"tty\");\n    },\n    statwatcher() {\n      return write(\"statwatcher\");\n    },\n    securecontext() {\n      return write(\"securecontext\");\n    },\n    connection() {\n      return write(\"connection\");\n    },\n    zlib() {\n      return write(\"zlib\");\n    },\n    context() {\n      return write(\"context\");\n    },\n    nodescript() {\n      return write(\"nodescript\");\n    },\n    httpparser() {\n      return write(\"httpparser\");\n    },\n    dataview() {\n      return write(\"dataview\");\n    },\n    signal() {\n      return write(\"signal\");\n    },\n    fsevent() {\n      return write(\"fsevent\");\n    },\n    tlswrap() {\n      return write(\"tlswrap\");\n    }\n  };\n}\nconst nativeFunc = \"[native code] }\";\nconst nativeFuncLength = nativeFunc.length;\nfunction isNativeFunction(f) {\n  if (typeof f !== \"function\") {\n    return false;\n  }\n  return Function.prototype.toString.call(f).slice(-nativeFuncLength) === nativeFunc;\n}\n\nclass WordArray {\n  constructor(words, sigBytes) {\n    words = this.words = words || [];\n    this.sigBytes = sigBytes === void 0 ? words.length * 4 : sigBytes;\n  }\n  toString(encoder) {\n    return (encoder || Hex).stringify(this);\n  }\n  concat(wordArray) {\n    this.clamp();\n    if (this.sigBytes % 4) {\n      for (let i = 0; i < wordArray.sigBytes; i++) {\n        const thatByte = wordArray.words[i >>> 2] >>> 24 - i % 4 * 8 & 255;\n        this.words[this.sigBytes + i >>> 2] |= thatByte << 24 - (this.sigBytes + i) % 4 * 8;\n      }\n    } else {\n      for (let j = 0; j < wordArray.sigBytes; j += 4) {\n        this.words[this.sigBytes + j >>> 2] = wordArray.words[j >>> 2];\n      }\n    }\n    this.sigBytes += wordArray.sigBytes;\n    return this;\n  }\n  clamp() {\n    this.words[this.sigBytes >>> 2] &= 4294967295 << 32 - this.sigBytes % 4 * 8;\n    this.words.length = Math.ceil(this.sigBytes / 4);\n  }\n  clone() {\n    return new WordArray([...this.words]);\n  }\n}\nconst Hex = {\n  stringify(wordArray) {\n    const hexChars = [];\n    for (let i = 0; i < wordArray.sigBytes; i++) {\n      const bite = wordArray.words[i >>> 2] >>> 24 - i % 4 * 8 & 255;\n      hexChars.push((bite >>> 4).toString(16), (bite & 15).toString(16));\n    }\n    return hexChars.join(\"\");\n  }\n};\nconst Base64 = {\n  stringify(wordArray) {\n    const keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    const base64Chars = [];\n    for (let i = 0; i < wordArray.sigBytes; i += 3) {\n      const byte1 = wordArray.words[i >>> 2] >>> 24 - i % 4 * 8 & 255;\n      const byte2 = wordArray.words[i + 1 >>> 2] >>> 24 - (i + 1) % 4 * 8 & 255;\n      const byte3 = wordArray.words[i + 2 >>> 2] >>> 24 - (i + 2) % 4 * 8 & 255;\n      const triplet = byte1 << 16 | byte2 << 8 | byte3;\n      for (let j = 0; j < 4 && i * 8 + j * 6 < wordArray.sigBytes * 8; j++) {\n        base64Chars.push(keyStr.charAt(triplet >>> 6 * (3 - j) & 63));\n      }\n    }\n    return base64Chars.join(\"\");\n  }\n};\nconst Latin1 = {\n  parse(latin1Str) {\n    const latin1StrLength = latin1Str.length;\n    const words = [];\n    for (let i = 0; i < latin1StrLength; i++) {\n      words[i >>> 2] |= (latin1Str.charCodeAt(i) & 255) << 24 - i % 4 * 8;\n    }\n    return new WordArray(words, latin1StrLength);\n  }\n};\nconst Utf8 = {\n  parse(utf8Str) {\n    return Latin1.parse(unescape(encodeURIComponent(utf8Str)));\n  }\n};\nclass BufferedBlockAlgorithm {\n  constructor() {\n    this._data = new WordArray();\n    this._nDataBytes = 0;\n    this._minBufferSize = 0;\n    this.blockSize = 512 / 32;\n  }\n  reset() {\n    this._data = new WordArray();\n    this._nDataBytes = 0;\n  }\n  _append(data) {\n    if (typeof data === \"string\") {\n      data = Utf8.parse(data);\n    }\n    this._data.concat(data);\n    this._nDataBytes += data.sigBytes;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  _doProcessBlock(_dataWords, _offset) {\n  }\n  _process(doFlush) {\n    let processedWords;\n    let nBlocksReady = this._data.sigBytes / (this.blockSize * 4);\n    if (doFlush) {\n      nBlocksReady = Math.ceil(nBlocksReady);\n    } else {\n      nBlocksReady = Math.max((nBlocksReady | 0) - this._minBufferSize, 0);\n    }\n    const nWordsReady = nBlocksReady * this.blockSize;\n    const nBytesReady = Math.min(nWordsReady * 4, this._data.sigBytes);\n    if (nWordsReady) {\n      for (let offset = 0; offset < nWordsReady; offset += this.blockSize) {\n        this._doProcessBlock(this._data.words, offset);\n      }\n      processedWords = this._data.words.splice(0, nWordsReady);\n      this._data.sigBytes -= nBytesReady;\n    }\n    return new WordArray(processedWords, nBytesReady);\n  }\n}\nclass Hasher extends BufferedBlockAlgorithm {\n  update(messageUpdate) {\n    this._append(messageUpdate);\n    this._process();\n    return this;\n  }\n  finalize(messageUpdate) {\n    if (messageUpdate) {\n      this._append(messageUpdate);\n    }\n  }\n}\n\nconst H = [\n  1779033703,\n  -1150833019,\n  1013904242,\n  -1521486534,\n  1359893119,\n  -1694144372,\n  528734635,\n  1541459225\n];\nconst K = [\n  1116352408,\n  1899447441,\n  -1245643825,\n  -373957723,\n  961987163,\n  1508970993,\n  -1841331548,\n  -1424204075,\n  -670586216,\n  310598401,\n  607225278,\n  1426881987,\n  1925078388,\n  -2132889090,\n  -1680079193,\n  -1046744716,\n  -459576895,\n  -272742522,\n  264347078,\n  604807628,\n  770255983,\n  1249150122,\n  1555081692,\n  1996064986,\n  -1740746414,\n  -1473132947,\n  -1341970488,\n  -1084653625,\n  -958395405,\n  -710438585,\n  113926993,\n  338241895,\n  666307205,\n  773529912,\n  1294757372,\n  1396182291,\n  1695183700,\n  1986661051,\n  -2117940946,\n  -1838011259,\n  -1564481375,\n  -1474664885,\n  -1035236496,\n  -949202525,\n  -778901479,\n  -694614492,\n  -200395387,\n  275423344,\n  430227734,\n  506948616,\n  659060556,\n  883997877,\n  958139571,\n  1322822218,\n  1537002063,\n  1747873779,\n  1955562222,\n  2024104815,\n  -2067236844,\n  -1933114872,\n  -1866530822,\n  -1538233109,\n  -1090935817,\n  -965641998\n];\nconst W = [];\nclass SHA256 extends Hasher {\n  constructor() {\n    super(...arguments);\n    this._hash = new WordArray([...H]);\n  }\n  reset() {\n    super.reset();\n    this._hash = new WordArray([...H]);\n  }\n  _doProcessBlock(M, offset) {\n    const H2 = this._hash.words;\n    let a = H2[0];\n    let b = H2[1];\n    let c = H2[2];\n    let d = H2[3];\n    let e = H2[4];\n    let f = H2[5];\n    let g = H2[6];\n    let h = H2[7];\n    for (let i = 0; i < 64; i++) {\n      if (i < 16) {\n        W[i] = M[offset + i] | 0;\n      } else {\n        const gamma0x = W[i - 15];\n        const gamma0 = (gamma0x << 25 | gamma0x >>> 7) ^ (gamma0x << 14 | gamma0x >>> 18) ^ gamma0x >>> 3;\n        const gamma1x = W[i - 2];\n        const gamma1 = (gamma1x << 15 | gamma1x >>> 17) ^ (gamma1x << 13 | gamma1x >>> 19) ^ gamma1x >>> 10;\n        W[i] = gamma0 + W[i - 7] + gamma1 + W[i - 16];\n      }\n      const ch = e & f ^ ~e & g;\n      const maj = a & b ^ a & c ^ b & c;\n      const sigma0 = (a << 30 | a >>> 2) ^ (a << 19 | a >>> 13) ^ (a << 10 | a >>> 22);\n      const sigma1 = (e << 26 | e >>> 6) ^ (e << 21 | e >>> 11) ^ (e << 7 | e >>> 25);\n      const t1 = h + sigma1 + ch + K[i] + W[i];\n      const t2 = sigma0 + maj;\n      h = g;\n      g = f;\n      f = e;\n      e = d + t1 | 0;\n      d = c;\n      c = b;\n      b = a;\n      a = t1 + t2 | 0;\n    }\n    H2[0] = H2[0] + a | 0;\n    H2[1] = H2[1] + b | 0;\n    H2[2] = H2[2] + c | 0;\n    H2[3] = H2[3] + d | 0;\n    H2[4] = H2[4] + e | 0;\n    H2[5] = H2[5] + f | 0;\n    H2[6] = H2[6] + g | 0;\n    H2[7] = H2[7] + h | 0;\n  }\n  finalize(messageUpdate) {\n    super.finalize(messageUpdate);\n    const nBitsTotal = this._nDataBytes * 8;\n    const nBitsLeft = this._data.sigBytes * 8;\n    this._data.words[nBitsLeft >>> 5] |= 128 << 24 - nBitsLeft % 32;\n    this._data.words[(nBitsLeft + 64 >>> 9 << 4) + 14] = Math.floor(\n      nBitsTotal / 4294967296\n    );\n    this._data.words[(nBitsLeft + 64 >>> 9 << 4) + 15] = nBitsTotal;\n    this._data.sigBytes = this._data.words.length * 4;\n    this._process();\n    return this._hash;\n  }\n}\nfunction sha256(message) {\n  return new SHA256().finalize(message).toString();\n}\nfunction sha256base64(message) {\n  return new SHA256().finalize(message).toString(Base64);\n}\n\nfunction hash(object, options = {}) {\n  const hashed = typeof object === \"string\" ? object : objectHash(object, options);\n  return sha256base64(hashed).slice(0, 10);\n}\n\nfunction murmurHash(key, seed = 0) {\n  if (typeof key === \"string\") {\n    key = createBuffer(key);\n  }\n  let i = 0;\n  let h1 = seed;\n  let k1;\n  let h1b;\n  const remainder = key.length & 3;\n  const bytes = key.length - remainder;\n  const c1 = 3432918353;\n  const c2 = 461845907;\n  while (i < bytes) {\n    k1 = key[i] & 255 | (key[++i] & 255) << 8 | (key[++i] & 255) << 16 | (key[++i] & 255) << 24;\n    ++i;\n    k1 = (k1 & 65535) * c1 + (((k1 >>> 16) * c1 & 65535) << 16) & 4294967295;\n    k1 = k1 << 15 | k1 >>> 17;\n    k1 = (k1 & 65535) * c2 + (((k1 >>> 16) * c2 & 65535) << 16) & 4294967295;\n    h1 ^= k1;\n    h1 = h1 << 13 | h1 >>> 19;\n    h1b = (h1 & 65535) * 5 + (((h1 >>> 16) * 5 & 65535) << 16) & 4294967295;\n    h1 = (h1b & 65535) + 27492 + (((h1b >>> 16) + 58964 & 65535) << 16);\n  }\n  k1 = 0;\n  switch (remainder) {\n    case 3: {\n      k1 ^= (key[i + 2] & 255) << 16;\n      break;\n    }\n    case 2: {\n      k1 ^= (key[i + 1] & 255) << 8;\n      break;\n    }\n    case 1: {\n      k1 ^= key[i] & 255;\n      k1 = (k1 & 65535) * c1 + (((k1 >>> 16) * c1 & 65535) << 16) & 4294967295;\n      k1 = k1 << 15 | k1 >>> 17;\n      k1 = (k1 & 65535) * c2 + (((k1 >>> 16) * c2 & 65535) << 16) & 4294967295;\n      h1 ^= k1;\n    }\n  }\n  h1 ^= key.length;\n  h1 ^= h1 >>> 16;\n  h1 = (h1 & 65535) * 2246822507 + (((h1 >>> 16) * 2246822507 & 65535) << 16) & 4294967295;\n  h1 ^= h1 >>> 13;\n  h1 = (h1 & 65535) * 3266489909 + (((h1 >>> 16) * 3266489909 & 65535) << 16) & 4294967295;\n  h1 ^= h1 >>> 16;\n  return h1 >>> 0;\n}\nfunction createBuffer(val) {\n  return new TextEncoder().encode(val);\n}\n\nfunction isEqual(object1, object2, hashOptions = {}) {\n  if (object1 === object2) {\n    return true;\n  }\n  if (objectHash(object1, hashOptions) === objectHash(object2, hashOptions)) {\n    return true;\n  }\n  return false;\n}\n\nfunction diff(obj1, obj2, opts = {}) {\n  const h1 = _toHashedObject(obj1, opts);\n  const h2 = _toHashedObject(obj2, opts);\n  return _diff(h1, h2, opts);\n}\nfunction _diff(h1, h2, opts = {}) {\n  const diffs = [];\n  const allProps = /* @__PURE__ */ new Set([\n    ...Object.keys(h1.props || {}),\n    ...Object.keys(h2.props || {})\n  ]);\n  if (h1.props && h2.props) {\n    for (const prop of allProps) {\n      const p1 = h1.props[prop];\n      const p2 = h2.props[prop];\n      if (p1 && p2) {\n        diffs.push(..._diff(h1.props?.[prop], h2.props?.[prop], opts));\n      } else if (p1 || p2) {\n        diffs.push(\n          new DiffEntry((p2 || p1).key, p1 ? \"removed\" : \"added\", p2, p1)\n        );\n      }\n    }\n  }\n  if (allProps.size === 0 && h1.hash !== h2.hash) {\n    diffs.push(new DiffEntry((h2 || h1).key, \"changed\", h2, h1));\n  }\n  return diffs;\n}\nfunction _toHashedObject(obj, opts, key = \"\") {\n  if (obj && typeof obj !== \"object\") {\n    return new DiffHashedObject(key, obj, objectHash(obj, opts));\n  }\n  const props = {};\n  const hashes = [];\n  for (const _key in obj) {\n    props[_key] = _toHashedObject(\n      obj[_key],\n      opts,\n      key ? `${key}.${_key}` : _key\n    );\n    hashes.push(props[_key].hash);\n  }\n  return new DiffHashedObject(key, obj, `{${hashes.join(\":\")}}`, props);\n}\nclass DiffEntry {\n  // eslint-disable-next-line no-useless-constructor\n  constructor(key, type, newValue, oldValue) {\n    this.key = key;\n    this.type = type;\n    this.newValue = newValue;\n    this.oldValue = oldValue;\n  }\n  toString() {\n    return this.toJSON();\n  }\n  toJSON() {\n    switch (this.type) {\n      case \"added\": {\n        return `Added   \\`${this.key}\\``;\n      }\n      case \"removed\": {\n        return `Removed \\`${this.key}\\``;\n      }\n      case \"changed\": {\n        return `Changed \\`${this.key}\\` from \\`${this.oldValue?.toString() || \"-\"}\\` to \\`${this.newValue.toString()}\\``;\n      }\n    }\n  }\n}\nclass DiffHashedObject {\n  // eslint-disable-next-line no-useless-constructor\n  constructor(key, value, hash, props) {\n    this.key = key;\n    this.value = value;\n    this.hash = hash;\n    this.props = props;\n  }\n  toString() {\n    if (this.props) {\n      return `{${Object.keys(this.props).join(\",\")}}`;\n    } else {\n      return JSON.stringify(this.value);\n    }\n  }\n  toJSON() {\n    const k = this.key || \".\";\n    if (this.props) {\n      return `${k}({${Object.keys(this.props).join(\",\")}})`;\n    }\n    return `${k}(${this.value})`;\n  }\n}\n\nexport { diff, hash, isEqual, murmurHash, objectHash, sha256, sha256base64 };\n","import { sha256 } from 'ohash';\nimport type { HashFunction } from '../../types/index.d.ts';\n\n\n/**\n * TODO in the future we should no longer provide a\n * fallback to crypto.subtle.digest.\n * Instead users without crypto.subtle.digest support, should have to provide their own\n * hash function.\n */\nexport function jsSha256(input: string) {\n    return Promise.resolve(sha256(input));\n}\n\nexport async function nativeSha256(input: string) {\n    const data = new TextEncoder().encode(input);\n    const hashBuffer = await crypto.subtle.digest('SHA-256', data);\n    /**\n     * @link https://jameshfisher.com/2017/10/30/web-cryptography-api-hello-world/\n     */\n    const hash = Array.prototype.map.call(\n        new Uint8Array(hashBuffer),\n        x => (('00' + x.toString(16)).slice(-2))\n    ).join('');\n    return hash;\n}\n\n\nexport const canUseCryptoSubtle = typeof crypto !== 'undefined' &&\n    typeof crypto.subtle !== 'undefined' &&\n    typeof crypto.subtle.digest === 'function';\n\n/**\n * Default hash method used to hash\n * strings and do equal comparisons.\n *\n * IMPORTANT: Changing the default hashing method\n * requires a BREAKING change!\n */\n\nexport const defaultHashSha256: HashFunction = canUseCryptoSubtle ? nativeSha256 : jsSha256;\n","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","\n/**\n * this is a set which automatically forgets\n * a given entry when a new entry is set and the ttl\n * of the old one is over\n */\nexport class ObliviousSet<T = any> {\n    public readonly map = new Map();\n\n    /**\n     * Creating calls to setTimeout() is expensive,\n     * so we only do that if there is not timeout already open.\n     */\n    public _to: boolean = false;\n    constructor(\n        public readonly ttl: number\n    ) { }\n\n    has(value: T): boolean {\n        return this.map.has(value);\n    }\n\n    add(value: T): void {\n        this.map.set(value, now());\n\n        /**\n         * When a new value is added,\n         * start the cleanup at the next tick\n         * to not block the cpu for more important stuff\n         * that might happen.\n         */\n        if (!this._to) {\n            this._to = true;\n            setTimeout(() => {\n                this._to = false;\n                removeTooOldValues(this);\n            }, 0);\n        }\n    }\n\n    clear() {\n        this.map.clear();\n    }\n}\n\n\n/**\n * Removes all entries from the set\n * where the TTL has expired\n */\nexport function removeTooOldValues(\n    obliviousSet: ObliviousSet\n) {\n    const olderThen = now() - obliviousSet.ttl;\n    const iterator = obliviousSet.map[Symbol.iterator]();\n\n    /**\n     * Because we can assume the new values are added at the bottom,\n     * we start from the top and stop as soon as we reach a non-too-old value.\n     */\n    while (true) {\n\n        const next = iterator.next().value;\n\n        if (!next) {\n            return; // no more elements\n        }\n        const value = next[0];\n        const time = next[1];\n        if (time < olderThen) {\n            obliviousSet.map.delete(value);\n        } else {\n            // We reached a value that is not old enough\n            return;\n        }\n    }\n}\n\nexport function now(): number {\n    return Date.now();\n}\n\n\n","import { IdleQueue } from 'custom-idle-queue';\nimport type {\n    LeaderElector\n} from 'broadcast-channel';\nimport type {\n    CollectionsOfDatabase,\n    RxDatabase,\n    RxCollectionCreator,\n    RxJsonSchema,\n    RxCollection,\n    RxDumpDatabase,\n    RxDumpDatabaseAny,\n    BackupOptions,\n    RxStorage,\n    RxStorageInstance,\n    BulkWriteRow,\n    RxChangeEvent,\n    RxDatabaseCreator,\n    RxChangeEventBulk,\n    RxDocumentData,\n    RxCleanupPolicy,\n    InternalStoreDocType,\n    InternalStoreStorageTokenDocType,\n    InternalStoreCollectionDocType,\n    RxTypeError,\n    RxError,\n    HashFunction,\n    MaybePromise,\n    RxState\n} from './types/index.d.ts';\n\nimport {\n    pluginMissing,\n    flatClone,\n    PROMISE_RESOLVE_FALSE,\n    randomCouchString,\n    ensureNotFalsy,\n    getDefaultRevision,\n    getDefaultRxDocumentMeta,\n    defaultHashSha256,\n    RXDB_VERSION\n} from './plugins/utils/index.ts';\nimport {\n    newRxError\n} from './rx-error.ts';\nimport {\n    createRxSchema,\n    RxSchema\n} from './rx-schema.ts';\nimport {\n    runPluginHooks,\n    runAsyncPluginHooks\n} from './hooks.ts';\nimport {\n    Subject,\n    Subscription,\n    Observable\n} from 'rxjs';\nimport {\n    mergeMap\n} from 'rxjs/operators';\nimport {\n    createRxCollection\n} from './rx-collection.ts';\nimport {\n    flatCloneDocWithMeta,\n    getSingleDocument,\n    getWrappedStorageInstance,\n    INTERNAL_STORAGE_NAME,\n    WrappedRxStorageInstance\n} from './rx-storage-helper.ts';\nimport type { RxBackupState } from './plugins/backup/index.ts';\nimport { ObliviousSet } from 'oblivious-set';\nimport {\n    ensureStorageTokenDocumentExists,\n    getAllCollectionDocuments,\n    getPrimaryKeyOfInternalDocument,\n    INTERNAL_CONTEXT_COLLECTION,\n    INTERNAL_STORE_SCHEMA,\n    _collectionNamePrimary\n} from './rx-database-internal-store.ts';\nimport { removeCollectionStorages } from './rx-collection-helper.ts';\nimport { overwritable } from './overwritable.ts';\nimport type { RxMigrationState } from './plugins/migration-schema/index.ts';\nimport type { RxReactivityFactory } from './types/plugins/reactivity.d.ts';\n\n/**\n * stores the used database names+storage names\n * so we can throw when the same database is created more then once.\n */\nconst USED_DATABASE_NAMES: Set<string> = new Set();\n\nlet DB_COUNT = 0;\n\nexport class RxDatabaseBase<\n    Internals,\n    InstanceCreationOptions,\n    Collections = CollectionsOfDatabase,\n    Reactivity = unknown\n> {\n\n    public readonly idleQueue: IdleQueue = new IdleQueue();\n    public readonly rxdbVersion = RXDB_VERSION;\n\n    /**\n     * Contains all known non-closed storage instances\n     * that belong to this database.\n     * Used in plugins and unit tests.\n     */\n    public readonly storageInstances = new Set<WrappedRxStorageInstance<any, Internals, InstanceCreationOptions>>();\n\n    constructor(\n        public readonly name: string,\n        /**\n         * Uniquely identifies the instance\n         * of this RxDatabase.\n         */\n        public readonly token: string,\n        public readonly storage: RxStorage<Internals, InstanceCreationOptions>,\n        public readonly instanceCreationOptions: InstanceCreationOptions,\n        public readonly password: any,\n        public readonly multiInstance: boolean,\n        public readonly eventReduce: boolean = false,\n        public options: any = {},\n        /**\n         * Stores information documents about the collections of the database\n         */\n        public readonly internalStore: RxStorageInstance<InternalStoreDocType, Internals, InstanceCreationOptions>,\n        public readonly hashFunction: HashFunction,\n        public readonly cleanupPolicy?: Partial<RxCleanupPolicy>,\n        public readonly allowSlowCount?: boolean,\n        public readonly reactivity?: RxReactivityFactory<any>\n    ) {\n        DB_COUNT++;\n\n        /**\n         * In the dev-mode, we create a pseudoInstance\n         * to get all properties of RxDatabase and ensure they do not\n         * conflict with the collection names etc.\n         * So only if it is not pseudoInstance,\n         * we have all values to prepare a real RxDatabase.\n         *\n         * TODO this is ugly, we should use a different way in the dev-mode\n         * so that all non-dev-mode code can be cleaner.\n         */\n        if (this.name !== 'pseudoInstance') {\n            /**\n             * Wrap the internal store\n             * to ensure that calls to it also end up in\n             * calculation of the idle state and the hooks.\n             */\n            this.internalStore = getWrappedStorageInstance(\n                this.asRxDatabase,\n                internalStore,\n                INTERNAL_STORE_SCHEMA\n            );\n\n            /**\n             * Start writing the storage token.\n             * Do not await the creation because it would run\n             * in a critical path that increases startup time.\n             *\n             * Writing the token takes about 20 milliseconds\n             * even on a fast adapter, so this is worth it.\n             */\n            this.storageTokenDocument = ensureStorageTokenDocumentExists(this.asRxDatabase)\n                .catch(err => this.startupErrors.push(err) as any);\n            this.storageToken = this.storageTokenDocument\n                .then(doc => doc.data.token)\n                .catch(err => this.startupErrors.push(err) as any);\n        }\n    }\n\n    get $(): Observable<RxChangeEvent<any>> {\n        return this.observable$;\n    }\n\n    public getReactivityFactory(): RxReactivityFactory<Reactivity> {\n        if (!this.reactivity) {\n            throw newRxError('DB14', { database: this.name });\n        }\n        return this.reactivity;\n    }\n\n    public _subs: Subscription[] = [];\n\n    /**\n     * Because having unhandled exceptions would fail,\n     * we have to store the async errors of the constructor here\n     * so we can throw them later.\n     */\n    public startupErrors: (RxError | RxTypeError)[] = [];\n\n    /**\n     * When the database is destroyed,\n     * these functions will be called an awaited.\n     * Used to automatically clean up stuff that\n     * belongs to this collection.\n     */\n    public onDestroy: (() => MaybePromise<any>)[] = [];\n    public destroyed: boolean = false;\n    public collections: Collections = {} as any;\n    public states: { [name: string]: RxState<any, Reactivity>; } = {};\n    public readonly eventBulks$: Subject<RxChangeEventBulk<any>> = new Subject();\n    private observable$: Observable<RxChangeEvent<any>> = this.eventBulks$\n        .pipe(\n            mergeMap(changeEventBulk => changeEventBulk.events)\n        );\n\n    /**\n     * Unique token that is stored with the data.\n     * Used to detect if the dataset has been deleted\n     * and if two RxDatabase instances work on the same dataset or not.\n     *\n     * Because reading and writing the storageToken runs in the hot path\n     * of database creation, we do not await the storageWrites but instead\n     * work with the promise when we need the value.\n     */\n    public storageToken: Promise<string> = PROMISE_RESOLVE_FALSE as any;\n    /**\n     * Stores the whole state of the internal storage token document.\n     * We need this in some plugins.\n     */\n    public storageTokenDocument: Promise<RxDocumentData<InternalStoreStorageTokenDocType>> = PROMISE_RESOLVE_FALSE as any;\n\n    /**\n     * Contains the ids of all event bulks that have been emitted\n     * by the database.\n     * Used to detect duplicates that come in again via BroadcastChannel\n     * or other streams.\n     * TODO instead of having this here, we should add a test to ensure each RxStorage\n     * behaves equal and does never emit duplicate eventBulks.\n     */\n    public emittedEventBulkIds: ObliviousSet<string> = new ObliviousSet(60 * 1000);\n\n    /**\n     * This is the main handle-point for all change events\n     * ChangeEvents created by this instance go:\n     * RxDocument -> RxCollection -> RxDatabase.$emit -> MultiInstance\n     * ChangeEvents created by other instances go:\n     * MultiInstance -> RxDatabase.$emit -> RxCollection -> RxDatabase\n     */\n    $emit(changeEventBulk: RxChangeEventBulk<any>) {\n        if (this.emittedEventBulkIds.has(changeEventBulk.id)) {\n            return;\n        }\n        this.emittedEventBulkIds.add(changeEventBulk.id);\n\n        // emit into own stream\n        this.eventBulks$.next(changeEventBulk);\n    }\n\n    /**\n     * removes the collection-doc from the internalStore\n     */\n    async removeCollectionDoc(name: string, schema: any): Promise<void> {\n        const doc = await getSingleDocument(\n            this.internalStore,\n            getPrimaryKeyOfInternalDocument(\n                _collectionNamePrimary(name, schema),\n                INTERNAL_CONTEXT_COLLECTION\n            )\n        );\n        if (!doc) {\n            throw newRxError('SNH', { name, schema });\n        }\n        const writeDoc = flatCloneDocWithMeta(doc);\n        writeDoc._deleted = true;\n\n        await this.internalStore.bulkWrite([{\n            document: writeDoc,\n            previous: doc\n        }], 'rx-database-remove-collection');\n    }\n\n    /**\n     * creates multiple RxCollections at once\n     * to be much faster by saving db txs and doing stuff in bulk-operations\n     * This function is not called often, but mostly in the critical path at the initial page load\n     * So it must be as fast as possible.\n     */\n    async addCollections<CreatedCollections = Partial<Collections>>(collectionCreators: {\n        [key in keyof CreatedCollections]: RxCollectionCreator<any>\n    }): Promise<{ [key in keyof CreatedCollections]: RxCollection<any, {}, {}, {}, Reactivity> }> {\n        const jsonSchemas: { [key in keyof CreatedCollections]: RxJsonSchema<any> } = {} as any;\n        const schemas: { [key in keyof CreatedCollections]: RxSchema<any> } = {} as any;\n        const bulkPutDocs: BulkWriteRow<InternalStoreCollectionDocType>[] = [];\n        const useArgsByCollectionName: any = {};\n\n        await Promise.all(\n            Object.entries(collectionCreators).map(async ([name, args]) => {\n                const collectionName: keyof CreatedCollections = name as any;\n                const rxJsonSchema = (args as RxCollectionCreator<any>).schema;\n                jsonSchemas[collectionName] = rxJsonSchema;\n                const schema = createRxSchema(rxJsonSchema, this.hashFunction);\n                schemas[collectionName] = schema;\n\n                // collection already exists\n                if ((this.collections as any)[name]) {\n                    throw newRxError('DB3', {\n                        name\n                    });\n                }\n\n                const collectionNameWithVersion = _collectionNamePrimary(name, rxJsonSchema);\n                const collectionDocData: RxDocumentData<InternalStoreCollectionDocType> = {\n                    id: getPrimaryKeyOfInternalDocument(\n                        collectionNameWithVersion,\n                        INTERNAL_CONTEXT_COLLECTION\n                    ),\n                    key: collectionNameWithVersion,\n                    context: INTERNAL_CONTEXT_COLLECTION,\n                    data: {\n                        name: collectionName as any,\n                        schemaHash: await schema.hash,\n                        schema: schema.jsonSchema,\n                        version: schema.version,\n                        connectedStorages: []\n                    },\n                    _deleted: false,\n                    _meta: getDefaultRxDocumentMeta(),\n                    _rev: getDefaultRevision(),\n                    _attachments: {}\n                };\n                bulkPutDocs.push({\n                    document: collectionDocData\n                });\n\n                const useArgs: any = Object.assign(\n                    {},\n                    args,\n                    {\n                        name: collectionName,\n                        schema,\n                        database: this\n                    }\n                );\n\n                // run hooks\n                const hookData: RxCollectionCreator<any> & { name: string; } = flatClone(args) as any;\n                (hookData as any).database = this;\n                hookData.name = name;\n                runPluginHooks('preCreateRxCollection', hookData);\n                useArgs.conflictHandler = hookData.conflictHandler;\n\n                useArgsByCollectionName[collectionName] = useArgs;\n            })\n        );\n\n\n        const putDocsResult = await this.internalStore.bulkWrite(\n            bulkPutDocs,\n            'rx-database-add-collection'\n        );\n\n        await ensureNoStartupErrors(this);\n\n        await Promise.all(\n            putDocsResult.error.map(async (error) => {\n                if (error.status !== 409) {\n                    throw newRxError('DB12', {\n                        database: this.name,\n                        writeError: error\n                    });\n                }\n                const docInDb: RxDocumentData<InternalStoreCollectionDocType> = ensureNotFalsy(error.documentInDb);\n                const collectionName = docInDb.data.name;\n                const schema = (schemas as any)[collectionName];\n                // collection already exists but has different schema\n                if (docInDb.data.schemaHash !== await schema.hash) {\n                    throw newRxError('DB6', {\n                        database: this.name,\n                        collection: collectionName,\n                        previousSchemaHash: docInDb.data.schemaHash,\n                        schemaHash: await schema.hash,\n                        previousSchema: docInDb.data.schema,\n                        schema: ensureNotFalsy((jsonSchemas as any)[collectionName])\n                    });\n                }\n            })\n        );\n\n        const ret: { [key in keyof CreatedCollections]: RxCollection<any, {}, {}, {}, Reactivity> } = {} as any;\n        await Promise.all(\n            Object.keys(collectionCreators).map(async (collectionName) => {\n                const useArgs = useArgsByCollectionName[collectionName];\n                const collection = await createRxCollection(useArgs);\n                (ret as any)[collectionName] = collection;\n\n                // set as getter to the database\n                (this.collections as any)[collectionName] = collection;\n                if (!(this as any)[collectionName]) {\n                    Object.defineProperty(this, collectionName, {\n                        get: () => (this.collections as any)[collectionName]\n                    });\n                }\n            })\n        );\n\n        return ret;\n    }\n\n    /**\n     * runs the given function between idleQueue-locking\n     */\n    lockedRun<T>(fn: (...args: any[]) => T): T extends Promise<any> ? T : Promise<T> {\n        return this.idleQueue.wrapCall(fn) as any;\n    }\n\n    requestIdlePromise() {\n        return this.idleQueue.requestIdlePromise();\n    }\n\n    /**\n     * Export database to a JSON friendly format.\n     */\n    exportJSON(_collections?: string[]): Promise<RxDumpDatabase<Collections>>;\n    exportJSON(_collections?: string[]): Promise<RxDumpDatabaseAny<Collections>>;\n    exportJSON(_collections?: string[]): Promise<any> {\n        throw pluginMissing('json-dump');\n    }\n\n    addState<T = any>(_name?: string): Promise<RxState<T, Reactivity>> {\n        throw pluginMissing('state');\n    }\n\n    /**\n     * Import the parsed JSON export into the collection.\n     * @param _exportedJSON The previously exported data from the `<db>.exportJSON()` method.\n     * @note When an interface is loaded in this collection all base properties of the type are typed as `any`\n     * since data could be encrypted.\n     */\n    importJSON(_exportedJSON: RxDumpDatabaseAny<Collections>): Promise<void> {\n        throw pluginMissing('json-dump');\n    }\n\n    backup(_options: BackupOptions): RxBackupState {\n        throw pluginMissing('backup');\n    }\n\n    public leaderElector(): LeaderElector {\n        throw pluginMissing('leader-election');\n    }\n\n    public isLeader(): boolean {\n        throw pluginMissing('leader-election');\n    }\n    /**\n     * returns a promise which resolves when the instance becomes leader\n     */\n    public waitForLeadership(): Promise<boolean> {\n        throw pluginMissing('leader-election');\n    }\n\n    public migrationStates(): Observable<RxMigrationState[]> {\n        throw pluginMissing('migration-schema');\n    }\n\n    /**\n     * destroys the database-instance and all collections\n     */\n    public async destroy(): Promise<boolean> {\n        if (this.destroyed) {\n            return PROMISE_RESOLVE_FALSE;\n        }\n\n        // settings destroyed = true must be the first thing to do.\n        this.destroyed = true;\n\n        await runAsyncPluginHooks('preDestroyRxDatabase', this);\n        /**\n         * Complete the event stream\n         * to stop all subscribers who forgot to unsubscribe.\n         */\n        this.eventBulks$.complete();\n\n        DB_COUNT--;\n        this._subs.map(sub => sub.unsubscribe());\n\n        /**\n         * Destroying the pseudo instance will throw\n         * because stuff is missing\n         * TODO we should not need the pseudo instance on runtime.\n         * we should generate the property list on build time.\n         */\n        if (this.name === 'pseudoInstance') {\n            return PROMISE_RESOLVE_FALSE;\n        }\n\n        /**\n         * First wait until the database is idle\n         */\n        return this.requestIdlePromise()\n            .then(() => Promise.all(this.onDestroy.map(fn => fn())))\n            // destroy all collections\n            .then(() => Promise.all(\n                Object.keys(this.collections as any)\n                    .map(key => (this.collections as any)[key])\n                    .map(col => col.destroy())\n            ))\n            // destroy internal storage instances\n            .then(() => this.internalStore.close())\n            // remove combination from USED_COMBINATIONS-map\n            .then(() => USED_DATABASE_NAMES.delete(this.storage.name + '|' + this.name))\n            .then(() => true);\n    }\n\n    /**\n     * deletes the database and its stored data.\n     * Returns the names of all removed collections.\n     */\n    remove(): Promise<string[]> {\n        return this\n            .destroy()\n            .then(() => removeRxDatabase(this.name, this.storage, this.password));\n    }\n\n    get asRxDatabase(): RxDatabase<\n        {},\n        Internals,\n        InstanceCreationOptions,\n        Reactivity\n    > {\n        return this as any;\n    }\n}\n\n/**\n * checks if an instance with same name and storage already exists\n * @throws {RxError} if used\n */\nfunction throwIfDatabaseNameUsed(\n    name: string,\n    storage: RxStorage<any, any>\n) {\n    const key = storage.name + '|' + name;\n    if (!USED_DATABASE_NAMES.has(key)) {\n        return;\n    } else {\n        throw newRxError('DB8', {\n            name,\n            storage: storage.name,\n            link: 'https://rxdb.info/rx-database.html#ignoreduplicate'\n        });\n    }\n}\n\n/**\n * Creates the storage instances that are used internally in the database\n * to store schemas and other configuration stuff.\n */\nexport async function createRxDatabaseStorageInstance<Internals, InstanceCreationOptions>(\n    databaseInstanceToken: string,\n    storage: RxStorage<Internals, InstanceCreationOptions>,\n    databaseName: string,\n    options: InstanceCreationOptions,\n    multiInstance: boolean,\n    password?: string\n): Promise<RxStorageInstance<InternalStoreDocType, Internals, InstanceCreationOptions>> {\n    const internalStore = await storage.createStorageInstance<InternalStoreDocType>(\n        {\n            databaseInstanceToken,\n            databaseName,\n            collectionName: INTERNAL_STORAGE_NAME,\n            schema: INTERNAL_STORE_SCHEMA,\n            options,\n            multiInstance,\n            password,\n            devMode: overwritable.isDevMode()\n        }\n    );\n    return internalStore;\n}\n\nexport function createRxDatabase<\n    Collections = { [key: string]: RxCollection; },\n    Internals = any,\n    InstanceCreationOptions = any,\n    Reactivity = unknown\n>(\n    {\n        storage,\n        instanceCreationOptions,\n        name,\n        password,\n        multiInstance = true,\n        eventReduce = true,\n        ignoreDuplicate = false,\n        options = {},\n        cleanupPolicy,\n        allowSlowCount = false,\n        localDocuments = false,\n        hashFunction = defaultHashSha256,\n        reactivity\n    }: RxDatabaseCreator<Internals, InstanceCreationOptions, Reactivity>\n): Promise<\n    RxDatabase<Collections, Internals, InstanceCreationOptions, Reactivity>\n> {\n    runPluginHooks('preCreateRxDatabase', {\n        storage,\n        instanceCreationOptions,\n        name,\n        password,\n        multiInstance,\n        eventReduce,\n        ignoreDuplicate,\n        options,\n        localDocuments\n    });\n    // check if combination already used\n    if (!ignoreDuplicate) {\n        throwIfDatabaseNameUsed(name, storage);\n    }\n    USED_DATABASE_NAMES.add(storage.name + '|' + name);\n\n    const databaseInstanceToken = randomCouchString(10);\n\n    return createRxDatabaseStorageInstance<\n        Internals,\n        InstanceCreationOptions\n    >(\n        databaseInstanceToken,\n        storage,\n        name,\n        instanceCreationOptions as any,\n        multiInstance,\n        password\n    )\n        /**\n         * Creating the internal store might fail\n         * if some RxStorage wrapper is used that does some checks\n         * and then throw.\n         * In that case we have to properly clean up the database.\n         */\n        .catch(err => {\n            USED_DATABASE_NAMES.delete(storage.name + '|' + name);\n            throw err;\n        })\n        .then(storageInstance => {\n            const rxDatabase: RxDatabase<Collections> = new RxDatabaseBase(\n                name,\n                databaseInstanceToken,\n                storage,\n                instanceCreationOptions,\n                password,\n                multiInstance,\n                eventReduce,\n                options,\n                storageInstance,\n                hashFunction,\n                cleanupPolicy,\n                allowSlowCount,\n                reactivity\n            ) as any;\n\n            return runAsyncPluginHooks('createRxDatabase', {\n                database: rxDatabase,\n                creator: {\n                    storage,\n                    instanceCreationOptions,\n                    name,\n                    password,\n                    multiInstance,\n                    eventReduce,\n                    ignoreDuplicate,\n                    options,\n                    localDocuments\n                }\n            }).then(() => rxDatabase);\n        });\n}\n\n/**\n * Removes the database and all its known data\n * with all known collections and all internal meta data.\n *\n * Returns the names of the removed collections.\n */\nexport async function removeRxDatabase(\n    databaseName: string,\n    storage: RxStorage<any, any>,\n    password?: string\n): Promise<string[]> {\n    const databaseInstanceToken = randomCouchString(10);\n    const dbInternalsStorageInstance = await createRxDatabaseStorageInstance(\n        databaseInstanceToken,\n        storage,\n        databaseName,\n        {},\n        false,\n        password\n    );\n    const collectionDocs = await getAllCollectionDocuments(dbInternalsStorageInstance);\n    const collectionNames = new Set<string>();\n    collectionDocs.forEach(doc => collectionNames.add(doc.data.name));\n    const removedCollectionNames: string[] = Array.from(collectionNames);\n\n    await Promise.all(\n        removedCollectionNames.map(collectionName => removeCollectionStorages(\n            storage,\n            dbInternalsStorageInstance,\n            databaseInstanceToken,\n            databaseName,\n            collectionName,\n            password\n        ))\n    );\n\n    await runAsyncPluginHooks('postRemoveRxDatabase', {\n        databaseName,\n        storage\n    });\n\n    await dbInternalsStorageInstance.remove();\n    return removedCollectionNames;\n}\n\nexport function isRxDatabase(obj: any) {\n    return obj instanceof RxDatabaseBase;\n}\n\nexport function dbCount(): number {\n    return DB_COUNT;\n}\n\n\n/**\n * Returns true if the given RxDatabase was the first\n * instance that was created on the storage with this name.\n *\n * Can be used for some optimizations because on the first instantiation,\n * we can assume that no data was written before.\n */\nexport async function isRxDatabaseFirstTimeInstantiated(\n    database: RxDatabase\n): Promise<boolean> {\n    const tokenDoc = await database.storageTokenDocument;\n    return tokenDoc.data.instanceToken === database.token;\n}\n\n\n/**\n * For better performance some tasks run async\n * and are awaited later.\n * But we still have to ensure that there have been no errors\n * on database creation.\n */\nexport async function ensureNoStartupErrors(\n    rxDatabase: RxDatabaseBase<any, any, any, any>\n) {\n    await rxDatabase.storageToken;\n    if (rxDatabase.startupErrors[0]) {\n        throw rxDatabase.startupErrors[0];\n    }\n}\n","/**\n * this handles how plugins are added to rxdb\n * basically it changes the internal prototypes\n * by passing them to the plugins-functions\n */\nimport {\n    RxSchema\n} from './rx-schema.ts';\nimport {\n    basePrototype as RxDocumentPrototype\n} from './rx-document.ts';\nimport {\n    RxQueryBase\n} from './rx-query.ts';\nimport {\n    RxCollectionBase\n} from './rx-collection.ts';\nimport {\n    RxDatabaseBase\n} from './rx-database.ts';\nimport type {\n    RxPlugin\n} from './types/index.d.ts';\n\nimport { overwritable } from './overwritable.ts';\nimport {\n    HOOKS,\n    runPluginHooks\n} from './hooks.ts';\nimport { newRxError, newRxTypeError } from './rx-error.ts';\n\n/**\n * prototypes that can be manipulated with a plugin\n */\nconst PROTOTYPES: { [k: string]: any; } = {\n    RxSchema: RxSchema.prototype,\n    RxDocument: RxDocumentPrototype,\n    RxQuery: RxQueryBase.prototype,\n    RxCollection: RxCollectionBase.prototype,\n    RxDatabase: RxDatabaseBase.prototype\n};\n\nconst ADDED_PLUGINS: Set<RxPlugin | any> = new Set();\nconst ADDED_PLUGIN_NAMES: Set<string> = new Set();\n\n/**\n * Add a plugin to the RxDB library.\n * Plugins are added globally and cannot be removed.\n */\nexport function addRxPlugin(plugin: RxPlugin) {\n    runPluginHooks('preAddRxPlugin', { plugin, plugins: ADDED_PLUGINS });\n\n    // do nothing if added before\n    if (ADDED_PLUGINS.has(plugin)) {\n        return;\n    } else {\n\n        // ensure no other plugin with the same name was already added\n        if (ADDED_PLUGIN_NAMES.has(plugin.name)) {\n            throw newRxError('PL3', {\n                name: plugin.name,\n                plugin,\n            });\n        }\n\n        ADDED_PLUGINS.add(plugin);\n        ADDED_PLUGIN_NAMES.add(plugin.name);\n    }\n\n    /**\n     * To identify broken configurations,\n     * we only allow RxDB plugins to be passed into addRxPlugin().\n     */\n    if (!plugin.rxdb) {\n        throw newRxTypeError('PL1', {\n            plugin\n        });\n    }\n\n    if (plugin.init) {\n        plugin.init();\n    }\n\n    // prototype-overwrites\n    if (plugin.prototypes) {\n        Object\n            .entries(plugin.prototypes)\n            .forEach(([name, fun]) => {\n                return (fun as any)(PROTOTYPES[name]);\n            });\n    }\n    // overwritable-overwrites\n    if (plugin.overwritable) {\n        Object.assign(\n            overwritable,\n            plugin.overwritable\n        );\n    }\n    // extend-hooks\n    if (plugin.hooks) {\n        Object\n            .entries(plugin.hooks)\n            .forEach(([name, hooksObj]) => {\n                if (hooksObj.after) {\n                    HOOKS[name].push(hooksObj.after);\n                }\n                if (hooksObj.before) {\n                    HOOKS[name].unshift(hooksObj.before);\n                }\n            });\n    }\n}\n\n","// Making the module version consumable via require - to prohibit\n// multiple occurrancies of the same module in the same app\n// (dual package hazard, https://nodejs.org/api/packages.html#dual-package-hazard)\nimport _Dexie from \"./dist/dexie.min.js\";\nconst DexieSymbol = Symbol.for(\"Dexie\");\nconst Dexie = globalThis[DexieSymbol] || (globalThis[DexieSymbol] = _Dexie);\nif (_Dexie.semVer !== Dexie.semVer) {\n    throw new Error(`Two different versions of Dexie loaded in the same app: ${_Dexie.semVer} and ${Dexie.semVer}`);\n}\nconst { liveQuery, mergeRanges, rangesOverlap, RangeSet, cmp, Entity, PropModSymbol, PropModification, replacePrefix } = Dexie;\nexport { liveQuery, mergeRanges, rangesOverlap, RangeSet, cmp, Dexie, Entity, PropModSymbol, PropModification, replacePrefix };\nexport default Dexie;\n","import type {\n    DexieStorageInternals,\n    RxDocumentData,\n    RxJsonSchema\n} from '../../types/index.d.ts';\nimport { Dexie } from 'dexie';\nimport type { DexieSettings } from '../../types/index.d.ts';\nimport { flatClone, getFromMapOrCreate, getProperty, setProperty, toArray, uniqueArray } from '../utils/index.ts';\nimport {\n    getPrimaryFieldOfPrimaryKey,\n    getSchemaByObjectPath\n} from '../../rx-schema-helper.ts';\n\nexport const DEXIE_DOCS_TABLE_NAME = 'docs';\nexport const DEXIE_CHANGES_TABLE_NAME = 'changes';\nexport const DEXIE_ATTACHMENTS_TABLE_NAME = 'attachments';\n\nexport const RX_STORAGE_NAME_DEXIE = 'dexie';\n\nconst DEXIE_STATE_DB_BY_NAME: Map<string, DexieStorageInternals> = new Map();\nconst REF_COUNT_PER_DEXIE_DB: Map<DexieStorageInternals, number> = new Map();\nexport function getDexieDbWithTables(\n    databaseName: string,\n    collectionName: string,\n    settings: DexieSettings,\n    schema: RxJsonSchema<any>\n): DexieStorageInternals {\n    const dexieDbName = 'rxdb-dexie-' + databaseName + '--' + schema.version + '--' + collectionName;\n\n    const state = getFromMapOrCreate(\n        DEXIE_STATE_DB_BY_NAME,\n        dexieDbName,\n        () => {\n            const value = (async () => {\n                /**\n                 * IndexedDB was not designed for dynamically adding tables on the fly,\n                 * so we create one dexie database per RxDB storage instance.\n                 * @link https://github.com/dexie/Dexie.js/issues/684#issuecomment-373224696\n                 */\n                const useSettings = flatClone(settings);\n                useSettings.autoOpen = false;\n                const dexieDb = new Dexie(dexieDbName, useSettings);\n                const dexieStoresSettings = {\n                    [DEXIE_DOCS_TABLE_NAME]: getDexieStoreSchema(schema),\n                    [DEXIE_CHANGES_TABLE_NAME]: '++sequence, id',\n                    [DEXIE_ATTACHMENTS_TABLE_NAME]: 'id'\n                };\n\n                dexieDb.version(1).stores(dexieStoresSettings);\n                await dexieDb.open();\n\n                return {\n                    dexieDb,\n                    dexieTable: (dexieDb as any)[DEXIE_DOCS_TABLE_NAME],\n                    dexieAttachmentsTable: (dexieDb as any)[DEXIE_ATTACHMENTS_TABLE_NAME],\n                    booleanIndexes: getBooleanIndexes(schema)\n                };\n            })();\n            DEXIE_STATE_DB_BY_NAME.set(dexieDbName, state);\n            REF_COUNT_PER_DEXIE_DB.set(state, 0);\n            return value;\n        }\n    );\n    return state;\n}\n\nexport async function closeDexieDb(statePromise: DexieStorageInternals) {\n    const state = await statePromise;\n    const prevCount = REF_COUNT_PER_DEXIE_DB.get(statePromise);\n    const newCount = (prevCount as any) - 1;\n    if (newCount === 0) {\n        state.dexieDb.close();\n        REF_COUNT_PER_DEXIE_DB.delete(statePromise);\n    } else {\n        REF_COUNT_PER_DEXIE_DB.set(statePromise, newCount);\n    }\n}\n\n\n\n/**\n * It is not possible to set non-javascript-variable-syntax\n * keys as IndexedDB indexes. So we have to substitute the pipe-char\n * which comes from the key-compression plugin.\n */\nexport const DEXIE_PIPE_SUBSTITUTE = '__';\nexport function dexieReplaceIfStartsWithPipe(str: string): string {\n    const split = str.split('.');\n    if (split.length > 1) {\n        return split.map(part => dexieReplaceIfStartsWithPipe(part)).join('.');\n    }\n\n    if (str.startsWith('|')) {\n        const withoutFirst = str.substring(1);\n        return DEXIE_PIPE_SUBSTITUTE + withoutFirst;\n    } else {\n        return str;\n    }\n}\n\nexport function dexieReplaceIfStartsWithPipeRevert(str: string): string {\n    const split = str.split('.');\n    if (split.length > 1) {\n        return split.map(part => dexieReplaceIfStartsWithPipeRevert(part)).join('.');\n    }\n\n    if (str.startsWith(DEXIE_PIPE_SUBSTITUTE)) {\n        const withoutFirst = str.substring(DEXIE_PIPE_SUBSTITUTE.length);\n        return '|' + withoutFirst;\n    } else {\n        return str;\n    }\n}\n\n\n/**\n * IndexedDB does not support boolean indexing.\n * So we have to replace true/false with '1'/'0'\n * @param d \n */\nexport function fromStorageToDexie<RxDocType>(\n    booleanIndexes: string[],\n    d: RxDocumentData<RxDocType>\n): any {\n    if (!d) {\n        return d;\n    }\n    d = flatClone(d);\n    d = fromStorageToDexieField(d);\n\n    booleanIndexes.forEach(idx => {\n        const val = getProperty(d, idx);\n        const newVal = val ? '1' : '0';\n        setProperty(d, idx, newVal);\n    });\n\n    return d;\n}\nexport function fromDexieToStorage<RxDocType>(\n    booleanIndexes: string[],\n    d: any\n): RxDocumentData<RxDocType> {\n    if (!d) {\n        return d;\n    }\n\n    d = flatClone(d);\n    d = fromDexieToStorageField(d);\n\n    booleanIndexes.forEach(idx => {\n        const val = getProperty(d, idx);\n        const newVal = val === '1' ? true : false;\n        setProperty(d, idx, newVal);\n    });\n\n    return d;\n}\n\n/**\n * @recursive\n */\nexport function fromStorageToDexieField(documentData: RxDocumentData<any>): any {\n    if (\n        !documentData ||\n        typeof documentData === 'string' ||\n        typeof documentData === 'number' ||\n        typeof documentData === 'boolean'\n    ) {\n        return documentData;\n    } else if (Array.isArray(documentData)) {\n        return documentData.map(row => fromStorageToDexieField(row));\n    } else if (typeof documentData === 'object') {\n        const ret: any = {};\n        Object.entries(documentData).forEach(([key, value]) => {\n            if (typeof value === 'object') {\n                value = fromStorageToDexieField(value);\n            }\n            ret[dexieReplaceIfStartsWithPipe(key)] = value;\n        });\n        return ret;\n    }\n}\n\nexport function fromDexieToStorageField(documentData: any): RxDocumentData<any> {\n    if (!documentData || typeof documentData === 'string' || typeof documentData === 'number' || typeof documentData === 'boolean') {\n        return documentData;\n    } else if (Array.isArray(documentData)) {\n        return documentData.map(row => fromDexieToStorageField(row));\n    } else if (typeof documentData === 'object') {\n        const ret: any = {};\n        Object.entries(documentData).forEach(([key, value]) => {\n            if (typeof value === 'object' || Array.isArray(documentData)) {\n                value = fromDexieToStorageField(value);\n            }\n            ret[dexieReplaceIfStartsWithPipeRevert(key)] = value;\n        });\n        return ret;\n    }\n}\n\n\n/**\n * Creates a string that can be used to create the dexie store.\n * @link https://dexie.org/docs/API-Reference#quick-reference\n */\nexport function getDexieStoreSchema(\n    rxJsonSchema: RxJsonSchema<any>\n): string {\n    let parts: string[][] = [];\n\n    /**\n     * First part must be the primary key\n     * @link https://github.com/dexie/Dexie.js/issues/1307#issuecomment-846590912\n     */\n    const primaryKey = getPrimaryFieldOfPrimaryKey(rxJsonSchema.primaryKey);\n    parts.push([primaryKey]);\n    parts.push(['_deleted', primaryKey]);\n\n    // add other indexes\n    if (rxJsonSchema.indexes) {\n        rxJsonSchema.indexes.forEach(index => {\n            const arIndex = toArray(index);\n            parts.push(arIndex);\n        });\n    }\n\n    // we also need the _meta.lwt+primaryKey index for the getChangedDocumentsSince() method.\n    parts.push(['_meta.lwt', primaryKey]);\n\n    // and this one for the cleanup()\n    parts.push(['_meta.lwt']);\n\n    /**\n     * It is not possible to set non-javascript-variable-syntax\n     * keys as IndexedDB indexes. So we have to substitute the pipe-char\n     * which comes from the key-compression plugin.\n     */\n    parts = parts.map(part => {\n        return part.map(str => dexieReplaceIfStartsWithPipe(str));\n    });\n\n    let dexieSchemaRows = parts.map(part => {\n        if (part.length === 1) {\n            return part[0];\n        } else {\n            return '[' + part.join('+') + ']';\n        }\n    });\n    dexieSchemaRows = dexieSchemaRows.filter((elem: any, pos: any, arr: any) => arr.indexOf(elem) === pos); // unique;\n    const dexieSchema = dexieSchemaRows.join(', ');\n\n    return dexieSchema;\n}\n\n/**\n * Returns all documents in the database.\n * Non-deleted plus deleted ones.\n */\nexport async function getDocsInDb<RxDocType>(\n    internals: DexieStorageInternals,\n    docIds: string[]\n): Promise<RxDocumentData<RxDocType>[]> {\n    const state = await internals;\n    const docsInDb = await state.dexieTable.bulkGet(docIds);\n    return docsInDb.map(d => fromDexieToStorage(state.booleanIndexes, d));\n}\n\n\nexport function attachmentObjectId(documentId: string, attachmentId: string): string {\n    return documentId + '||' + attachmentId;\n}\n\n\nexport function getBooleanIndexes(schema: RxJsonSchema<any>): string[] {\n    const checkedFields = new Set<string>();\n    const ret: string[] = [];\n    if (!schema.indexes) {\n        return ret;\n    }\n    schema.indexes.forEach(index => {\n        const fields = toArray(index);\n        fields.forEach(field => {\n            if (checkedFields.has(field)) {\n                return;\n            }\n            checkedFields.add(field);\n            const schemaObj = getSchemaByObjectPath(schema, field);\n            if (schemaObj.type === 'boolean') {\n                ret.push(field);\n            }\n        });\n    });\n    ret.push('_deleted');\n\n    return uniqueArray(ret);\n}\n\n","import { INDEX_MAX, INDEX_MIN } from '../../query-planner.ts';\nimport { getQueryMatcher, getSortComparator } from '../../rx-query-helper.ts';\nimport type {\n    PreparedQuery,\n    QueryMatcher,\n    RxDocumentData,\n    RxQueryPlan,\n    RxStorageQueryResult\n} from '../../types/index.d.ts';\nimport {\n    dexieReplaceIfStartsWithPipe,\n    DEXIE_DOCS_TABLE_NAME,\n    fromDexieToStorage\n} from './dexie-helper.ts';\nimport type { RxStorageInstanceDexie } from './rx-storage-instance-dexie.ts';\n\nexport function mapKeyForKeyRange(k: any) {\n    if (k === INDEX_MIN) {\n        return -Infinity;\n    } else {\n        return k;\n    }\n}\n\nfunction rangeFieldToBooleanSubstitute(\n    booleanIndexes: string[],\n    fieldName: string,\n    value: any\n) {\n    if (booleanIndexes.includes(fieldName)) {\n        const newValue = value === INDEX_MAX || value === true ? '1' : '0';\n        return newValue;\n    } else {\n        return value;\n    }\n}\n\nexport function getKeyRangeByQueryPlan(\n    booleanIndexes: string[],\n    queryPlan: RxQueryPlan,\n    IDBKeyRange?: any\n) {\n    if (!IDBKeyRange) {\n        if (typeof window === 'undefined') {\n            throw new Error('IDBKeyRange missing');\n        } else {\n            IDBKeyRange = window.IDBKeyRange;\n        }\n    }\n\n\n    const startKeys = queryPlan.startKeys\n        .map((v, i) => {\n            const fieldName = queryPlan.index[i];\n            return rangeFieldToBooleanSubstitute(booleanIndexes, fieldName, v);\n        })\n        .map(mapKeyForKeyRange);\n    const endKeys = queryPlan.endKeys\n        .map((v, i) => {\n            const fieldName = queryPlan.index[i];\n            return rangeFieldToBooleanSubstitute(booleanIndexes, fieldName, v);\n        })\n        .map(mapKeyForKeyRange);\n\n    const keyRange = IDBKeyRange.bound(\n        startKeys,\n        endKeys,\n        !queryPlan.inclusiveStart,\n        !queryPlan.inclusiveEnd\n    );\n    return keyRange;\n}\n\n\n/**\n * Runs mango queries over the Dexie.js database.\n */\nexport async function dexieQuery<RxDocType>(\n    instance: RxStorageInstanceDexie<RxDocType>,\n    preparedQuery: PreparedQuery<RxDocType>\n): Promise<RxStorageQueryResult<RxDocType>> {\n    const state = await instance.internals;\n    const query = preparedQuery.query;\n\n    const skip = query.skip ? query.skip : 0;\n    const limit = query.limit ? query.limit : Infinity;\n    const skipPlusLimit = skip + limit;\n    const queryPlan = preparedQuery.queryPlan;\n\n    let queryMatcher: QueryMatcher<RxDocumentData<RxDocType>> | false = false;\n    if (!queryPlan.selectorSatisfiedByIndex) {\n        queryMatcher = getQueryMatcher(\n            instance.schema,\n            preparedQuery.query\n        );\n    }\n    const keyRange = getKeyRangeByQueryPlan(\n        state.booleanIndexes,\n        queryPlan,\n        (state.dexieDb as any)._options.IDBKeyRange\n    );\n\n    const queryPlanFields: string[] = queryPlan.index;\n\n    let rows: any[] = [];\n    await state.dexieDb.transaction(\n        'r',\n        state.dexieTable,\n        async (dexieTx) => {\n            /**\n             * TODO here we use the native IndexedDB transaction\n             * to get the cursor.\n             * Instead we should not leave Dexie.js API and find\n             * a way to create the cursor with Dexie.js.\n             */\n            const tx = (dexieTx as any).idbtrans;\n\n            // const nativeIndexedDB = state.dexieDb.backendDB();\n            // const trans = nativeIndexedDB.transaction([DEXIE_DOCS_TABLE_NAME], 'readonly');\n\n            const store = tx.objectStore(DEXIE_DOCS_TABLE_NAME);\n            let index: any;\n            let indexName: string;\n            indexName = '[' +\n                queryPlanFields\n                    .map(field => dexieReplaceIfStartsWithPipe(field))\n                    .join('+')\n                + ']';\n            index = store.index(indexName);\n\n\n            const cursorReq = index.openCursor(keyRange);\n            await new Promise<void>(res => {\n                cursorReq.onsuccess = function (e: any) {\n                    const cursor = e.target.result;\n                    if (cursor) {\n                        // We have a record in cursor.value\n                        const docData = fromDexieToStorage<RxDocType>(state.booleanIndexes, cursor.value);\n                        if (!queryMatcher || queryMatcher(docData)) {\n                            rows.push(docData);\n                        }\n\n                        /**\n                         * If we do not have to manually sort\n                         * and have enough documents,\n                         * we can abort iterating over the cursor\n                         * because we already have every relevant document.\n                         */\n                        if (\n                            queryPlan.sortSatisfiedByIndex &&\n                            rows.length === skipPlusLimit\n                        ) {\n                            res();\n                        } else {\n                            cursor.continue();\n                        }\n                    } else {\n                        // Iteration complete\n                        res();\n                    }\n                };\n            });\n\n\n        }\n    );\n\n\n    if (!queryPlan.sortSatisfiedByIndex) {\n        const sortComparator = getSortComparator(instance.schema, preparedQuery.query);\n        rows = rows.sort(sortComparator);\n    }\n\n    // apply skip and limit boundaries.\n    rows = rows.slice(skip, skipPlusLimit);\n\n    /**\n     * Comment this in for debugging to check all fields in the database.\n     */\n    // const docsInDb = await state.dexieTable.filter(queryMatcher).toArray();\n    // let documents = docsInDb\n    //     .map(docData => stripDexieKey(docData))\n    //     .sort(sortComparator);\n    // if (preparedQuery.skip) {\n    //     documents = documents.slice(preparedQuery.skip);\n    // }\n    // if (preparedQuery.limit && documents.length > preparedQuery.limit) {\n    //     documents = documents.slice(0, preparedQuery.limit);\n    // }\n\n\n\n    return {\n        documents: rows\n    };\n}\n\n\nexport async function dexieCount<RxDocType>(\n    instance: RxStorageInstanceDexie<RxDocType>,\n    preparedQuery: PreparedQuery<RxDocType>\n): Promise<number> {\n    const state = await instance.internals;\n    const queryPlan = preparedQuery.queryPlan;\n    const queryPlanFields: string[] = queryPlan.index;\n\n    const keyRange = getKeyRangeByQueryPlan(\n        state.booleanIndexes,\n        queryPlan,\n        (state.dexieDb as any)._options.IDBKeyRange\n    );\n    let count: number = -1;\n    await state.dexieDb.transaction(\n        'r',\n        state.dexieTable,\n        async (dexieTx) => {\n            const tx = (dexieTx as any).idbtrans;\n            const store = tx.objectStore(DEXIE_DOCS_TABLE_NAME);\n            let index: any;\n            let indexName: string;\n            indexName = '[' +\n                queryPlanFields\n                    .map(field => dexieReplaceIfStartsWithPipe(field))\n                    .join('+')\n                + ']';\n            index = store.index(indexName);\n            const request = index.count(keyRange);\n            count = await new Promise<number>((res, rej) => {\n                request.onsuccess = function () {\n                    res(request.result);\n                };\n                request.onerror = (err: any) => rej(err);\n            });\n        }\n    );\n    return count;\n}\n","const { isArray } = Array;\n\n/**\n * Used in operators and functions that accept either a list of arguments, or an array of arguments\n * as a single argument.\n */\nexport function argsOrArgArray<T>(args: (T | T[])[]): T[] {\n  return args.length === 1 && isArray(args[0]) ? args[0] : (args as T[]);\n}\n","import { ObservableInput, ObservableInputTuple, OperatorFunction, SchedulerLike } from '../types';\nimport { operate } from '../util/lift';\nimport { argsOrArgArray } from '../util/argsOrArgArray';\nimport { mergeAll } from './mergeAll';\nimport { popNumber, popScheduler } from '../util/args';\nimport { from } from '../observable/from';\n\n/** @deprecated Replaced with {@link mergeWith}. Will be removed in v8. */\nexport function merge<T, A extends readonly unknown[]>(...sources: [...ObservableInputTuple<A>]): OperatorFunction<T, T | A[number]>;\n/** @deprecated Replaced with {@link mergeWith}. Will be removed in v8. */\nexport function merge<T, A extends readonly unknown[]>(\n  ...sourcesAndConcurrency: [...ObservableInputTuple<A>, number]\n): OperatorFunction<T, T | A[number]>;\n/** @deprecated Replaced with {@link mergeWith}. Will be removed in v8. */\nexport function merge<T, A extends readonly unknown[]>(\n  ...sourcesAndScheduler: [...ObservableInputTuple<A>, SchedulerLike]\n): OperatorFunction<T, T | A[number]>;\n/** @deprecated Replaced with {@link mergeWith}. Will be removed in v8. */\nexport function merge<T, A extends readonly unknown[]>(\n  ...sourcesAndConcurrencyAndScheduler: [...ObservableInputTuple<A>, number, SchedulerLike]\n): OperatorFunction<T, T | A[number]>;\n\nexport function merge<T>(...args: unknown[]): OperatorFunction<T, unknown> {\n  const scheduler = popScheduler(args);\n  const concurrent = popNumber(args, Infinity);\n  args = argsOrArgArray(args);\n\n  return operate((source, subscriber) => {\n    mergeAll(concurrent)(from([source, ...(args as ObservableInput<T>[])], scheduler)).subscribe(subscriber);\n  });\n}\n","/**\n * returns true if the given object is a promise\n */\nexport function isPromise(obj) {\n  return obj && typeof obj.then === 'function';\n}\nexport var PROMISE_RESOLVED_FALSE = Promise.resolve(false);\nexport var PROMISE_RESOLVED_TRUE = Promise.resolve(true);\nexport var PROMISE_RESOLVED_VOID = Promise.resolve();\nexport function sleep(time, resolveWith) {\n  if (!time) time = 0;\n  return new Promise(function (res) {\n    return setTimeout(function () {\n      return res(resolveWith);\n    }, time);\n  });\n}\nexport function randomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\n/**\n * https://stackoverflow.com/a/8084248\n */\nexport function randomToken() {\n  return Math.random().toString(36).substring(2);\n}\nvar lastMs = 0;\n\n/**\n * Returns the current unix time in micro-seconds,\n * WARNING: This is a pseudo-function\n * Performance.now is not reliable in webworkers, so we just make sure to never return the same time.\n * This is enough in browsers, and this function will not be used in nodejs.\n * The main reason for this hack is to ensure that BroadcastChannel behaves equal to production when it is used in fast-running unit tests.\n */\nexport function microSeconds() {\n  var ret = Date.now() * 1000; // milliseconds to microseconds\n  if (ret <= lastMs) {\n    ret = lastMs + 1;\n  }\n  lastMs = ret;\n  return ret;\n}\n\n/**\n * Check if WebLock API is supported.\n * @link https://developer.mozilla.org/en-US/docs/Web/API/Web_Locks_API\n */\nexport function supportsWebLockAPI() {\n  if (typeof navigator !== 'undefined' && typeof navigator.locks !== 'undefined' && typeof navigator.locks.request === 'function') {\n    return true;\n  } else {\n    return false;\n  }\n}","import { microSeconds as micro, PROMISE_RESOLVED_VOID } from '../util.js';\nexport var microSeconds = micro;\nexport var type = 'native';\nexport function create(channelName) {\n  var state = {\n    time: micro(),\n    messagesCallback: null,\n    bc: new BroadcastChannel(channelName),\n    subFns: [] // subscriberFunctions\n  };\n\n  state.bc.onmessage = function (msgEvent) {\n    if (state.messagesCallback) {\n      state.messagesCallback(msgEvent.data);\n    }\n  };\n  return state;\n}\nexport function close(channelState) {\n  channelState.bc.close();\n  channelState.subFns = [];\n}\nexport function postMessage(channelState, messageJson) {\n  try {\n    channelState.bc.postMessage(messageJson, false);\n    return PROMISE_RESOLVED_VOID;\n  } catch (err) {\n    return Promise.reject(err);\n  }\n}\nexport function onMessage(channelState, fn) {\n  channelState.messagesCallback = fn;\n}\nexport function canBeUsed() {\n  // Deno runtime\n  // eslint-disable-next-line\n  if (typeof globalThis !== 'undefined' && globalThis.Deno && globalThis.Deno.args) {\n    return true;\n  }\n\n  // Browser runtime\n  if ((typeof window !== 'undefined' || typeof self !== 'undefined') && typeof BroadcastChannel === 'function') {\n    if (BroadcastChannel._pubkey) {\n      throw new Error('BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill');\n    }\n    return true;\n  } else {\n    return false;\n  }\n}\nexport function averageResponseTime() {\n  return 150;\n}\nexport var NativeMethod = {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};","export function fillOptionsWithDefaults() {\n  var originalOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = JSON.parse(JSON.stringify(originalOptions));\n\n  // main\n  if (typeof options.webWorkerSupport === 'undefined') options.webWorkerSupport = true;\n\n  // indexed-db\n  if (!options.idb) options.idb = {};\n  //  after this time the messages get deleted\n  if (!options.idb.ttl) options.idb.ttl = 1000 * 45;\n  if (!options.idb.fallbackInterval) options.idb.fallbackInterval = 150;\n  //  handles abrupt db onclose events.\n  if (originalOptions.idb && typeof originalOptions.idb.onclose === 'function') options.idb.onclose = originalOptions.idb.onclose;\n\n  // localstorage\n  if (!options.localstorage) options.localstorage = {};\n  if (!options.localstorage.removeTimeout) options.localstorage.removeTimeout = 1000 * 60;\n\n  // custom methods\n  if (originalOptions.methods) options.methods = originalOptions.methods;\n\n  // node\n  if (!options.node) options.node = {};\n  if (!options.node.ttl) options.node.ttl = 1000 * 60 * 2; // 2 minutes;\n  /**\n   * On linux use 'ulimit -Hn' to get the limit of open files.\n   * On ubuntu this was 4096 for me, so we use half of that as maxParallelWrites default.\n   */\n  if (!options.node.maxParallelWrites) options.node.maxParallelWrites = 2048;\n  if (typeof options.node.useFastPath === 'undefined') options.node.useFastPath = true;\n  return options;\n}","/**\n * this method uses indexeddb to store the messages\n * There is currently no observerAPI for idb\n * @link https://github.com/w3c/IndexedDB/issues/51\n * \n * When working on this, ensure to use these performance optimizations:\n * @link https://rxdb.info/slow-indexeddb.html\n */\n\nimport { sleep, randomInt, randomToken, microSeconds as micro, PROMISE_RESOLVED_VOID } from '../util.js';\nexport var microSeconds = micro;\nimport { ObliviousSet } from 'oblivious-set';\nimport { fillOptionsWithDefaults } from '../options.js';\nvar DB_PREFIX = 'pubkey.broadcast-channel-0-';\nvar OBJECT_STORE_ID = 'messages';\n\n/**\n * Use relaxed durability for faster performance on all transactions.\n * @link https://nolanlawson.com/2021/08/22/speeding-up-indexeddb-reads-and-writes/\n */\nexport var TRANSACTION_SETTINGS = {\n  durability: 'relaxed'\n};\nexport var type = 'idb';\nexport function getIdb() {\n  if (typeof indexedDB !== 'undefined') return indexedDB;\n  if (typeof window !== 'undefined') {\n    if (typeof window.mozIndexedDB !== 'undefined') return window.mozIndexedDB;\n    if (typeof window.webkitIndexedDB !== 'undefined') return window.webkitIndexedDB;\n    if (typeof window.msIndexedDB !== 'undefined') return window.msIndexedDB;\n  }\n  return false;\n}\n\n/**\n * If possible, we should explicitly commit IndexedDB transactions\n * for better performance.\n * @link https://nolanlawson.com/2021/08/22/speeding-up-indexeddb-reads-and-writes/\n */\nexport function commitIndexedDBTransaction(tx) {\n  if (tx.commit) {\n    tx.commit();\n  }\n}\nexport function createDatabase(channelName) {\n  var IndexedDB = getIdb();\n\n  // create table\n  var dbName = DB_PREFIX + channelName;\n\n  /**\n   * All IndexedDB databases are opened without version\n   * because it is a bit faster, especially on firefox\n   * @link http://nparashuram.com/IndexedDB/perf/#Open%20Database%20with%20version\n   */\n  var openRequest = IndexedDB.open(dbName);\n  openRequest.onupgradeneeded = function (ev) {\n    var db = ev.target.result;\n    db.createObjectStore(OBJECT_STORE_ID, {\n      keyPath: 'id',\n      autoIncrement: true\n    });\n  };\n  return new Promise(function (res, rej) {\n    openRequest.onerror = function (ev) {\n      return rej(ev);\n    };\n    openRequest.onsuccess = function () {\n      res(openRequest.result);\n    };\n  });\n}\n\n/**\n * writes the new message to the database\n * so other readers can find it\n */\nexport function writeMessage(db, readerUuid, messageJson) {\n  var time = Date.now();\n  var writeObject = {\n    uuid: readerUuid,\n    time: time,\n    data: messageJson\n  };\n  var tx = db.transaction([OBJECT_STORE_ID], 'readwrite', TRANSACTION_SETTINGS);\n  return new Promise(function (res, rej) {\n    tx.oncomplete = function () {\n      return res();\n    };\n    tx.onerror = function (ev) {\n      return rej(ev);\n    };\n    var objectStore = tx.objectStore(OBJECT_STORE_ID);\n    objectStore.add(writeObject);\n    commitIndexedDBTransaction(tx);\n  });\n}\nexport function getAllMessages(db) {\n  var tx = db.transaction(OBJECT_STORE_ID, 'readonly', TRANSACTION_SETTINGS);\n  var objectStore = tx.objectStore(OBJECT_STORE_ID);\n  var ret = [];\n  return new Promise(function (res) {\n    objectStore.openCursor().onsuccess = function (ev) {\n      var cursor = ev.target.result;\n      if (cursor) {\n        ret.push(cursor.value);\n        //alert(\"Name for SSN \" + cursor.key + \" is \" + cursor.value.name);\n        cursor[\"continue\"]();\n      } else {\n        commitIndexedDBTransaction(tx);\n        res(ret);\n      }\n    };\n  });\n}\nexport function getMessagesHigherThan(db, lastCursorId) {\n  var tx = db.transaction(OBJECT_STORE_ID, 'readonly', TRANSACTION_SETTINGS);\n  var objectStore = tx.objectStore(OBJECT_STORE_ID);\n  var ret = [];\n  var keyRangeValue = IDBKeyRange.bound(lastCursorId + 1, Infinity);\n\n  /**\n   * Optimization shortcut,\n   * if getAll() can be used, do not use a cursor.\n   * @link https://rxdb.info/slow-indexeddb.html\n   */\n  if (objectStore.getAll) {\n    var getAllRequest = objectStore.getAll(keyRangeValue);\n    return new Promise(function (res, rej) {\n      getAllRequest.onerror = function (err) {\n        return rej(err);\n      };\n      getAllRequest.onsuccess = function (e) {\n        res(e.target.result);\n      };\n    });\n  }\n  function openCursor() {\n    // Occasionally Safari will fail on IDBKeyRange.bound, this\n    // catches that error, having it open the cursor to the first\n    // item. When it gets data it will advance to the desired key.\n    try {\n      keyRangeValue = IDBKeyRange.bound(lastCursorId + 1, Infinity);\n      return objectStore.openCursor(keyRangeValue);\n    } catch (e) {\n      return objectStore.openCursor();\n    }\n  }\n  return new Promise(function (res, rej) {\n    var openCursorRequest = openCursor();\n    openCursorRequest.onerror = function (err) {\n      return rej(err);\n    };\n    openCursorRequest.onsuccess = function (ev) {\n      var cursor = ev.target.result;\n      if (cursor) {\n        if (cursor.value.id < lastCursorId + 1) {\n          cursor[\"continue\"](lastCursorId + 1);\n        } else {\n          ret.push(cursor.value);\n          cursor[\"continue\"]();\n        }\n      } else {\n        commitIndexedDBTransaction(tx);\n        res(ret);\n      }\n    };\n  });\n}\nexport function removeMessagesById(channelState, ids) {\n  if (channelState.closed) {\n    return Promise.resolve([]);\n  }\n  var tx = channelState.db.transaction(OBJECT_STORE_ID, 'readwrite', TRANSACTION_SETTINGS);\n  var objectStore = tx.objectStore(OBJECT_STORE_ID);\n  return Promise.all(ids.map(function (id) {\n    var deleteRequest = objectStore[\"delete\"](id);\n    return new Promise(function (res) {\n      deleteRequest.onsuccess = function () {\n        return res();\n      };\n    });\n  }));\n}\nexport function getOldMessages(db, ttl) {\n  var olderThen = Date.now() - ttl;\n  var tx = db.transaction(OBJECT_STORE_ID, 'readonly', TRANSACTION_SETTINGS);\n  var objectStore = tx.objectStore(OBJECT_STORE_ID);\n  var ret = [];\n  return new Promise(function (res) {\n    objectStore.openCursor().onsuccess = function (ev) {\n      var cursor = ev.target.result;\n      if (cursor) {\n        var msgObk = cursor.value;\n        if (msgObk.time < olderThen) {\n          ret.push(msgObk);\n          //alert(\"Name for SSN \" + cursor.key + \" is \" + cursor.value.name);\n          cursor[\"continue\"]();\n        } else {\n          // no more old messages,\n          commitIndexedDBTransaction(tx);\n          res(ret);\n        }\n      } else {\n        res(ret);\n      }\n    };\n  });\n}\nexport function cleanOldMessages(channelState) {\n  return getOldMessages(channelState.db, channelState.options.idb.ttl).then(function (tooOld) {\n    return removeMessagesById(channelState, tooOld.map(function (msg) {\n      return msg.id;\n    }));\n  });\n}\nexport function create(channelName, options) {\n  options = fillOptionsWithDefaults(options);\n  return createDatabase(channelName).then(function (db) {\n    var state = {\n      closed: false,\n      lastCursorId: 0,\n      channelName: channelName,\n      options: options,\n      uuid: randomToken(),\n      /**\n       * emittedMessagesIds\n       * contains all messages that have been emitted before\n       * @type {ObliviousSet}\n       */\n      eMIs: new ObliviousSet(options.idb.ttl * 2),\n      // ensures we do not read messages in parallel\n      writeBlockPromise: PROMISE_RESOLVED_VOID,\n      messagesCallback: null,\n      readQueuePromises: [],\n      db: db\n    };\n\n    /**\n     * Handle abrupt closes that do not originate from db.close().\n     * This could happen, for example, if the underlying storage is\n     * removed or if the user clears the database in the browser's\n     * history preferences.\n     */\n    db.onclose = function () {\n      state.closed = true;\n      if (options.idb.onclose) options.idb.onclose();\n    };\n\n    /**\n     * if service-workers are used,\n     * we have no 'storage'-event if they post a message,\n     * therefore we also have to set an interval\n     */\n    _readLoop(state);\n    return state;\n  });\n}\nfunction _readLoop(state) {\n  if (state.closed) return;\n  readNewMessages(state).then(function () {\n    return sleep(state.options.idb.fallbackInterval);\n  }).then(function () {\n    return _readLoop(state);\n  });\n}\nfunction _filterMessage(msgObj, state) {\n  if (msgObj.uuid === state.uuid) return false; // send by own\n  if (state.eMIs.has(msgObj.id)) return false; // already emitted\n  if (msgObj.data.time < state.messagesCallbackTime) return false; // older then onMessageCallback\n  return true;\n}\n\n/**\n * reads all new messages from the database and emits them\n */\nfunction readNewMessages(state) {\n  // channel already closed\n  if (state.closed) return PROMISE_RESOLVED_VOID;\n\n  // if no one is listening, we do not need to scan for new messages\n  if (!state.messagesCallback) return PROMISE_RESOLVED_VOID;\n  return getMessagesHigherThan(state.db, state.lastCursorId).then(function (newerMessages) {\n    var useMessages = newerMessages\n    /**\n     * there is a bug in iOS where the msgObj can be undefined sometimes\n     * so we filter them out\n     * @link https://github.com/pubkey/broadcast-channel/issues/19\n     */.filter(function (msgObj) {\n      return !!msgObj;\n    }).map(function (msgObj) {\n      if (msgObj.id > state.lastCursorId) {\n        state.lastCursorId = msgObj.id;\n      }\n      return msgObj;\n    }).filter(function (msgObj) {\n      return _filterMessage(msgObj, state);\n    }).sort(function (msgObjA, msgObjB) {\n      return msgObjA.time - msgObjB.time;\n    }); // sort by time\n    useMessages.forEach(function (msgObj) {\n      if (state.messagesCallback) {\n        state.eMIs.add(msgObj.id);\n        state.messagesCallback(msgObj.data);\n      }\n    });\n    return PROMISE_RESOLVED_VOID;\n  });\n}\nexport function close(channelState) {\n  channelState.closed = true;\n  channelState.db.close();\n}\nexport function postMessage(channelState, messageJson) {\n  channelState.writeBlockPromise = channelState.writeBlockPromise.then(function () {\n    return writeMessage(channelState.db, channelState.uuid, messageJson);\n  }).then(function () {\n    if (randomInt(0, 10) === 0) {\n      /* await (do not await) */\n      cleanOldMessages(channelState);\n    }\n  });\n  return channelState.writeBlockPromise;\n}\nexport function onMessage(channelState, fn, time) {\n  channelState.messagesCallbackTime = time;\n  channelState.messagesCallback = fn;\n  readNewMessages(channelState);\n}\nexport function canBeUsed() {\n  return !!getIdb();\n}\nexport function averageResponseTime(options) {\n  return options.idb.fallbackInterval * 2;\n}\nexport var IndexedDBMethod = {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};","/**\n * A localStorage-only method which uses localstorage and its 'storage'-event\n * This does not work inside webworkers because they have no access to localstorage\n * This is basically implemented to support IE9 or your grandmother's toaster.\n * @link https://caniuse.com/#feat=namevalue-storage\n * @link https://caniuse.com/#feat=indexeddb\n */\n\nimport { ObliviousSet } from 'oblivious-set';\nimport { fillOptionsWithDefaults } from '../options.js';\nimport { sleep, randomToken, microSeconds as micro } from '../util.js';\nexport var microSeconds = micro;\nvar KEY_PREFIX = 'pubkey.broadcastChannel-';\nexport var type = 'localstorage';\n\n/**\n * copied from crosstab\n * @link https://github.com/tejacques/crosstab/blob/master/src/crosstab.js#L32\n */\nexport function getLocalStorage() {\n  var localStorage;\n  if (typeof window === 'undefined') return null;\n  try {\n    localStorage = window.localStorage;\n    localStorage = window['ie8-eventlistener/storage'] || window.localStorage;\n  } catch (e) {\n    // New versions of Firefox throw a Security exception\n    // if cookies are disabled. See\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1028153\n  }\n  return localStorage;\n}\nexport function storageKey(channelName) {\n  return KEY_PREFIX + channelName;\n}\n\n/**\n* writes the new message to the storage\n* and fires the storage-event so other readers can find it\n*/\nexport function postMessage(channelState, messageJson) {\n  return new Promise(function (res) {\n    sleep().then(function () {\n      var key = storageKey(channelState.channelName);\n      var writeObj = {\n        token: randomToken(),\n        time: Date.now(),\n        data: messageJson,\n        uuid: channelState.uuid\n      };\n      var value = JSON.stringify(writeObj);\n      getLocalStorage().setItem(key, value);\n\n      /**\n       * StorageEvent does not fire the 'storage' event\n       * in the window that changes the state of the local storage.\n       * So we fire it manually\n       */\n      var ev = document.createEvent('Event');\n      ev.initEvent('storage', true, true);\n      ev.key = key;\n      ev.newValue = value;\n      window.dispatchEvent(ev);\n      res();\n    });\n  });\n}\nexport function addStorageEventListener(channelName, fn) {\n  var key = storageKey(channelName);\n  var listener = function listener(ev) {\n    if (ev.key === key) {\n      fn(JSON.parse(ev.newValue));\n    }\n  };\n  window.addEventListener('storage', listener);\n  return listener;\n}\nexport function removeStorageEventListener(listener) {\n  window.removeEventListener('storage', listener);\n}\nexport function create(channelName, options) {\n  options = fillOptionsWithDefaults(options);\n  if (!canBeUsed()) {\n    throw new Error('BroadcastChannel: localstorage cannot be used');\n  }\n  var uuid = randomToken();\n\n  /**\n   * eMIs\n   * contains all messages that have been emitted before\n   * @type {ObliviousSet}\n   */\n  var eMIs = new ObliviousSet(options.localstorage.removeTimeout);\n  var state = {\n    channelName: channelName,\n    uuid: uuid,\n    eMIs: eMIs // emittedMessagesIds\n  };\n\n  state.listener = addStorageEventListener(channelName, function (msgObj) {\n    if (!state.messagesCallback) return; // no listener\n    if (msgObj.uuid === uuid) return; // own message\n    if (!msgObj.token || eMIs.has(msgObj.token)) return; // already emitted\n    if (msgObj.data.time && msgObj.data.time < state.messagesCallbackTime) return; // too old\n\n    eMIs.add(msgObj.token);\n    state.messagesCallback(msgObj.data);\n  });\n  return state;\n}\nexport function close(channelState) {\n  removeStorageEventListener(channelState.listener);\n}\nexport function onMessage(channelState, fn, time) {\n  channelState.messagesCallbackTime = time;\n  channelState.messagesCallback = fn;\n}\nexport function canBeUsed() {\n  var ls = getLocalStorage();\n  if (!ls) return false;\n  try {\n    var key = '__broadcastchannel_check';\n    ls.setItem(key, 'works');\n    ls.removeItem(key);\n  } catch (e) {\n    // Safari 10 in private mode will not allow write access to local\n    // storage and fail with a QuotaExceededError. See\n    // https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API#Private_Browsing_Incognito_modes\n    return false;\n  }\n  return true;\n}\nexport function averageResponseTime() {\n  var defaultTime = 120;\n  var userAgent = navigator.userAgent.toLowerCase();\n  if (userAgent.includes('safari') && !userAgent.includes('chrome')) {\n    // safari is much slower so this time is higher\n    return defaultTime * 2;\n  }\n  return defaultTime;\n}\nexport var LocalstorageMethod = {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};","import { microSeconds as micro } from '../util.js';\nexport var microSeconds = micro;\nexport var type = 'simulate';\nvar SIMULATE_CHANNELS = new Set();\nexport function create(channelName) {\n  var state = {\n    time: microSeconds(),\n    name: channelName,\n    messagesCallback: null\n  };\n  SIMULATE_CHANNELS.add(state);\n  return state;\n}\nexport function close(channelState) {\n  SIMULATE_CHANNELS[\"delete\"](channelState);\n}\nexport var SIMULATE_DELAY_TIME = 5;\nexport function postMessage(channelState, messageJson) {\n  return new Promise(function (res) {\n    return setTimeout(function () {\n      var channelArray = Array.from(SIMULATE_CHANNELS);\n      channelArray.forEach(function (channel) {\n        if (channel.name === channelState.name &&\n        // has same name\n        channel !== channelState &&\n        // not own channel\n        !!channel.messagesCallback &&\n        // has subscribers\n        channel.time < messageJson.time // channel not created after postMessage() call\n        ) {\n          channel.messagesCallback(messageJson);\n        }\n      });\n      res();\n    }, SIMULATE_DELAY_TIME);\n  });\n}\nexport function onMessage(channelState, fn) {\n  channelState.messagesCallback = fn;\n}\nexport function canBeUsed() {\n  return true;\n}\nexport function averageResponseTime() {\n  return SIMULATE_DELAY_TIME;\n}\nexport var SimulateMethod = {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};","import { NativeMethod } from './methods/native.js';\nimport { IndexedDBMethod } from './methods/indexed-db.js';\nimport { LocalstorageMethod } from './methods/localstorage.js';\nimport { SimulateMethod } from './methods/simulate.js';\n// the line below will be removed from es5/browser builds\n\n// order is important\nvar METHODS = [NativeMethod,\n// fastest\nIndexedDBMethod, LocalstorageMethod];\nexport function chooseMethod(options) {\n  var chooseMethods = [].concat(options.methods, METHODS).filter(Boolean);\n\n  // the line below will be removed from es5/browser builds\n\n  // directly chosen\n  if (options.type) {\n    if (options.type === 'simulate') {\n      // only use simulate-method if directly chosen\n      return SimulateMethod;\n    }\n    var ret = chooseMethods.find(function (m) {\n      return m.type === options.type;\n    });\n    if (!ret) throw new Error('method-type ' + options.type + ' not found');else return ret;\n  }\n\n  /**\n   * if no webworker support is needed,\n   * remove idb from the list so that localstorage will be chosen\n   */\n  if (!options.webWorkerSupport) {\n    chooseMethods = chooseMethods.filter(function (m) {\n      return m.type !== 'idb';\n    });\n  }\n  var useMethod = chooseMethods.find(function (method) {\n    return method.canBeUsed();\n  });\n  if (!useMethod) {\n    throw new Error(\"No usable method found in \" + JSON.stringify(METHODS.map(function (m) {\n      return m.type;\n    })));\n  } else {\n    return useMethod;\n  }\n}","import { isPromise, PROMISE_RESOLVED_FALSE, PROMISE_RESOLVED_VOID } from './util.js';\nimport { chooseMethod } from './method-chooser.js';\nimport { fillOptionsWithDefaults } from './options.js';\n\n/**\n * Contains all open channels,\n * used in tests to ensure everything is closed.\n */\nexport var OPEN_BROADCAST_CHANNELS = new Set();\nvar lastId = 0;\nexport var BroadcastChannel = function BroadcastChannel(name, options) {\n  // identifier of the channel to debug stuff\n  this.id = lastId++;\n  OPEN_BROADCAST_CHANNELS.add(this);\n  this.name = name;\n  if (ENFORCED_OPTIONS) {\n    options = ENFORCED_OPTIONS;\n  }\n  this.options = fillOptionsWithDefaults(options);\n  this.method = chooseMethod(this.options);\n\n  // isListening\n  this._iL = false;\n\n  /**\n   * _onMessageListener\n   * setting onmessage twice,\n   * will overwrite the first listener\n   */\n  this._onML = null;\n\n  /**\n   * _addEventListeners\n   */\n  this._addEL = {\n    message: [],\n    internal: []\n  };\n\n  /**\n   * Unsent message promises\n   * where the sending is still in progress\n   * @type {Set<Promise>}\n   */\n  this._uMP = new Set();\n\n  /**\n   * _beforeClose\n   * array of promises that will be awaited\n   * before the channel is closed\n   */\n  this._befC = [];\n\n  /**\n   * _preparePromise\n   */\n  this._prepP = null;\n  _prepareChannel(this);\n};\n\n// STATICS\n\n/**\n * used to identify if someone overwrites\n * window.BroadcastChannel with this\n * See methods/native.js\n */\nBroadcastChannel._pubkey = true;\n\n/**\n * clears the tmp-folder if is node\n * @return {Promise<boolean>} true if has run, false if not node\n */\nexport function clearNodeFolder(options) {\n  options = fillOptionsWithDefaults(options);\n  var method = chooseMethod(options);\n  if (method.type === 'node') {\n    return method.clearNodeFolder().then(function () {\n      return true;\n    });\n  } else {\n    return PROMISE_RESOLVED_FALSE;\n  }\n}\n\n/**\n * if set, this method is enforced,\n * no mather what the options are\n */\nvar ENFORCED_OPTIONS;\nexport function enforceOptions(options) {\n  ENFORCED_OPTIONS = options;\n}\n\n// PROTOTYPE\nBroadcastChannel.prototype = {\n  postMessage: function postMessage(msg) {\n    if (this.closed) {\n      throw new Error('BroadcastChannel.postMessage(): ' + 'Cannot post message after channel has closed ' +\n      /**\n       * In the past when this error appeared, it was really hard to debug.\n       * So now we log the msg together with the error so it at least\n       * gives some clue about where in your application this happens.\n       */\n      JSON.stringify(msg));\n    }\n    return _post(this, 'message', msg);\n  },\n  postInternal: function postInternal(msg) {\n    return _post(this, 'internal', msg);\n  },\n  set onmessage(fn) {\n    var time = this.method.microSeconds();\n    var listenObj = {\n      time: time,\n      fn: fn\n    };\n    _removeListenerObject(this, 'message', this._onML);\n    if (fn && typeof fn === 'function') {\n      this._onML = listenObj;\n      _addListenerObject(this, 'message', listenObj);\n    } else {\n      this._onML = null;\n    }\n  },\n  addEventListener: function addEventListener(type, fn) {\n    var time = this.method.microSeconds();\n    var listenObj = {\n      time: time,\n      fn: fn\n    };\n    _addListenerObject(this, type, listenObj);\n  },\n  removeEventListener: function removeEventListener(type, fn) {\n    var obj = this._addEL[type].find(function (obj) {\n      return obj.fn === fn;\n    });\n    _removeListenerObject(this, type, obj);\n  },\n  close: function close() {\n    var _this = this;\n    if (this.closed) {\n      return;\n    }\n    OPEN_BROADCAST_CHANNELS[\"delete\"](this);\n    this.closed = true;\n    var awaitPrepare = this._prepP ? this._prepP : PROMISE_RESOLVED_VOID;\n    this._onML = null;\n    this._addEL.message = [];\n    return awaitPrepare\n    // wait until all current sending are processed\n    .then(function () {\n      return Promise.all(Array.from(_this._uMP));\n    })\n    // run before-close hooks\n    .then(function () {\n      return Promise.all(_this._befC.map(function (fn) {\n        return fn();\n      }));\n    })\n    // close the channel\n    .then(function () {\n      return _this.method.close(_this._state);\n    });\n  },\n  get type() {\n    return this.method.type;\n  },\n  get isClosed() {\n    return this.closed;\n  }\n};\n\n/**\n * Post a message over the channel\n * @returns {Promise} that resolved when the message sending is done\n */\nfunction _post(broadcastChannel, type, msg) {\n  var time = broadcastChannel.method.microSeconds();\n  var msgObj = {\n    time: time,\n    type: type,\n    data: msg\n  };\n  var awaitPrepare = broadcastChannel._prepP ? broadcastChannel._prepP : PROMISE_RESOLVED_VOID;\n  return awaitPrepare.then(function () {\n    var sendPromise = broadcastChannel.method.postMessage(broadcastChannel._state, msgObj);\n\n    // add/remove to unsent messages list\n    broadcastChannel._uMP.add(sendPromise);\n    sendPromise[\"catch\"]().then(function () {\n      return broadcastChannel._uMP[\"delete\"](sendPromise);\n    });\n    return sendPromise;\n  });\n}\nfunction _prepareChannel(channel) {\n  var maybePromise = channel.method.create(channel.name, channel.options);\n  if (isPromise(maybePromise)) {\n    channel._prepP = maybePromise;\n    maybePromise.then(function (s) {\n      // used in tests to simulate slow runtime\n      /*if (channel.options.prepareDelay) {\n           await new Promise(res => setTimeout(res, this.options.prepareDelay));\n      }*/\n      channel._state = s;\n    });\n  } else {\n    channel._state = maybePromise;\n  }\n}\nfunction _hasMessageListeners(channel) {\n  if (channel._addEL.message.length > 0) return true;\n  if (channel._addEL.internal.length > 0) return true;\n  return false;\n}\nfunction _addListenerObject(channel, type, obj) {\n  channel._addEL[type].push(obj);\n  _startListening(channel);\n}\nfunction _removeListenerObject(channel, type, obj) {\n  channel._addEL[type] = channel._addEL[type].filter(function (o) {\n    return o !== obj;\n  });\n  _stopListening(channel);\n}\nfunction _startListening(channel) {\n  if (!channel._iL && _hasMessageListeners(channel)) {\n    // someone is listening, start subscribing\n\n    var listenerFn = function listenerFn(msgObj) {\n      channel._addEL[msgObj.type].forEach(function (listenerObject) {\n        if (msgObj.time >= listenerObject.time) {\n          listenerObject.fn(msgObj.data);\n        }\n      });\n    };\n    var time = channel.method.microSeconds();\n    if (channel._prepP) {\n      channel._prepP.then(function () {\n        channel._iL = true;\n        channel.method.onMessage(channel._state, listenerFn, time);\n      });\n    } else {\n      channel._iL = true;\n      channel.method.onMessage(channel._state, listenerFn, time);\n    }\n  }\n}\nfunction _stopListening(channel) {\n  if (channel._iL && !_hasMessageListeners(channel)) {\n    // no one is listening, stop subscribing\n    channel._iL = false;\n    var time = channel.method.microSeconds();\n    channel.method.onMessage(channel._state, null, time);\n  }\n}","/**\n * When a persistent RxStorage is used in more the one JavaScript process,\n * the even stream of the changestream() function must be broadcasted to the other\n * RxStorageInstances of the same databaseName+collectionName.\n *\n * In the past this was done by RxDB but it makes more sense to do this\n * at the RxStorage level so that the broadcasting etc can all happen inside of a WebWorker\n * and not on the main thread.\n * Also it makes it less complex to stack up different RxStorages onto each other\n * like what we do with the in-memory plugin.\n *\n * This is intended to be used inside of createStorageInstance() of a storage.\n * Do not use this if the storage anyway broadcasts the events like when using MongoDB\n * or in the future W3C might introduce a way to listen to IndexedDB changes.\n */\n\nimport { Observable, Subject } from 'rxjs';\nimport { mergeWith } from 'rxjs/operators';\nimport type {\n    EventBulk,\n    RxStorageChangeEvent,\n    RxStorageInstance,\n    RxStorageInstanceCreationParams\n} from './types/index.d.ts';\n\nimport {\n    BroadcastChannel\n} from 'broadcast-channel';\n\n/**\n * The broadcast-channel is reused by the databaseInstanceToken.\n * This is required so that it is easy to simulate multi-tab usage\n * in the test where different instances of the same RxDatabase must\n * have different broadcast channels.\n * But also it ensures that for each RxDatabase we only create a single\n * broadcast channel that can even be reused in the leader election plugin.\n *\n * TODO at the end of the unit tests,\n * we should ensure that all channels are closed and cleaned up.\n * Otherwise we have forgot something.\n */\nexport const BROADCAST_CHANNEL_BY_TOKEN: Map<string, {\n    bc: BroadcastChannel<RxStorageMultiInstanceBroadcastType>;\n    /**\n     * Contains all context objects that currently use the channel.\n     * If this becomes empty, we can close the channel\n     */\n    refs: Set<any>;\n}> = new Map();\n\n\nexport type RxStorageMultiInstanceBroadcastType = {\n    storageName: string;\n    collectionName: string;\n    /**\n     * collection.schema.version\n     */\n    version: number;\n    databaseName: string;\n    eventBulk: EventBulk<any, any>;\n};\n\nexport function getBroadcastChannelReference(\n    storageName: string,\n    databaseInstanceToken: string,\n    databaseName: string,\n    refObject: any\n): BroadcastChannel<RxStorageMultiInstanceBroadcastType> {\n    let state = BROADCAST_CHANNEL_BY_TOKEN.get(databaseInstanceToken);\n    if (!state) {\n        state = {\n            /**\n             * We have to use the databaseName instead of the databaseInstanceToken\n             * in the BroadcastChannel name because different instances must end with the same\n             * channel name to be able to broadcast messages between each other.\n             */\n            bc: new BroadcastChannel(['RxDB:', storageName, databaseName].join('|')),\n            refs: new Set<any>()\n        };\n        BROADCAST_CHANNEL_BY_TOKEN.set(databaseInstanceToken, state);\n    }\n    state.refs.add(refObject);\n    return state.bc;\n}\n\nexport function removeBroadcastChannelReference(\n    databaseInstanceToken: string,\n    refObject: any\n) {\n    const state = BROADCAST_CHANNEL_BY_TOKEN.get(databaseInstanceToken);\n    if (!state) {\n        return;\n    }\n    state.refs.delete(refObject);\n    if (state.refs.size === 0) {\n        BROADCAST_CHANNEL_BY_TOKEN.delete(databaseInstanceToken);\n        return state.bc.close();\n    }\n}\n\n\nexport function addRxStorageMultiInstanceSupport<RxDocType>(\n    storageName: string,\n    instanceCreationParams: RxStorageInstanceCreationParams<RxDocType, any>,\n    instance: RxStorageInstance<RxDocType, any, any>,\n    /**\n     * If provided, that channel will be used\n     * instead of an own one.\n     */\n    providedBroadcastChannel?: BroadcastChannel<any>\n) {\n    if (!instanceCreationParams.multiInstance) {\n        return;\n    }\n\n    type Emit = EventBulk<RxStorageChangeEvent<RxDocType>, any>;\n\n    const broadcastChannel = providedBroadcastChannel ?\n        providedBroadcastChannel :\n        getBroadcastChannelReference(\n            storageName,\n            instanceCreationParams.databaseInstanceToken,\n            instance.databaseName,\n            instance\n        );\n\n    const changesFromOtherInstances$: Subject<Emit> = new Subject();\n\n\n    const eventListener = (msg: RxStorageMultiInstanceBroadcastType) => {\n        if (\n            msg.storageName === storageName &&\n            msg.databaseName === instanceCreationParams.databaseName &&\n            msg.collectionName === instanceCreationParams.collectionName &&\n            msg.version === instanceCreationParams.schema.version\n        ) {\n            changesFromOtherInstances$.next(msg.eventBulk);\n        }\n    };\n\n    broadcastChannel.addEventListener('message', eventListener);\n\n    const oldChangestream$ = instance.changeStream();\n\n    let closed = false;\n    const sub = oldChangestream$.subscribe(eventBulk => {\n        if (closed) {\n            return;\n        }\n        broadcastChannel.postMessage({\n            storageName: storageName,\n            databaseName: instanceCreationParams.databaseName,\n            collectionName: instanceCreationParams.collectionName,\n            version: instanceCreationParams.schema.version,\n            eventBulk\n        });\n    });\n\n    instance.changeStream = function (): Observable<Emit> {\n        return changesFromOtherInstances$.asObservable().pipe(\n            mergeWith(oldChangestream$)\n        );\n    };\n\n    const oldClose = instance.close.bind(instance);\n    instance.close = async function () {\n        closed = true;\n        sub.unsubscribe();\n        broadcastChannel.removeEventListener('message', eventListener);\n        if (!providedBroadcastChannel) {\n            await removeBroadcastChannelReference(\n                instanceCreationParams.databaseInstanceToken,\n                instance\n            );\n        }\n        return oldClose();\n    };\n\n    const oldRemove = instance.remove.bind(instance);\n    instance.remove = async function () {\n        closed = true;\n        sub.unsubscribe();\n        broadcastChannel.removeEventListener('message', eventListener);\n        if (!providedBroadcastChannel) {\n            await removeBroadcastChannelReference(\n                instanceCreationParams.databaseInstanceToken,\n                instance\n            );\n        }\n        return oldRemove();\n    };\n}\n","import { ObservableInputTuple, OperatorFunction } from '../types';\nimport { merge } from './merge';\n\n/**\n * Merge the values from all observables to a single observable result.\n *\n * Creates an observable, that when subscribed to, subscribes to the source\n * observable, and all other sources provided as arguments. All values from\n * every source are emitted from the resulting subscription.\n *\n * When all sources complete, the resulting observable will complete.\n *\n * When any source errors, the resulting observable will error.\n *\n * ## Example\n *\n * Joining all outputs from multiple user input event streams\n *\n * ```ts\n * import { fromEvent, map, mergeWith } from 'rxjs';\n *\n * const clicks$ = fromEvent(document, 'click').pipe(map(() => 'click'));\n * const mousemoves$ = fromEvent(document, 'mousemove').pipe(map(() => 'mousemove'));\n * const dblclicks$ = fromEvent(document, 'dblclick').pipe(map(() => 'dblclick'));\n *\n * mousemoves$\n *   .pipe(mergeWith(clicks$, dblclicks$))\n *   .subscribe(x => console.log(x));\n *\n * // result (assuming user interactions)\n * // 'mousemove'\n * // 'mousemove'\n * // 'mousemove'\n * // 'click'\n * // 'click'\n * // 'dblclick'\n * ```\n *\n * @see {@link merge}\n *\n * @param otherSources the sources to combine the current source with.\n * @return A function that returns an Observable that merges the values from\n * all given Observables.\n */\nexport function mergeWith<T, A extends readonly unknown[]>(\n  ...otherSources: [...ObservableInputTuple<A>]\n): OperatorFunction<T, T | A[number]> {\n  return merge(...otherSources);\n}\n","import {\n    Subject,\n    Observable\n} from 'rxjs';\nimport {\n    now,\n    PROMISE_RESOLVE_VOID,\n    RX_META_LWT_MINIMUM,\n    sortDocumentsByLastWriteTime,\n    lastOfArray,\n    ensureNotFalsy\n} from '../utils/index.ts';\nimport type {\n    RxStorageInstance,\n    RxStorageChangeEvent,\n    RxDocumentData,\n    BulkWriteRow,\n    RxStorageBulkWriteResponse,\n    RxStorageQueryResult,\n    RxJsonSchema,\n    RxStorageInstanceCreationParams,\n    EventBulk,\n    StringKeys,\n    RxConflictResultionTask,\n    RxConflictResultionTaskSolution,\n    RxStorageDefaultCheckpoint,\n    CategorizeBulkWriteRowsOutput,\n    RxStorageCountResult,\n    PreparedQuery\n} from '../../types/index.d.ts';\nimport type {\n    DexieSettings,\n    DexieStorageInternals\n} from '../../types/plugins/dexie.d.ts';\nimport { RxStorageDexie } from './rx-storage-dexie.ts';\nimport {\n    attachmentObjectId,\n    closeDexieDb,\n    fromDexieToStorage,\n    fromStorageToDexie,\n    getDexieDbWithTables,\n    getDocsInDb,\n    RX_STORAGE_NAME_DEXIE\n} from './dexie-helper.ts';\nimport { dexieCount, dexieQuery } from './dexie-query.ts';\nimport { getPrimaryFieldOfPrimaryKey } from '../../rx-schema-helper.ts';\nimport { categorizeBulkWriteRows } from '../../rx-storage-helper.ts';\nimport { addRxStorageMultiInstanceSupport } from '../../rx-storage-multiinstance.ts';\nimport { newRxError } from '../../rx-error.ts';\n\nlet instanceId = now();\n\nexport class RxStorageInstanceDexie<RxDocType> implements RxStorageInstance<\n    RxDocType,\n    DexieStorageInternals,\n    DexieSettings,\n    RxStorageDefaultCheckpoint\n> {\n    public readonly primaryPath: StringKeys<RxDocumentData<RxDocType>>;\n    private changes$: Subject<EventBulk<RxStorageChangeEvent<RxDocumentData<RxDocType>>, RxStorageDefaultCheckpoint>> = new Subject();\n    public readonly instanceId = instanceId++;\n    public closed?: Promise<void>;\n\n    constructor(\n        public readonly storage: RxStorageDexie,\n        public readonly databaseName: string,\n        public readonly collectionName: string,\n        public readonly schema: Readonly<RxJsonSchema<RxDocumentData<RxDocType>>>,\n        public readonly internals: DexieStorageInternals,\n        public readonly options: Readonly<DexieSettings>,\n        public readonly settings: DexieSettings\n    ) {\n        this.primaryPath = getPrimaryFieldOfPrimaryKey(this.schema.primaryKey);\n    }\n\n    async bulkWrite(\n        documentWrites: BulkWriteRow<RxDocType>[],\n        context: string\n    ): Promise<RxStorageBulkWriteResponse<RxDocType>> {\n        ensureNotClosed(this);\n\n\n        /**\n         * Check some assumptions to ensure RxDB\n         * does not call the storage with an invalid write.\n         */\n        documentWrites.forEach(row => {\n            // ensure revision is set\n            if (\n                !row.document._rev ||\n                (\n                    row.previous &&\n                    !row.previous._rev\n                )\n            ) {\n                throw newRxError('SNH', { args: { row } });\n            }\n        });\n\n\n\n        const state = await this.internals;\n        const ret: RxStorageBulkWriteResponse<RxDocType> = {\n            success: [],\n            error: []\n        };\n\n        const documentKeys: string[] = documentWrites.map(writeRow => writeRow.document[this.primaryPath] as any);\n        let categorized: CategorizeBulkWriteRowsOutput<RxDocType> | undefined;\n        await state.dexieDb.transaction(\n            'rw',\n            state.dexieTable,\n            state.dexieAttachmentsTable,\n            async () => {\n                const docsInDbMap = new Map<string, RxDocumentData<RxDocType>>();\n                const docsInDbWithInternals = await getDocsInDb<RxDocType>(this.internals, documentKeys);\n                docsInDbWithInternals.forEach(docWithDexieInternals => {\n                    const doc = docWithDexieInternals;\n                    if (doc) {\n                        docsInDbMap.set((doc as any)[this.primaryPath], doc as any);\n                    }\n                    return doc;\n                });\n\n                categorized = categorizeBulkWriteRows<RxDocType>(\n                    this,\n                    this.primaryPath as any,\n                    docsInDbMap,\n                    documentWrites,\n                    context\n                );\n                ret.error = categorized.errors;\n\n                /**\n                 * Batch up the database operations\n                 * so we can later run them in bulk.\n                 */\n                let bulkPutDocs: any[] = [];\n                categorized.bulkInsertDocs.forEach(row => {\n                    ret.success.push(row.document);\n                    bulkPutDocs.push(row.document);\n                });\n                categorized.bulkUpdateDocs.forEach(row => {\n                    ret.success.push(row.document);\n                    bulkPutDocs.push(row.document);\n                });\n                bulkPutDocs = bulkPutDocs.map(d => fromStorageToDexie(state.booleanIndexes, d));\n                if (bulkPutDocs.length > 0) {\n                    await state.dexieTable.bulkPut(bulkPutDocs);\n                }\n\n\n\n                // handle attachments\n                const putAttachments: { id: string, data: string }[] = [];\n                categorized.attachmentsAdd.forEach(attachment => {\n                    putAttachments.push({\n                        id: attachmentObjectId(attachment.documentId, attachment.attachmentId),\n                        data: attachment.attachmentData.data\n                    });\n                });\n                categorized.attachmentsUpdate.forEach(attachment => {\n                    putAttachments.push({\n                        id: attachmentObjectId(attachment.documentId, attachment.attachmentId),\n                        data: attachment.attachmentData.data\n                    });\n                });\n                await state.dexieAttachmentsTable.bulkPut(putAttachments);\n                await state.dexieAttachmentsTable.bulkDelete(\n                    categorized.attachmentsRemove.map(attachment => attachmentObjectId(attachment.documentId, attachment.attachmentId))\n                );\n\n            });\n\n        categorized = ensureNotFalsy(categorized);\n        if (categorized.eventBulk.events.length > 0) {\n            const lastState = ensureNotFalsy(categorized.newestRow).document;\n            categorized.eventBulk.checkpoint = {\n                id: lastState[this.primaryPath],\n                lwt: lastState._meta.lwt\n            };\n            categorized.eventBulk.endTime = now();\n            this.changes$.next(categorized.eventBulk);\n        }\n\n        return ret;\n    }\n\n    async findDocumentsById(\n        ids: string[],\n        deleted: boolean\n    ): Promise<RxDocumentData<RxDocType>[]> {\n        ensureNotClosed(this);\n        const state = await this.internals;\n        const ret: RxDocumentData<RxDocType>[] = [];\n\n        await state.dexieDb.transaction(\n            'r',\n            state.dexieTable,\n            async () => {\n                const docsInDb = await getDocsInDb<RxDocType>(this.internals, ids);\n                docsInDb.forEach(documentInDb => {\n                    if (\n                        documentInDb &&\n                        (!documentInDb._deleted || deleted)\n                    ) {\n                        ret.push(documentInDb);\n                    }\n                });\n            });\n        return ret;\n    }\n\n    query(preparedQuery: PreparedQuery<RxDocType>): Promise<RxStorageQueryResult<RxDocType>> {\n        ensureNotClosed(this);\n        return dexieQuery(\n            this,\n            preparedQuery\n        );\n    }\n    async count(\n        preparedQuery: PreparedQuery<RxDocType>\n    ): Promise<RxStorageCountResult> {\n        if (preparedQuery.queryPlan.selectorSatisfiedByIndex) {\n            const result = await dexieCount(this, preparedQuery);\n            return {\n                count: result,\n                mode: 'fast'\n            };\n        } else {\n            const result = await dexieQuery(this, preparedQuery);\n            return {\n                count: result.documents.length,\n                mode: 'slow'\n            };\n        }\n    }\n\n    changeStream(): Observable<EventBulk<RxStorageChangeEvent<RxDocumentData<RxDocType>>, RxStorageDefaultCheckpoint>> {\n        ensureNotClosed(this);\n        return this.changes$.asObservable();\n    }\n\n    async cleanup(minimumDeletedTime: number): Promise<boolean> {\n        ensureNotClosed(this);\n        const state = await this.internals;\n        await state.dexieDb.transaction(\n            'rw',\n            state.dexieTable,\n            async () => {\n                const maxDeletionTime = now() - minimumDeletedTime;\n                /**\n                 * TODO only fetch _deleted=true\n                 */\n                const toRemove = await state.dexieTable\n                    .where('_meta.lwt')\n                    .below(maxDeletionTime)\n                    .toArray();\n                const removeIds: string[] = [];\n                toRemove.forEach(doc => {\n                    if (doc._deleted === '1') {\n                        removeIds.push(doc[this.primaryPath]);\n                    }\n                });\n                await state.dexieTable.bulkDelete(removeIds);\n            }\n        );\n\n        /**\n         * TODO instead of deleting all deleted docs at once,\n         * only clean up some of them and return false if there are more documents to clean up.\n         * This ensures that when many documents have to be purged,\n         * we do not block the more important tasks too long.\n         */\n        return true;\n    }\n\n    async getAttachmentData(documentId: string, attachmentId: string, _digest: string): Promise<string> {\n        ensureNotClosed(this);\n        const state = await this.internals;\n        const id = attachmentObjectId(documentId, attachmentId);\n        return await state.dexieDb.transaction(\n            'r',\n            state.dexieAttachmentsTable,\n            async () => {\n\n                const attachment = await state.dexieAttachmentsTable.get(id);\n                if (attachment) {\n                    return attachment.data;\n                } else {\n                    throw new Error('attachment missing documentId: ' + documentId + ' attachmentId: ' + attachmentId);\n                }\n            });\n    }\n\n    async remove(): Promise<void> {\n        ensureNotClosed(this);\n        const state = await this.internals;\n        await state.dexieTable.clear()\n        return this.close();\n    }\n\n\n    close(): Promise<void> {\n        if (this.closed) {\n            return this.closed;\n        }\n        this.closed = (async () => {\n            this.changes$.complete();\n            await closeDexieDb(this.internals);\n        })();\n        return this.closed;\n    }\n\n    conflictResultionTasks(): Observable<RxConflictResultionTask<RxDocType>> {\n        return new Subject();\n    }\n    async resolveConflictResultionTask(_taskSolution: RxConflictResultionTaskSolution<RxDocType>): Promise<void> { }\n\n}\n\n\nexport async function createDexieStorageInstance<RxDocType>(\n    storage: RxStorageDexie,\n    params: RxStorageInstanceCreationParams<RxDocType, DexieSettings>,\n    settings: DexieSettings\n): Promise<RxStorageInstanceDexie<RxDocType>> {\n    const internals = getDexieDbWithTables(\n        params.databaseName,\n        params.collectionName,\n        settings,\n        params.schema\n    );\n\n    const instance = new RxStorageInstanceDexie(\n        storage,\n        params.databaseName,\n        params.collectionName,\n        params.schema,\n        internals,\n        params.options,\n        settings\n    );\n\n    await addRxStorageMultiInstanceSupport(\n        RX_STORAGE_NAME_DEXIE,\n        params,\n        instance\n    );\n\n    return Promise.resolve(instance);\n}\n\n\n\nfunction ensureNotClosed(\n    instance: RxStorageInstanceDexie<any>\n) {\n    if (instance.closed) {\n        throw new Error('RxStorageInstanceDexie is closed ' + instance.databaseName + '-' + instance.collectionName);\n    }\n}\n","import type {\n    RxStorage,\n    RxStorageInstanceCreationParams\n} from '../../types/index.d.ts';\nimport {\n    RX_STORAGE_NAME_DEXIE\n} from './dexie-helper.ts';\nimport type {\n    DexieSettings,\n    DexieStorageInternals\n} from '../../types/plugins/dexie.d.ts';\nimport {\n    createDexieStorageInstance,\n    RxStorageInstanceDexie\n} from './rx-storage-instance-dexie.ts';\nimport { ensureRxStorageInstanceParamsAreCorrect } from '../../rx-storage-helper.ts';\nimport { RXDB_VERSION } from '../utils/utils-rxdb-version.ts';\n\n\n\nexport class RxStorageDexie implements RxStorage<DexieStorageInternals, DexieSettings> {\n    public name = RX_STORAGE_NAME_DEXIE;\n    public readonly rxdbVersion = RXDB_VERSION;\n    constructor(\n        public settings: DexieSettings\n    ) { }\n\n    public createStorageInstance<RxDocType>(\n        params: RxStorageInstanceCreationParams<RxDocType, DexieSettings>\n    ): Promise<RxStorageInstanceDexie<RxDocType>> {\n        ensureRxStorageInstanceParamsAreCorrect(params);\n        return createDexieStorageInstance(this, params, this.settings);\n    }\n}\n\n\nexport function getRxStorageDexie(\n    settings: DexieSettings = {}\n): RxStorageDexie {\n    const storage = new RxStorageDexie(settings);\n    return storage;\n}\n","export const testSchema = {\n  title: 'test schema',\n  description: 'create a test schema',\n  version: 0,\n  primaryKey: 'id',\n  type: 'object',\n  properties: {\n    id: {\n      type: 'string',\n      primary: true,\n    },\n    body: {\n      type: 'string',\n    },\n    title: {\n      type: 'string',\n    },\n    userId: {\n      type: 'string',\n    },\n    test:{\n      type:\"string\",\n    }\n  },\n  required: [\"id\", \"body\", \"title\", \"userId\"]\n};\n","import { addBrowser } from './browser.js';\nimport { addNode } from './node.js';\n\n/**\n * Use the code directly to prevent import problems\n * with the detect-node package.\n * @link https://github.com/iliakan/detect-node/blob/master/index.js\n */\nvar isNode = Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]';\nvar USE_METHOD = isNode ? addNode : addBrowser;\nvar LISTENERS = new Set();\nvar startedListening = false;\nfunction startListening() {\n  if (startedListening) {\n    return;\n  }\n  startedListening = true;\n  USE_METHOD(runAll);\n}\nexport function add(fn) {\n  startListening();\n  if (typeof fn !== 'function') {\n    throw new Error('Listener is no function');\n  }\n  LISTENERS.add(fn);\n  var addReturn = {\n    remove: function remove() {\n      return LISTENERS[\"delete\"](fn);\n    },\n    run: function run() {\n      LISTENERS[\"delete\"](fn);\n      return fn();\n    }\n  };\n  return addReturn;\n}\nexport function runAll() {\n  var promises = [];\n  LISTENERS.forEach(function (fn) {\n    promises.push(fn());\n    LISTENERS[\"delete\"](fn);\n  });\n  return Promise.all(promises);\n}\nexport function removeAll() {\n  LISTENERS.clear();\n}\nexport function getSize() {\n  return LISTENERS.size;\n}","export function addNode(fn) {\n  process.on('exit', function () {\n    return fn();\n  });\n\n  /**\n   * on the following events,\n   * the process will not end if there are\n   * event-handlers attached,\n   * therefore we have to call process.exit()\n   */\n  process.on('beforeExit', function () {\n    return fn().then(function () {\n      return process.exit();\n    });\n  });\n  // catches ctrl+c event\n  process.on('SIGINT', function () {\n    return fn().then(function () {\n      return process.exit();\n    });\n  });\n  // catches uncaught exceptions\n  process.on('uncaughtException', function (err) {\n    return fn().then(function () {\n      console.trace(err);\n      process.exit(101);\n    });\n  });\n}","/* global WorkerGlobalScope */\n\nexport function addBrowser(fn) {\n  if (typeof WorkerGlobalScope === 'function' && self instanceof WorkerGlobalScope) {\n    /**\n     * Because killing a worker does directly stop the excution\n     * of the code, our only chance is to overwrite the close function\n     * which could work some times.\n     * @link https://stackoverflow.com/q/72903255/3443137\n     */\n    var oldClose = self.close.bind(self);\n    self.close = function () {\n      fn();\n      return oldClose();\n    };\n  } else {\n    /**\n     * if we are on react-native, there is no window.addEventListener\n     * @link https://github.com/pubkey/unload/issues/6\n     */\n    if (typeof window.addEventListener !== 'function') {\n      return;\n    }\n\n    /**\n     * for normal browser-windows, we use the beforeunload-event\n     */\n    window.addEventListener('beforeunload', function () {\n      fn();\n    }, true);\n\n    /**\n     * for iframes, we have to use the unload-event\n     * @link https://stackoverflow.com/q/47533670/3443137\n     */\n    window.addEventListener('unload', function () {\n      fn();\n    }, true);\n  }\n\n  /**\n   * TODO add fallback for safari-mobile\n   * @link https://stackoverflow.com/a/26193516/3443137\n   */\n}","import { add as unloadAdd } from 'unload';\n\n/**\n * sends and internal message over the broadcast-channel\n */\nexport function sendLeaderMessage(leaderElector, action) {\n  var msgJson = {\n    context: 'leader',\n    action: action,\n    token: leaderElector.token\n  };\n  return leaderElector.broadcastChannel.postInternal(msgJson);\n}\nexport function beLeader(leaderElector) {\n  leaderElector.isLeader = true;\n  leaderElector._hasLeader = true;\n  var unloadFn = unloadAdd(function () {\n    return leaderElector.die();\n  });\n  leaderElector._unl.push(unloadFn);\n  var isLeaderListener = function isLeaderListener(msg) {\n    if (msg.context === 'leader' && msg.action === 'apply') {\n      sendLeaderMessage(leaderElector, 'tell');\n    }\n    if (msg.context === 'leader' && msg.action === 'tell' && !leaderElector._dpLC) {\n      /**\n       * another instance is also leader!\n       * This can happen on rare events\n       * like when the CPU is at 100% for long time\n       * or the tabs are open very long and the browser throttles them.\n       * @link https://github.com/pubkey/broadcast-channel/issues/414\n       * @link https://github.com/pubkey/broadcast-channel/issues/385\n       */\n      leaderElector._dpLC = true;\n      leaderElector._dpL(); // message the lib user so the app can handle the problem\n      sendLeaderMessage(leaderElector, 'tell'); // ensure other leader also knows the problem\n    }\n  };\n\n  leaderElector.broadcastChannel.addEventListener('internal', isLeaderListener);\n  leaderElector._lstns.push(isLeaderListener);\n  return sendLeaderMessage(leaderElector, 'tell');\n}","import { randomToken } from './util.js';\nimport { sendLeaderMessage, beLeader } from './leader-election-util.js';\n\n/**\n * A faster version of the leader elector that uses the WebLock API\n * @link https://developer.mozilla.org/en-US/docs/Web/API/Web_Locks_API\n */\nexport var LeaderElectionWebLock = function LeaderElectionWebLock(broadcastChannel, options) {\n  var _this = this;\n  this.broadcastChannel = broadcastChannel;\n  broadcastChannel._befC.push(function () {\n    return _this.die();\n  });\n  this._options = options;\n  this.isLeader = false;\n  this.isDead = false;\n  this.token = randomToken();\n  this._lstns = [];\n  this._unl = [];\n  this._dpL = function () {}; // onduplicate listener\n  this._dpLC = false; // true when onduplicate called\n\n  this._wKMC = {}; // stuff for cleanup\n\n  // lock name\n  this.lN = 'pubkey-bc||' + broadcastChannel.method.type + '||' + broadcastChannel.name;\n};\nLeaderElectionWebLock.prototype = {\n  hasLeader: function hasLeader() {\n    var _this2 = this;\n    return navigator.locks.query().then(function (locks) {\n      var relevantLocks = locks.held ? locks.held.filter(function (lock) {\n        return lock.name === _this2.lN;\n      }) : [];\n      if (relevantLocks && relevantLocks.length > 0) {\n        return true;\n      } else {\n        return false;\n      }\n    });\n  },\n  awaitLeadership: function awaitLeadership() {\n    var _this3 = this;\n    if (!this._wLMP) {\n      this._wKMC.c = new AbortController();\n      var returnPromise = new Promise(function (res, rej) {\n        _this3._wKMC.res = res;\n        _this3._wKMC.rej = rej;\n      });\n      this._wLMP = new Promise(function (res) {\n        navigator.locks.request(_this3.lN, {\n          signal: _this3._wKMC.c.signal\n        }, function () {\n          // if the lock resolved, we can drop the abort controller\n          _this3._wKMC.c = undefined;\n          beLeader(_this3);\n          res();\n          return returnPromise;\n        })[\"catch\"](function () {});\n      });\n    }\n    return this._wLMP;\n  },\n  set onduplicate(_fn) {\n    // Do nothing because there are no duplicates in the WebLock version\n  },\n  die: function die() {\n    var _this4 = this;\n    this._lstns.forEach(function (listener) {\n      return _this4.broadcastChannel.removeEventListener('internal', listener);\n    });\n    this._lstns = [];\n    this._unl.forEach(function (uFn) {\n      return uFn.remove();\n    });\n    this._unl = [];\n    if (this.isLeader) {\n      this.isLeader = false;\n    }\n    this.isDead = true;\n    if (this._wKMC.res) {\n      this._wKMC.res();\n    }\n    if (this._wKMC.c) {\n      this._wKMC.c.abort('LeaderElectionWebLock.die() called');\n    }\n    return sendLeaderMessage(this, 'death');\n  }\n};","import { sleep, randomToken, PROMISE_RESOLVED_VOID, PROMISE_RESOLVED_TRUE, supportsWebLockAPI } from './util.js';\nimport { sendLeaderMessage, beLeader } from './leader-election-util.js';\nimport { LeaderElectionWebLock } from './leader-election-web-lock.js';\nvar LeaderElection = function LeaderElection(broadcastChannel, options) {\n  var _this = this;\n  this.broadcastChannel = broadcastChannel;\n  this._options = options;\n  this.isLeader = false;\n  this._hasLeader = false;\n  this.isDead = false;\n  this.token = randomToken();\n\n  /**\n   * Apply Queue,\n   * used to ensure we do not run applyOnce()\n   * in parallel.\n   */\n  this._aplQ = PROMISE_RESOLVED_VOID;\n  // amount of unfinished applyOnce() calls\n  this._aplQC = 0;\n\n  // things to clean up\n  this._unl = []; // _unloads\n  this._lstns = []; // _listeners\n  this._dpL = function () {}; // onduplicate listener\n  this._dpLC = false; // true when onduplicate called\n\n  /**\n   * Even when the own instance is not applying,\n   * we still listen to messages to ensure the hasLeader flag\n   * is set correctly.\n   */\n  var hasLeaderListener = function hasLeaderListener(msg) {\n    if (msg.context === 'leader') {\n      if (msg.action === 'death') {\n        _this._hasLeader = false;\n      }\n      if (msg.action === 'tell') {\n        _this._hasLeader = true;\n      }\n    }\n  };\n  this.broadcastChannel.addEventListener('internal', hasLeaderListener);\n  this._lstns.push(hasLeaderListener);\n};\nLeaderElection.prototype = {\n  hasLeader: function hasLeader() {\n    return Promise.resolve(this._hasLeader);\n  },\n  /**\n   * Returns true if the instance is leader,\n   * false if not.\n   * @async\n   */\n  applyOnce: function applyOnce(\n  // true if the applyOnce() call came from the fallbackInterval cycle\n  isFromFallbackInterval) {\n    var _this2 = this;\n    if (this.isLeader) {\n      return sleep(0, true);\n    }\n    if (this.isDead) {\n      return sleep(0, false);\n    }\n\n    /**\n     * Already applying more than once,\n     * -> wait for the apply queue to be finished.\n     */\n    if (this._aplQC > 1) {\n      return this._aplQ;\n    }\n\n    /**\n     * Add a new apply-run\n     */\n    var applyRun = function applyRun() {\n      /**\n       * Optimization shortcuts.\n       * Directly return if a previous run\n       * has already elected a leader.\n       */\n      if (_this2.isLeader) {\n        return PROMISE_RESOLVED_TRUE;\n      }\n      var stopCriteria = false;\n      var stopCriteriaPromiseResolve;\n      /**\n       * Resolves when a stop criteria is reached.\n       * Uses as a performance shortcut so we do not\n       * have to await the responseTime when it is already clear\n       * that the election failed.\n       */\n      var stopCriteriaPromise = new Promise(function (res) {\n        stopCriteriaPromiseResolve = function stopCriteriaPromiseResolve() {\n          stopCriteria = true;\n          res();\n        };\n      });\n      var handleMessage = function handleMessage(msg) {\n        if (msg.context === 'leader' && msg.token != _this2.token) {\n          if (msg.action === 'apply') {\n            // other is applying\n            if (msg.token > _this2.token) {\n              /**\n               * other has higher token\n               * -> stop applying and let other become leader.\n               */\n              stopCriteriaPromiseResolve();\n            }\n          }\n          if (msg.action === 'tell') {\n            // other is already leader\n            stopCriteriaPromiseResolve();\n            _this2._hasLeader = true;\n          }\n        }\n      };\n      _this2.broadcastChannel.addEventListener('internal', handleMessage);\n\n      /**\n       * If the applyOnce() call came from the fallbackInterval,\n       * we can assume that the election runs in the background and\n       * not critical process is waiting for it.\n       * When this is true, we give the other instances\n       * more time to answer to messages in the election cycle.\n       * This makes it less likely to elect duplicate leaders.\n       * But also it takes longer which is not a problem because we anyway\n       * run in the background.\n       */\n      var waitForAnswerTime = isFromFallbackInterval ? _this2._options.responseTime * 4 : _this2._options.responseTime;\n      return sendLeaderMessage(_this2, 'apply') // send out that this one is applying\n      .then(function () {\n        return Promise.race([sleep(waitForAnswerTime), stopCriteriaPromise.then(function () {\n          return Promise.reject(new Error());\n        })]);\n      })\n      // send again in case another instance was just created\n      .then(function () {\n        return sendLeaderMessage(_this2, 'apply');\n      })\n      // let others time to respond\n      .then(function () {\n        return Promise.race([sleep(waitForAnswerTime), stopCriteriaPromise.then(function () {\n          return Promise.reject(new Error());\n        })]);\n      })[\"catch\"](function () {}).then(function () {\n        _this2.broadcastChannel.removeEventListener('internal', handleMessage);\n        if (!stopCriteria) {\n          // no stop criteria -> own is leader\n          return beLeader(_this2).then(function () {\n            return true;\n          });\n        } else {\n          // other is leader\n          return false;\n        }\n      });\n    };\n    this._aplQC = this._aplQC + 1;\n    this._aplQ = this._aplQ.then(function () {\n      return applyRun();\n    }).then(function () {\n      _this2._aplQC = _this2._aplQC - 1;\n    });\n    return this._aplQ.then(function () {\n      return _this2.isLeader;\n    });\n  },\n  awaitLeadership: function awaitLeadership() {\n    if ( /* _awaitLeadershipPromise */\n    !this._aLP) {\n      this._aLP = _awaitLeadershipOnce(this);\n    }\n    return this._aLP;\n  },\n  set onduplicate(fn) {\n    this._dpL = fn;\n  },\n  die: function die() {\n    var _this3 = this;\n    this._lstns.forEach(function (listener) {\n      return _this3.broadcastChannel.removeEventListener('internal', listener);\n    });\n    this._lstns = [];\n    this._unl.forEach(function (uFn) {\n      return uFn.remove();\n    });\n    this._unl = [];\n    if (this.isLeader) {\n      this._hasLeader = false;\n      this.isLeader = false;\n    }\n    this.isDead = true;\n    return sendLeaderMessage(this, 'death');\n  }\n};\n\n/**\n * @param leaderElector {LeaderElector}\n */\nfunction _awaitLeadershipOnce(leaderElector) {\n  if (leaderElector.isLeader) {\n    return PROMISE_RESOLVED_VOID;\n  }\n  return new Promise(function (res) {\n    var resolved = false;\n    function finish() {\n      if (resolved) {\n        return;\n      }\n      resolved = true;\n      leaderElector.broadcastChannel.removeEventListener('internal', whenDeathListener);\n      res(true);\n    }\n\n    // try once now\n    leaderElector.applyOnce().then(function () {\n      if (leaderElector.isLeader) {\n        finish();\n      }\n    });\n\n    /**\n     * Try on fallbackInterval\n     * @recursive\n     */\n    var tryOnFallBack = function tryOnFallBack() {\n      return sleep(leaderElector._options.fallbackInterval).then(function () {\n        if (leaderElector.isDead || resolved) {\n          return;\n        }\n        if (leaderElector.isLeader) {\n          finish();\n        } else {\n          return leaderElector.applyOnce(true).then(function () {\n            if (leaderElector.isLeader) {\n              finish();\n            } else {\n              tryOnFallBack();\n            }\n          });\n        }\n      });\n    };\n    tryOnFallBack();\n\n    // try when other leader dies\n    var whenDeathListener = function whenDeathListener(msg) {\n      if (msg.context === 'leader' && msg.action === 'death') {\n        leaderElector._hasLeader = false;\n        leaderElector.applyOnce().then(function () {\n          if (leaderElector.isLeader) {\n            finish();\n          }\n        });\n      }\n    };\n    leaderElector.broadcastChannel.addEventListener('internal', whenDeathListener);\n    leaderElector._lstns.push(whenDeathListener);\n  });\n}\nfunction fillOptionsWithDefaults(options, channel) {\n  if (!options) options = {};\n  options = JSON.parse(JSON.stringify(options));\n  if (!options.fallbackInterval) {\n    options.fallbackInterval = 3000;\n  }\n  if (!options.responseTime) {\n    options.responseTime = channel.method.averageResponseTime(channel.options);\n  }\n  return options;\n}\nexport function createLeaderElection(channel, options) {\n  if (channel._leaderElector) {\n    throw new Error('BroadcastChannel already has a leader-elector');\n  }\n  options = fillOptionsWithDefaults(options, channel);\n  var elector = supportsWebLockAPI() ? new LeaderElectionWebLock(channel, options) : new LeaderElection(channel, options);\n  channel._befC.push(function () {\n    return elector.die();\n  });\n  channel._leaderElector = elector;\n  return elector;\n}","/**\n * this plugin adds the leader-election-capabilities to rxdb\n */\n\nimport {\n    createLeaderElection,\n    LeaderElector,\n    BroadcastChannel\n} from 'broadcast-channel';\nimport {\n    getBroadcastChannelReference,\n    removeBroadcastChannelReference\n} from '../../rx-storage-multiinstance.ts';\n\nimport type {\n    RxDatabase,\n    RxPlugin\n} from '../../types/index.d.ts';\nimport { PROMISE_RESOLVE_TRUE, getFromMapOrCreate } from '../utils/index.ts';\n\nconst LEADER_ELECTORS_OF_DB: WeakMap<RxDatabase, LeaderElector> = new WeakMap();\nconst LEADER_ELECTOR_BY_BROADCAST_CHANNEL: WeakMap<BroadcastChannel, LeaderElector> = new WeakMap();\n\n\n/**\n * Returns the leader elector of a broadcast channel.\n * Used to ensure we reuse the same elector for the channel each time.\n */\nexport function getLeaderElectorByBroadcastChannel(broadcastChannel: BroadcastChannel): LeaderElector {\n    return getFromMapOrCreate(\n        LEADER_ELECTOR_BY_BROADCAST_CHANNEL,\n        broadcastChannel,\n        () => createLeaderElection(broadcastChannel)\n    );\n}\n\n/**\n * @overwrites RxDatabase().leaderElector for caching\n */\nexport function getForDatabase(this: RxDatabase): LeaderElector {\n\n\n    const broadcastChannel = getBroadcastChannelReference(\n        this.storage.name,\n        this.token,\n        this.name,\n        this\n    );\n\n    /**\n     * Clean up the reference on RxDatabase.destroy()\n     */\n    const oldDestroy = this.destroy.bind(this);\n    this.destroy = function () {\n        removeBroadcastChannelReference(this.token, this);\n        return oldDestroy();\n    };\n\n\n    let elector = getLeaderElectorByBroadcastChannel(broadcastChannel);\n    if (!elector) {\n        elector = getLeaderElectorByBroadcastChannel(broadcastChannel);\n        LEADER_ELECTORS_OF_DB.set(\n            this,\n            elector\n        );\n    }\n\n    /**\n     * Overwrite for caching\n     */\n    this.leaderElector = () => elector;\n\n    return elector;\n}\n\nexport function isLeader(this: RxDatabase): boolean {\n    if (!this.multiInstance) {\n        return true;\n    }\n    return this.leaderElector().isLeader;\n}\n\nexport function waitForLeadership(this: RxDatabase): Promise<boolean> {\n    if (!this.multiInstance) {\n        return PROMISE_RESOLVE_TRUE;\n    } else {\n        return this.leaderElector()\n            .awaitLeadership()\n            .then(() => true);\n    }\n}\n\n/**\n * runs when the database gets destroyed\n */\nexport function onDestroy(db: RxDatabase) {\n    const has = LEADER_ELECTORS_OF_DB.get(db);\n    if (has) {\n        has.die();\n    }\n}\n\nexport const rxdb = true;\nexport const prototypes = {\n    RxDatabase: (proto: any) => {\n        proto.leaderElector = getForDatabase;\n        proto.isLeader = isLeader;\n        proto.waitForLeadership = waitForLeadership;\n    }\n};\n\nexport const RxDBLeaderElectionPlugin: RxPlugin = {\n    name: 'leader-election',\n    rxdb,\n    prototypes,\n    hooks: {\n        preDestroyRxDatabase: {\n            after: onDestroy\n        }\n    }\n};\n","import { addRxPlugin, createRxDatabase } from \"rxdb/plugins/core\";\nimport { getRxStorageDexie } from \"rxdb/plugins/storage-dexie\";\nimport { testSchema } from \"../schema/DatabaseSchema\";\nimport { RxDBLeaderElectionPlugin } from \"rxdb/plugins/leader-election\";\naddRxPlugin(RxDBLeaderElectionPlugin);\n\nconst syncURL = \"\";\nconsole.log(\"host: \" + syncURL);\n\nlet dbPromise = null;\nconst createDatabase = async () => {\n  /**\n   * Create a new database\n   */\n  console.log(\"DatabaseService: creating database..\");\n  const myDatabase = await createRxDatabase({\n    name: \"testDatabase\",\n    storage: getRxStorageDexie(),\n  });\n  console.log(\"DatabaseService: created database\");\n  window[\"db\"] = myDatabase; // write to window for debugging\n\n  /**\n   * show leadership in title\n   * Returns a Promise which resolves when the RxDatabase becomes elected leader.\n   */\n  // myDatabase.waitForLeadership().then(() => {\n  //   console.log('isLeader now');\n  //   document.title = ' ' + document.title;\n  // });\n\n  /**\n   * Create collections\n   */\n  console.log(\"DatabaseService: create collections\");\n  await myDatabase.addCollections({\n    sub_admin: {\n      schema: testSchema,\n    },\n  });\n  console.dir(myDatabase.sub_admin.name);\n\n  // sync\n  // console.log('DatabaseService: sync');\n  // await Promise.all(\n  //   Object.values(myDatabase.collections).map(async (col) => {\n  //     try {\n  //       // create the CouchDB database\n  //       await fetch(syncURL + col.name + '/', {\n  //         method: 'PUT',\n  //       });\n  //     } catch (err) {}\n  //   })\n  // );\n  // console.log('DatabaseService: sync - start live');\n  // Object.values(myDatabase.collections)\n  //   .map((col) => col.name)\n  //   .map((colName) => {\n  //     const url = syncURL + colName + '/';\n  //     console.log('url: ' + url);\n  //     const replicationState = replicateCouchDB({\n  //       collection: myDatabase[colName],\n  //       url,\n  //       live: true,\n  //       pull: {},\n  //       push: {},\n  //       autoStart: true,\n  //     });\n\n  //     console.log('replicationState', replicationState);\n  //     replicationState.error$.subscribe((err) => {\n  //       console.log('Got replication error:');\n  //       console.dir(err);\n  //     });\n  //   });\n  return myDatabase;\n};\n\nexport const getDatabase = () => {\n  if (!dbPromise) dbPromise = createDatabase();\n  return dbPromise;\n};\n","import \"./App.css\";\nimport \"./App.css\";\nimport { useQuery } from \"@tanstack/react-query\";\n\n// Importing image from Google\nimport googleImage from \"./assets/images/sunset-1373171_1280.jpg\";\nimport googleImage1 from \"./assets/images/tree-736885_1280.jpg\";\n\nimport { useEffect, useState } from \"react\";\nimport { getDatabase } from \"./config/DatabaseConfig\";\n\ninterface Post {\n  userId: number;\n  id: number;\n  title: string;\n  body: string;\n}\n\ninterface QueryData {\n  isPending: boolean;\n  error: any; // Adjust this type according to the error structure returned by React Query\n  data: Post[] | undefined;\n}\n\nfunction App() {\n  const [posts, setPosts] = useState<Post[]>();\n  const { isPending, error, data } = useQuery<QueryData>({\n    queryKey: [\"repoData\"],\n    queryFn: () =>\n      fetch(\"https://jsonplaceholder.typicode.com/posts\").then((res) =>\n        res.json()\n      ),\n  });\n\n  useEffect(() => {\n    if (data) {\n      updateDatabase(data);\n      getDataFromIndexdb();\n    }\n  }, [data]);\n\n  const updateDatabase = async (data: any) => {\n    try {\n      const db = await getDatabase();\n      await db.sub_admin.bulkInsert(data);\n    } catch {}\n  };\n\n  const getDataFromIndexdb = async () => {\n    try {\n      const db = await getDatabase();\n      await db[\"sub_admin\"]\n        .find()\n        .exec()\n        .then((res: any) => {\n          if (res.length > 0) {\n            const tempData: any[] = [];\n            res.forEach((ele: any) => {\n              tempData.push(ele._data);\n            });\n            setPosts(tempData);\n          }\n        });\n    } catch {}\n  };\n\n  if (isPending) return <div>Loading...</div>;\n\n  if (error) return <div>An error has occurred: + {error.message}</div>;\n\n  return (\n    <div className=\"main-container\">\n      <h1 className=\"heading\">My PWA App</h1>\n      <div className=\"images-static\">\n        <img src={googleImage} alt=\"Google\" className=\"google-image\" />\n        <img src={googleImage1} alt=\"Google\" className=\"google-image-1\" />\n        <img\n          src=\"https://img.freepik.com/free-photo/painting-mountain-lake-with-mountain-background_188544-9126.jpg\"\n          alt=\"Google\"\n          className=\"google-image-2\"\n        />\n      </div>\n\n      {Array.isArray(posts) && (\n        <ul>\n          {posts.map((item) => (\n            <li key={item.id} className=\"list-item\">\n              {item.title}\n            </li>\n          ))}\n        </ul>\n      )}\n      {/* Using IcoMoon icons */}\n      <div className=\"icon-container\">\n        <span className=\"icon-home\"></span>\n        <span className=\"icon-pencil\"></span>\n      </div>\n      <ul>\n        {posts?.map?.((item) => (\n          <li key={item.id} className=\"list-item\">\n            {item.title}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","\"use strict\";\n// @ts-ignore\ntry {\n    self['workbox:window:6.5.4'] && _();\n}\ncatch (e) { }\n","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport './_version.js';\n/**\n * Sends a data object to a service worker via `postMessage` and resolves with\n * a response (if any).\n *\n * A response can be set in a message handler in the service worker by\n * calling `event.ports[0].postMessage(...)`, which will resolve the promise\n * returned by `messageSW()`. If no response is set, the promise will not\n * resolve.\n *\n * @param {ServiceWorker} sw The service worker to send the message to.\n * @param {Object} data An object to send to the service worker.\n * @return {Promise<Object|undefined>}\n * @memberof workbox-window\n */\n// Better not change type of data.\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction messageSW(sw, data) {\n    return new Promise((resolve) => {\n        const messageChannel = new MessageChannel();\n        messageChannel.port1.onmessage = (event) => {\n            resolve(event.data);\n        };\n        sw.postMessage(data, [messageChannel.port2]);\n    });\n}\nexport { messageSW };\n","\"use strict\";\n// @ts-ignore\ntry {\n    self['workbox:core:6.5.4'] && _();\n}\ncatch (e) { }\n","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\n/**\n * The Deferred class composes Promises in a way that allows for them to be\n * resolved or rejected from outside the constructor. In most cases promises\n * should be used directly, but Deferreds can be necessary when the logic to\n * resolve a promise must be separate.\n *\n * @private\n */\nclass Deferred {\n    /**\n     * Creates a promise and exposes its resolve and reject functions as methods.\n     */\n    constructor() {\n        this.promise = new Promise((resolve, reject) => {\n            this.resolve = resolve;\n            this.reject = reject;\n        });\n    }\n}\nexport { Deferred };\n","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\n/**\n * Returns true if two URLs have the same `.href` property. The URLS can be\n * relative, and if they are the current location href is used to resolve URLs.\n *\n * @private\n * @param {string} url1\n * @param {string} url2\n * @return {boolean}\n */\nexport function urlsMatch(url1, url2) {\n    const { href } = location;\n    return new URL(url1, href).href === new URL(url2, href).href;\n}\n","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\n/**\n * A minimal `Event` subclass shim.\n * This doesn't *actually* subclass `Event` because not all browsers support\n * constructable `EventTarget`, and using a real `Event` will error.\n * @private\n */\nexport class WorkboxEvent {\n    constructor(type, props) {\n        this.type = type;\n        Object.assign(this, props);\n    }\n}\n","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { Deferred } from 'workbox-core/_private/Deferred.js';\nimport { dontWaitFor } from 'workbox-core/_private/dontWaitFor.js';\nimport { logger } from 'workbox-core/_private/logger.js';\nimport { messageSW } from './messageSW.js';\nimport { WorkboxEventTarget } from './utils/WorkboxEventTarget.js';\nimport { urlsMatch } from './utils/urlsMatch.js';\nimport { WorkboxEvent } from './utils/WorkboxEvent.js';\nimport './_version.js';\n// The time a SW must be in the waiting phase before we can conclude\n// `skipWaiting()` wasn't called. This 200 amount wasn't scientifically\n// chosen, but it seems to avoid false positives in my testing.\nconst WAITING_TIMEOUT_DURATION = 200;\n// The amount of time after a registration that we can reasonably conclude\n// that the registration didn't trigger an update.\nconst REGISTRATION_TIMEOUT_DURATION = 60000;\n// The de facto standard message that a service worker should be listening for\n// to trigger a call to skipWaiting().\nconst SKIP_WAITING_MESSAGE = { type: 'SKIP_WAITING' };\n/**\n * A class to aid in handling service worker registration, updates, and\n * reacting to service worker lifecycle events.\n *\n * @fires {@link workbox-window.Workbox#message}\n * @fires {@link workbox-window.Workbox#installed}\n * @fires {@link workbox-window.Workbox#waiting}\n * @fires {@link workbox-window.Workbox#controlling}\n * @fires {@link workbox-window.Workbox#activated}\n * @fires {@link workbox-window.Workbox#redundant}\n * @memberof workbox-window\n */\nclass Workbox extends WorkboxEventTarget {\n    /**\n     * Creates a new Workbox instance with a script URL and service worker\n     * options. The script URL and options are the same as those used when\n     * calling [navigator.serviceWorker.register(scriptURL, options)](https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/register).\n     *\n     * @param {string|TrustedScriptURL} scriptURL The service worker script\n     *     associated with this instance. Using a\n     *     [`TrustedScriptURL`](https://web.dev/trusted-types/) is supported.\n     * @param {Object} [registerOptions] The service worker options associated\n     *     with this instance.\n     */\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    constructor(scriptURL, registerOptions = {}) {\n        super();\n        this._registerOptions = {};\n        this._updateFoundCount = 0;\n        // Deferreds we can resolve later.\n        this._swDeferred = new Deferred();\n        this._activeDeferred = new Deferred();\n        this._controllingDeferred = new Deferred();\n        this._registrationTime = 0;\n        this._ownSWs = new Set();\n        /**\n         * @private\n         */\n        this._onUpdateFound = () => {\n            // `this._registration` will never be `undefined` after an update is found.\n            const registration = this._registration;\n            const installingSW = registration.installing;\n            // If the script URL passed to `navigator.serviceWorker.register()` is\n            // different from the current controlling SW's script URL, we know any\n            // successful registration calls will trigger an `updatefound` event.\n            // But if the registered script URL is the same as the current controlling\n            // SW's script URL, we'll only get an `updatefound` event if the file\n            // changed since it was last registered. This can be a problem if the user\n            // opens up the same page in a different tab, and that page registers\n            // a SW that triggers an update. It's a problem because this page has no\n            // good way of knowing whether the `updatefound` event came from the SW\n            // script it registered or from a registration attempt made by a newer\n            // version of the page running in another tab.\n            // To minimize the possibility of a false positive, we use the logic here:\n            const updateLikelyTriggeredExternally = \n            // Since we enforce only calling `register()` once, and since we don't\n            // add the `updatefound` event listener until the `register()` call, if\n            // `_updateFoundCount` is > 0 then it means this method has already\n            // been called, thus this SW must be external\n            this._updateFoundCount > 0 ||\n                // If the script URL of the installing SW is different from this\n                // instance's script URL, we know it's definitely not from our\n                // registration.\n                !urlsMatch(installingSW.scriptURL, this._scriptURL.toString()) ||\n                // If all of the above are false, then we use a time-based heuristic:\n                // Any `updatefound` event that occurs long after our registration is\n                // assumed to be external.\n                performance.now() > this._registrationTime + REGISTRATION_TIMEOUT_DURATION\n                ? // If any of the above are not true, we assume the update was\n                    // triggered by this instance.\n                    true\n                : false;\n            if (updateLikelyTriggeredExternally) {\n                this._externalSW = installingSW;\n                registration.removeEventListener('updatefound', this._onUpdateFound);\n            }\n            else {\n                // If the update was not triggered externally we know the installing\n                // SW is the one we registered, so we set it.\n                this._sw = installingSW;\n                this._ownSWs.add(installingSW);\n                this._swDeferred.resolve(installingSW);\n                // The `installing` state isn't something we have a dedicated\n                // callback for, but we do log messages for it in development.\n                if (process.env.NODE_ENV !== 'production') {\n                    if (navigator.serviceWorker.controller) {\n                        logger.log('Updated service worker found. Installing now...');\n                    }\n                    else {\n                        logger.log('Service worker is installing...');\n                    }\n                }\n            }\n            // Increment the `updatefound` count, so future invocations of this\n            // method can be sure they were triggered externally.\n            ++this._updateFoundCount;\n            // Add a `statechange` listener regardless of whether this update was\n            // triggered externally, since we have callbacks for both.\n            installingSW.addEventListener('statechange', this._onStateChange);\n        };\n        /**\n         * @private\n         * @param {Event} originalEvent\n         */\n        this._onStateChange = (originalEvent) => {\n            // `this._registration` will never be `undefined` after an update is found.\n            const registration = this._registration;\n            const sw = originalEvent.target;\n            const { state } = sw;\n            const isExternal = sw === this._externalSW;\n            const eventProps = {\n                sw,\n                isExternal,\n                originalEvent,\n            };\n            if (!isExternal && this._isUpdate) {\n                eventProps.isUpdate = true;\n            }\n            this.dispatchEvent(new WorkboxEvent(state, eventProps));\n            if (state === 'installed') {\n                // This timeout is used to ignore cases where the service worker calls\n                // `skipWaiting()` in the install event, thus moving it directly in the\n                // activating state. (Since all service workers *must* go through the\n                // waiting phase, the only way to detect `skipWaiting()` called in the\n                // install event is to observe that the time spent in the waiting phase\n                // is very short.)\n                // NOTE: we don't need separate timeouts for the own and external SWs\n                // since they can't go through these phases at the same time.\n                this._waitingTimeout = self.setTimeout(() => {\n                    // Ensure the SW is still waiting (it may now be redundant).\n                    if (state === 'installed' && registration.waiting === sw) {\n                        this.dispatchEvent(new WorkboxEvent('waiting', eventProps));\n                        if (process.env.NODE_ENV !== 'production') {\n                            if (isExternal) {\n                                logger.warn('An external service worker has installed but is ' +\n                                    'waiting for this client to close before activating...');\n                            }\n                            else {\n                                logger.warn('The service worker has installed but is waiting ' +\n                                    'for existing clients to close before activating...');\n                            }\n                        }\n                    }\n                }, WAITING_TIMEOUT_DURATION);\n            }\n            else if (state === 'activating') {\n                clearTimeout(this._waitingTimeout);\n                if (!isExternal) {\n                    this._activeDeferred.resolve(sw);\n                }\n            }\n            if (process.env.NODE_ENV !== 'production') {\n                switch (state) {\n                    case 'installed':\n                        if (isExternal) {\n                            logger.warn('An external service worker has installed. ' +\n                                'You may want to suggest users reload this page.');\n                        }\n                        else {\n                            logger.log('Registered service worker installed.');\n                        }\n                        break;\n                    case 'activated':\n                        if (isExternal) {\n                            logger.warn('An external service worker has activated.');\n                        }\n                        else {\n                            logger.log('Registered service worker activated.');\n                            if (sw !== navigator.serviceWorker.controller) {\n                                logger.warn('The registered service worker is active but ' +\n                                    'not yet controlling the page. Reload or run ' +\n                                    '`clients.claim()` in the service worker.');\n                            }\n                        }\n                        break;\n                    case 'redundant':\n                        if (sw === this._compatibleControllingSW) {\n                            logger.log('Previously controlling service worker now redundant!');\n                        }\n                        else if (!isExternal) {\n                            logger.log('Registered service worker now redundant!');\n                        }\n                        break;\n                }\n            }\n        };\n        /**\n         * @private\n         * @param {Event} originalEvent\n         */\n        this._onControllerChange = (originalEvent) => {\n            const sw = this._sw;\n            const isExternal = sw !== navigator.serviceWorker.controller;\n            // Unconditionally dispatch the controlling event, with isExternal set\n            // to distinguish between controller changes due to the initial registration\n            // vs. an update-check or other tab's registration.\n            // See https://github.com/GoogleChrome/workbox/issues/2786\n            this.dispatchEvent(new WorkboxEvent('controlling', {\n                isExternal,\n                originalEvent,\n                sw,\n                isUpdate: this._isUpdate,\n            }));\n            if (!isExternal) {\n                if (process.env.NODE_ENV !== 'production') {\n                    logger.log('Registered service worker now controlling this page.');\n                }\n                this._controllingDeferred.resolve(sw);\n            }\n        };\n        /**\n         * @private\n         * @param {Event} originalEvent\n         */\n        this._onMessage = async (originalEvent) => {\n            // Can't change type 'any' of data.\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            const { data, ports, source } = originalEvent;\n            // Wait until there's an \"own\" service worker. This is used to buffer\n            // `message` events that may be received prior to calling `register()`.\n            await this.getSW();\n            // If the service worker that sent the message is in the list of own\n            // service workers for this instance, dispatch a `message` event.\n            // NOTE: we check for all previously owned service workers rather than\n            // just the current one because some messages (e.g. cache updates) use\n            // a timeout when sent and may be delayed long enough for a service worker\n            // update to be found.\n            if (this._ownSWs.has(source)) {\n                this.dispatchEvent(new WorkboxEvent('message', {\n                    // Can't change type 'any' of data.\n                    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                    data,\n                    originalEvent,\n                    ports,\n                    sw: source,\n                }));\n            }\n        };\n        this._scriptURL = scriptURL;\n        this._registerOptions = registerOptions;\n        // Add a message listener immediately since messages received during\n        // page load are buffered only until the DOMContentLoaded event:\n        // https://github.com/GoogleChrome/workbox/issues/2202\n        navigator.serviceWorker.addEventListener('message', this._onMessage);\n    }\n    /**\n     * Registers a service worker for this instances script URL and service\n     * worker options. By default this method delays registration until after\n     * the window has loaded.\n     *\n     * @param {Object} [options]\n     * @param {Function} [options.immediate=false] Setting this to true will\n     *     register the service worker immediately, even if the window has\n     *     not loaded (not recommended).\n     */\n    async register({ immediate = false } = {}) {\n        if (process.env.NODE_ENV !== 'production') {\n            if (this._registrationTime) {\n                logger.error('Cannot re-register a Workbox instance after it has ' +\n                    'been registered. Create a new instance instead.');\n                return;\n            }\n        }\n        if (!immediate && document.readyState !== 'complete') {\n            await new Promise((res) => window.addEventListener('load', res));\n        }\n        // Set this flag to true if any service worker was controlling the page\n        // at registration time.\n        this._isUpdate = Boolean(navigator.serviceWorker.controller);\n        // Before registering, attempt to determine if a SW is already controlling\n        // the page, and if that SW script (and version, if specified) matches this\n        // instance's script.\n        this._compatibleControllingSW = this._getControllingSWIfCompatible();\n        this._registration = await this._registerScript();\n        // If we have a compatible controller, store the controller as the \"own\"\n        // SW, resolve active/controlling deferreds and add necessary listeners.\n        if (this._compatibleControllingSW) {\n            this._sw = this._compatibleControllingSW;\n            this._activeDeferred.resolve(this._compatibleControllingSW);\n            this._controllingDeferred.resolve(this._compatibleControllingSW);\n            this._compatibleControllingSW.addEventListener('statechange', this._onStateChange, { once: true });\n        }\n        // If there's a waiting service worker with a matching URL before the\n        // `updatefound` event fires, it likely means that this site is open\n        // in another tab, or the user refreshed the page (and thus the previous\n        // page wasn't fully unloaded before this page started loading).\n        // https://developers.google.com/web/fundamentals/primers/service-workers/lifecycle#waiting\n        const waitingSW = this._registration.waiting;\n        if (waitingSW &&\n            urlsMatch(waitingSW.scriptURL, this._scriptURL.toString())) {\n            // Store the waiting SW as the \"own\" Sw, even if it means overwriting\n            // a compatible controller.\n            this._sw = waitingSW;\n            // Run this in the next microtask, so any code that adds an event\n            // listener after awaiting `register()` will get this event.\n            dontWaitFor(Promise.resolve().then(() => {\n                this.dispatchEvent(new WorkboxEvent('waiting', {\n                    sw: waitingSW,\n                    wasWaitingBeforeRegister: true,\n                }));\n                if (process.env.NODE_ENV !== 'production') {\n                    logger.warn('A service worker was already waiting to activate ' +\n                        'before this script was registered...');\n                }\n            }));\n        }\n        // If an \"own\" SW is already set, resolve the deferred.\n        if (this._sw) {\n            this._swDeferred.resolve(this._sw);\n            this._ownSWs.add(this._sw);\n        }\n        if (process.env.NODE_ENV !== 'production') {\n            logger.log('Successfully registered service worker.', this._scriptURL.toString());\n            if (navigator.serviceWorker.controller) {\n                if (this._compatibleControllingSW) {\n                    logger.debug('A service worker with the same script URL ' +\n                        'is already controlling this page.');\n                }\n                else {\n                    logger.debug('A service worker with a different script URL is ' +\n                        'currently controlling the page. The browser is now fetching ' +\n                        'the new script now...');\n                }\n            }\n            const currentPageIsOutOfScope = () => {\n                const scopeURL = new URL(this._registerOptions.scope || this._scriptURL.toString(), document.baseURI);\n                const scopeURLBasePath = new URL('./', scopeURL.href).pathname;\n                return !location.pathname.startsWith(scopeURLBasePath);\n            };\n            if (currentPageIsOutOfScope()) {\n                logger.warn('The current page is not in scope for the registered ' +\n                    'service worker. Was this a mistake?');\n            }\n        }\n        this._registration.addEventListener('updatefound', this._onUpdateFound);\n        navigator.serviceWorker.addEventListener('controllerchange', this._onControllerChange);\n        return this._registration;\n    }\n    /**\n     * Checks for updates of the registered service worker.\n     */\n    async update() {\n        if (!this._registration) {\n            if (process.env.NODE_ENV !== 'production') {\n                logger.error('Cannot update a Workbox instance without ' +\n                    'being registered. Register the Workbox instance first.');\n            }\n            return;\n        }\n        // Try to update registration\n        await this._registration.update();\n    }\n    /**\n     * Resolves to the service worker registered by this instance as soon as it\n     * is active. If a service worker was already controlling at registration\n     * time then it will resolve to that if the script URLs (and optionally\n     * script versions) match, otherwise it will wait until an update is found\n     * and activates.\n     *\n     * @return {Promise<ServiceWorker>}\n     */\n    get active() {\n        return this._activeDeferred.promise;\n    }\n    /**\n     * Resolves to the service worker registered by this instance as soon as it\n     * is controlling the page. If a service worker was already controlling at\n     * registration time then it will resolve to that if the script URLs (and\n     * optionally script versions) match, otherwise it will wait until an update\n     * is found and starts controlling the page.\n     * Note: the first time a service worker is installed it will active but\n     * not start controlling the page unless `clients.claim()` is called in the\n     * service worker.\n     *\n     * @return {Promise<ServiceWorker>}\n     */\n    get controlling() {\n        return this._controllingDeferred.promise;\n    }\n    /**\n     * Resolves with a reference to a service worker that matches the script URL\n     * of this instance, as soon as it's available.\n     *\n     * If, at registration time, there's already an active or waiting service\n     * worker with a matching script URL, it will be used (with the waiting\n     * service worker taking precedence over the active service worker if both\n     * match, since the waiting service worker would have been registered more\n     * recently).\n     * If there's no matching active or waiting service worker at registration\n     * time then the promise will not resolve until an update is found and starts\n     * installing, at which point the installing service worker is used.\n     *\n     * @return {Promise<ServiceWorker>}\n     */\n    getSW() {\n        // If `this._sw` is set, resolve with that as we want `getSW()` to\n        // return the correct (new) service worker if an update is found.\n        return this._sw !== undefined\n            ? Promise.resolve(this._sw)\n            : this._swDeferred.promise;\n    }\n    /**\n     * Sends the passed data object to the service worker registered by this\n     * instance (via {@link workbox-window.Workbox#getSW}) and resolves\n     * with a response (if any).\n     *\n     * A response can be set in a message handler in the service worker by\n     * calling `event.ports[0].postMessage(...)`, which will resolve the promise\n     * returned by `messageSW()`. If no response is set, the promise will never\n     * resolve.\n     *\n     * @param {Object} data An object to send to the service worker\n     * @return {Promise<Object>}\n     */\n    // We might be able to change the 'data' type to Record<string, unknown> in the future.\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    async messageSW(data) {\n        const sw = await this.getSW();\n        return messageSW(sw, data);\n    }\n    /**\n     * Sends a `{type: 'SKIP_WAITING'}` message to the service worker that's\n     * currently in the `waiting` state associated with the current registration.\n     *\n     * If there is no current registration or no service worker is `waiting`,\n     * calling this will have no effect.\n     */\n    messageSkipWaiting() {\n        if (this._registration && this._registration.waiting) {\n            void messageSW(this._registration.waiting, SKIP_WAITING_MESSAGE);\n        }\n    }\n    /**\n     * Checks for a service worker already controlling the page and returns\n     * it if its script URL matches.\n     *\n     * @private\n     * @return {ServiceWorker|undefined}\n     */\n    _getControllingSWIfCompatible() {\n        const controller = navigator.serviceWorker.controller;\n        if (controller &&\n            urlsMatch(controller.scriptURL, this._scriptURL.toString())) {\n            return controller;\n        }\n        else {\n            return undefined;\n        }\n    }\n    /**\n     * Registers a service worker for this instances script URL and register\n     * options and tracks the time registration was complete.\n     *\n     * @private\n     */\n    async _registerScript() {\n        try {\n            // this._scriptURL may be a TrustedScriptURL, but there's no support for\n            // passing that to register() in lib.dom right now.\n            // https://github.com/GoogleChrome/workbox/issues/2855\n            const reg = await navigator.serviceWorker.register(this._scriptURL, this._registerOptions);\n            // Keep track of when registration happened, so it can be used in the\n            // `this._onUpdateFound` heuristic. Also use the presence of this\n            // property as a way to see if `.register()` has been called.\n            this._registrationTime = performance.now();\n            return reg;\n        }\n        catch (error) {\n            if (process.env.NODE_ENV !== 'production') {\n                logger.error(error);\n            }\n            // Re-throw the error.\n            throw error;\n        }\n    }\n}\nexport { Workbox };\n// The jsdoc comments below outline the events this instance may dispatch:\n// -----------------------------------------------------------------------\n/**\n * The `message` event is dispatched any time a `postMessage` is received.\n *\n * @event workbox-window.Workbox#message\n * @type {WorkboxEvent}\n * @property {*} data The `data` property from the original `message` event.\n * @property {Event} originalEvent The original [`message`]{@link https://developer.mozilla.org/en-US/docs/Web/API/MessageEvent}\n *     event.\n * @property {string} type `message`.\n * @property {MessagePort[]} ports The `ports` value from `originalEvent`.\n * @property {Workbox} target The `Workbox` instance.\n */\n/**\n * The `installed` event is dispatched if the state of a\n * {@link workbox-window.Workbox} instance's\n * {@link https://developers.google.com/web/tools/workbox/modules/workbox-precaching#def-registered-sw|registered service worker}\n * changes to `installed`.\n *\n * Then can happen either the very first time a service worker is installed,\n * or after an update to the current service worker is found. In the case\n * of an update being found, the event's `isUpdate` property will be `true`.\n *\n * @event workbox-window.Workbox#installed\n * @type {WorkboxEvent}\n * @property {ServiceWorker} sw The service worker instance.\n * @property {Event} originalEvent The original [`statechange`]{@link https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker/onstatechange}\n *     event.\n * @property {boolean|undefined} isUpdate True if a service worker was already\n *     controlling when this `Workbox` instance called `register()`.\n * @property {boolean|undefined} isExternal True if this event is associated\n *     with an [external service worker]{@link https://developers.google.com/web/tools/workbox/modules/workbox-window#when_an_unexpected_version_of_the_service_worker_is_found}.\n * @property {string} type `installed`.\n * @property {Workbox} target The `Workbox` instance.\n */\n/**\n * The `waiting` event is dispatched if the state of a\n * {@link workbox-window.Workbox} instance's\n * [registered service worker]{@link https://developers.google.com/web/tools/workbox/modules/workbox-precaching#def-registered-sw}\n * changes to `installed` and then doesn't immediately change to `activating`.\n * It may also be dispatched if a service worker with the same\n * [`scriptURL`]{@link https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker/scriptURL}\n * was already waiting when the {@link workbox-window.Workbox#register}\n * method was called.\n *\n * @event workbox-window.Workbox#waiting\n * @type {WorkboxEvent}\n * @property {ServiceWorker} sw The service worker instance.\n * @property {Event|undefined} originalEvent The original\n *    [`statechange`]{@link https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker/onstatechange}\n *     event, or `undefined` in the case where the service worker was waiting\n *     to before `.register()` was called.\n * @property {boolean|undefined} isUpdate True if a service worker was already\n *     controlling when this `Workbox` instance called `register()`.\n * @property {boolean|undefined} isExternal True if this event is associated\n *     with an [external service worker]{@link https://developers.google.com/web/tools/workbox/modules/workbox-window#when_an_unexpected_version_of_the_service_worker_is_found}.\n * @property {boolean|undefined} wasWaitingBeforeRegister True if a service worker with\n *     a matching `scriptURL` was already waiting when this `Workbox`\n *     instance called `register()`.\n * @property {string} type `waiting`.\n * @property {Workbox} target The `Workbox` instance.\n */\n/**\n * The `controlling` event is dispatched if a\n * [`controllerchange`]{@link https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/oncontrollerchange}\n * fires on the service worker [container]{@link https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer}\n * and the [`scriptURL`]{@link https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker/scriptURL}\n * of the new [controller]{@link https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/controller}\n * matches the `scriptURL` of the `Workbox` instance's\n * [registered service worker]{@link https://developers.google.com/web/tools/workbox/modules/workbox-precaching#def-registered-sw}.\n *\n * @event workbox-window.Workbox#controlling\n * @type {WorkboxEvent}\n * @property {ServiceWorker} sw The service worker instance.\n * @property {Event} originalEvent The original [`controllerchange`]{@link https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/oncontrollerchange}\n *     event.\n * @property {boolean|undefined} isUpdate True if a service worker was already\n *     controlling when this service worker was registered.\n * @property {boolean|undefined} isExternal True if this event is associated\n *     with an [external service worker]{@link https://developers.google.com/web/tools/workbox/modules/workbox-window#when_an_unexpected_version_of_the_service_worker_is_found}.\n * @property {string} type `controlling`.\n * @property {Workbox} target The `Workbox` instance.\n */\n/**\n * The `activated` event is dispatched if the state of a\n * {@link workbox-window.Workbox} instance's\n * {@link https://developers.google.com/web/tools/workbox/modules/workbox-precaching#def-registered-sw|registered service worker}\n * changes to `activated`.\n *\n * @event workbox-window.Workbox#activated\n * @type {WorkboxEvent}\n * @property {ServiceWorker} sw The service worker instance.\n * @property {Event} originalEvent The original [`statechange`]{@link https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker/onstatechange}\n *     event.\n * @property {boolean|undefined} isUpdate True if a service worker was already\n *     controlling when this `Workbox` instance called `register()`.\n * @property {boolean|undefined} isExternal True if this event is associated\n *     with an [external service worker]{@link https://developers.google.com/web/tools/workbox/modules/workbox-window#when_an_unexpected_version_of_the_service_worker_is_found}.\n * @property {string} type `activated`.\n * @property {Workbox} target The `Workbox` instance.\n */\n/**\n * The `redundant` event is dispatched if the state of a\n * {@link workbox-window.Workbox} instance's\n * [registered service worker]{@link https://developers.google.com/web/tools/workbox/modules/workbox-precaching#def-registered-sw}\n * changes to `redundant`.\n *\n * @event workbox-window.Workbox#redundant\n * @type {WorkboxEvent}\n * @property {ServiceWorker} sw The service worker instance.\n * @property {Event} originalEvent The original [`statechange`]{@link https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker/onstatechange}\n *     event.\n * @property {boolean|undefined} isUpdate True if a service worker was already\n *     controlling when this `Workbox` instance called `register()`.\n * @property {string} type `redundant`.\n * @property {Workbox} target The `Workbox` instance.\n */\n","/*\n  Copyright 2019 Google LLC\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\n/**\n * A helper function that prevents a promise from being flagged as unused.\n *\n * @private\n **/\nexport function dontWaitFor(promise) {\n    // Effective no-op.\n    void promise.then(() => { });\n}\n","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\n/**\n * A minimal `EventTarget` shim.\n * This is necessary because not all browsers support constructable\n * `EventTarget`, so using a real `EventTarget` will error.\n * @private\n */\nexport class WorkboxEventTarget {\n    constructor() {\n        this._eventListenerRegistry = new Map();\n    }\n    /**\n     * @param {string} type\n     * @param {Function} listener\n     * @private\n     */\n    addEventListener(type, listener) {\n        const foo = this._getEventListenersByType(type);\n        foo.add(listener);\n    }\n    /**\n     * @param {string} type\n     * @param {Function} listener\n     * @private\n     */\n    removeEventListener(type, listener) {\n        this._getEventListenersByType(type).delete(listener);\n    }\n    /**\n     * @param {Object} event\n     * @private\n     */\n    dispatchEvent(event) {\n        event.target = this;\n        const listeners = this._getEventListenersByType(event.type);\n        for (const listener of listeners) {\n            listener(event);\n        }\n    }\n    /**\n     * Returns a Set of listeners associated with the passed event type.\n     * If no handlers have been registered, an empty Set is returned.\n     *\n     * @param {string} type The event type.\n     * @return {Set<ListenerCallback>} An array of handler functions.\n     * @private\n     */\n    _getEventListenersByType(type) {\n        if (!this._eventListenerRegistry.has(type)) {\n            this._eventListenerRegistry.set(type, new Set());\n        }\n        return this._eventListenerRegistry.get(type);\n    }\n}\n","import { hashQueryKeyByOptions, matchQuery } from './utils'\nimport { Query } from './query'\nimport { notifyManager } from './notifyManager'\nimport { Subscribable } from './subscribable'\nimport type { QueryFilters } from './utils'\nimport type { Action, QueryState } from './query'\nimport type {\n  DefaultError,\n  NotifyEvent,\n  QueryKey,\n  QueryOptions,\n  WithRequired,\n} from './types'\nimport type { QueryClient } from './queryClient'\nimport type { QueryObserver } from './queryObserver'\n\n// TYPES\n\ninterface QueryCacheConfig {\n  onError?: (\n    error: DefaultError,\n    query: Query<unknown, unknown, unknown>,\n  ) => void\n  onSuccess?: (data: unknown, query: Query<unknown, unknown, unknown>) => void\n  onSettled?: (\n    data: unknown | undefined,\n    error: DefaultError | null,\n    query: Query<unknown, unknown, unknown>,\n  ) => void\n}\n\ninterface NotifyEventQueryAdded extends NotifyEvent {\n  type: 'added'\n  query: Query<any, any, any, any>\n}\n\ninterface NotifyEventQueryRemoved extends NotifyEvent {\n  type: 'removed'\n  query: Query<any, any, any, any>\n}\n\ninterface NotifyEventQueryUpdated extends NotifyEvent {\n  type: 'updated'\n  query: Query<any, any, any, any>\n  action: Action<any, any>\n}\n\ninterface NotifyEventQueryObserverAdded extends NotifyEvent {\n  type: 'observerAdded'\n  query: Query<any, any, any, any>\n  observer: QueryObserver<any, any, any, any, any>\n}\n\ninterface NotifyEventQueryObserverRemoved extends NotifyEvent {\n  type: 'observerRemoved'\n  query: Query<any, any, any, any>\n  observer: QueryObserver<any, any, any, any, any>\n}\n\ninterface NotifyEventQueryObserverResultsUpdated extends NotifyEvent {\n  type: 'observerResultsUpdated'\n  query: Query<any, any, any, any>\n}\n\ninterface NotifyEventQueryObserverOptionsUpdated extends NotifyEvent {\n  type: 'observerOptionsUpdated'\n  query: Query<any, any, any, any>\n  observer: QueryObserver<any, any, any, any, any>\n}\n\nexport type QueryCacheNotifyEvent =\n  | NotifyEventQueryAdded\n  | NotifyEventQueryRemoved\n  | NotifyEventQueryUpdated\n  | NotifyEventQueryObserverAdded\n  | NotifyEventQueryObserverRemoved\n  | NotifyEventQueryObserverResultsUpdated\n  | NotifyEventQueryObserverOptionsUpdated\n\ntype QueryCacheListener = (event: QueryCacheNotifyEvent) => void\n\nexport interface QueryStore {\n  has: (queryHash: string) => boolean\n  set: (queryHash: string, query: Query) => void\n  get: (queryHash: string) => Query | undefined\n  delete: (queryHash: string) => void\n  values: () => IterableIterator<Query>\n}\n\n// CLASS\n\nexport class QueryCache extends Subscribable<QueryCacheListener> {\n  #queries: QueryStore\n\n  constructor(public config: QueryCacheConfig = {}) {\n    super()\n    this.#queries = new Map<string, Query>()\n  }\n\n  build<TQueryFnData, TError, TData, TQueryKey extends QueryKey>(\n    client: QueryClient,\n    options: WithRequired<\n      QueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n      'queryKey'\n    >,\n    state?: QueryState<TData, TError>,\n  ): Query<TQueryFnData, TError, TData, TQueryKey> {\n    const queryKey = options.queryKey\n    const queryHash =\n      options.queryHash ?? hashQueryKeyByOptions(queryKey, options)\n    let query = this.get<TQueryFnData, TError, TData, TQueryKey>(queryHash)\n\n    if (!query) {\n      query = new Query({\n        cache: this,\n        queryKey,\n        queryHash,\n        options: client.defaultQueryOptions(options),\n        state,\n        defaultOptions: client.getQueryDefaults(queryKey),\n      })\n      this.add(query)\n    }\n\n    return query\n  }\n\n  add(query: Query<any, any, any, any>): void {\n    if (!this.#queries.has(query.queryHash)) {\n      this.#queries.set(query.queryHash, query)\n\n      this.notify({\n        type: 'added',\n        query,\n      })\n    }\n  }\n\n  remove(query: Query<any, any, any, any>): void {\n    const queryInMap = this.#queries.get(query.queryHash)\n\n    if (queryInMap) {\n      query.destroy()\n\n      if (queryInMap === query) {\n        this.#queries.delete(query.queryHash)\n      }\n\n      this.notify({ type: 'removed', query })\n    }\n  }\n\n  clear(): void {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        this.remove(query)\n      })\n    })\n  }\n\n  get<\n    TQueryFnData = unknown,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    queryHash: string,\n  ): Query<TQueryFnData, TError, TData, TQueryKey> | undefined {\n    return this.#queries.get(queryHash) as\n      | Query<TQueryFnData, TError, TData, TQueryKey>\n      | undefined\n  }\n\n  getAll(): Array<Query> {\n    return [...this.#queries.values()]\n  }\n\n  find<TQueryFnData = unknown, TError = DefaultError, TData = TQueryFnData>(\n    filters: WithRequired<QueryFilters, 'queryKey'>,\n  ): Query<TQueryFnData, TError, TData> | undefined {\n    const defaultedFilters = { exact: true, ...filters }\n\n    return this.getAll().find((query) =>\n      matchQuery(defaultedFilters, query),\n    ) as Query<TQueryFnData, TError, TData> | undefined\n  }\n\n  findAll(filters: QueryFilters = {}): Array<Query> {\n    const queries = this.getAll()\n    return Object.keys(filters).length > 0\n      ? queries.filter((query) => matchQuery(filters, query))\n      : queries\n  }\n\n  notify(event: QueryCacheNotifyEvent) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event)\n      })\n    })\n  }\n\n  onFocus(): void {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onFocus()\n      })\n    })\n  }\n\n  onOnline(): void {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onOnline()\n      })\n    })\n  }\n}\n","import { notifyManager } from './notifyManager'\nimport { Removable } from './removable'\nimport { canFetch, createRetryer } from './retryer'\nimport type {\n  DefaultError,\n  MutationMeta,\n  MutationOptions,\n  MutationStatus,\n} from './types'\nimport type { MutationCache } from './mutationCache'\nimport type { MutationObserver } from './mutationObserver'\nimport type { Retryer } from './retryer'\n\n// TYPES\n\ninterface MutationConfig<TData, TError, TVariables, TContext> {\n  mutationId: number\n  mutationCache: MutationCache\n  options: MutationOptions<TData, TError, TVariables, TContext>\n  defaultOptions?: MutationOptions<TData, TError, TVariables, TContext>\n  state?: MutationState<TData, TError, TVariables, TContext>\n}\n\nexport interface MutationState<\n  TData = unknown,\n  TError = DefaultError,\n  TVariables = void,\n  TContext = unknown,\n> {\n  context: TContext | undefined\n  data: TData | undefined\n  error: TError | null\n  failureCount: number\n  failureReason: TError | null\n  isPaused: boolean\n  status: MutationStatus\n  variables: TVariables | undefined\n  submittedAt: number\n}\n\ninterface FailedAction<TError> {\n  type: 'failed'\n  failureCount: number\n  error: TError | null\n}\n\ninterface PendingAction<TVariables, TContext> {\n  type: 'pending'\n  variables?: TVariables\n  context?: TContext\n}\n\ninterface SuccessAction<TData> {\n  type: 'success'\n  data: TData\n}\n\ninterface ErrorAction<TError> {\n  type: 'error'\n  error: TError\n}\n\ninterface PauseAction {\n  type: 'pause'\n}\n\ninterface ContinueAction {\n  type: 'continue'\n}\n\nexport type Action<TData, TError, TVariables, TContext> =\n  | ContinueAction\n  | ErrorAction<TError>\n  | FailedAction<TError>\n  | PendingAction<TVariables, TContext>\n  | PauseAction\n  | SuccessAction<TData>\n\n// CLASS\n\nexport class Mutation<\n  TData = unknown,\n  TError = DefaultError,\n  TVariables = void,\n  TContext = unknown,\n> extends Removable {\n  state: MutationState<TData, TError, TVariables, TContext>\n  options!: MutationOptions<TData, TError, TVariables, TContext>\n  readonly mutationId: number\n\n  #observers: Array<MutationObserver<TData, TError, TVariables, TContext>>\n  #defaultOptions?: MutationOptions<TData, TError, TVariables, TContext>\n  #mutationCache: MutationCache\n  #retryer?: Retryer<TData>\n\n  constructor(config: MutationConfig<TData, TError, TVariables, TContext>) {\n    super()\n\n    this.mutationId = config.mutationId\n    this.#defaultOptions = config.defaultOptions\n    this.#mutationCache = config.mutationCache\n    this.#observers = []\n    this.state = config.state || getDefaultState()\n\n    this.setOptions(config.options)\n    this.scheduleGc()\n  }\n\n  setOptions(\n    options?: MutationOptions<TData, TError, TVariables, TContext>,\n  ): void {\n    this.options = { ...this.#defaultOptions, ...options }\n\n    this.updateGcTime(this.options.gcTime)\n  }\n\n  get meta(): MutationMeta | undefined {\n    return this.options.meta\n  }\n\n  addObserver(observer: MutationObserver<any, any, any, any>): void {\n    if (!this.#observers.includes(observer)) {\n      this.#observers.push(observer)\n\n      // Stop the mutation from being garbage collected\n      this.clearGcTimeout()\n\n      this.#mutationCache.notify({\n        type: 'observerAdded',\n        mutation: this,\n        observer,\n      })\n    }\n  }\n\n  removeObserver(observer: MutationObserver<any, any, any, any>): void {\n    this.#observers = this.#observers.filter((x) => x !== observer)\n\n    this.scheduleGc()\n\n    this.#mutationCache.notify({\n      type: 'observerRemoved',\n      mutation: this,\n      observer,\n    })\n  }\n\n  protected optionalRemove() {\n    if (!this.#observers.length) {\n      if (this.state.status === 'pending') {\n        this.scheduleGc()\n      } else {\n        this.#mutationCache.remove(this)\n      }\n    }\n  }\n\n  continue(): Promise<unknown> {\n    return (\n      this.#retryer?.continue() ??\n      // continuing a mutation assumes that variables are set, mutation must have been dehydrated before\n      this.execute(this.state.variables!)\n    )\n  }\n\n  async execute(variables: TVariables): Promise<TData> {\n    const executeMutation = () => {\n      this.#retryer = createRetryer({\n        fn: () => {\n          if (!this.options.mutationFn) {\n            return Promise.reject(new Error('No mutationFn found'))\n          }\n          return this.options.mutationFn(variables)\n        },\n        onFail: (failureCount, error) => {\n          this.#dispatch({ type: 'failed', failureCount, error })\n        },\n        onPause: () => {\n          this.#dispatch({ type: 'pause' })\n        },\n        onContinue: () => {\n          this.#dispatch({ type: 'continue' })\n        },\n        retry: this.options.retry ?? 0,\n        retryDelay: this.options.retryDelay,\n        networkMode: this.options.networkMode,\n      })\n\n      return this.#retryer.promise\n    }\n\n    const restored = this.state.status === 'pending'\n\n    try {\n      if (!restored) {\n        this.#dispatch({ type: 'pending', variables })\n        // Notify cache callback\n        await this.#mutationCache.config.onMutate?.(\n          variables,\n          this as Mutation<unknown, unknown, unknown, unknown>,\n        )\n        const context = await this.options.onMutate?.(variables)\n        if (context !== this.state.context) {\n          this.#dispatch({\n            type: 'pending',\n            context,\n            variables,\n          })\n        }\n      }\n      const data = await executeMutation()\n\n      // Notify cache callback\n      await this.#mutationCache.config.onSuccess?.(\n        data,\n        variables,\n        this.state.context,\n        this as Mutation<unknown, unknown, unknown, unknown>,\n      )\n\n      await this.options.onSuccess?.(data, variables, this.state.context!)\n\n      // Notify cache callback\n      await this.#mutationCache.config.onSettled?.(\n        data,\n        null,\n        this.state.variables,\n        this.state.context,\n        this as Mutation<unknown, unknown, unknown, unknown>,\n      )\n\n      await this.options.onSettled?.(data, null, variables, this.state.context)\n\n      this.#dispatch({ type: 'success', data })\n      return data\n    } catch (error) {\n      try {\n        // Notify cache callback\n        await this.#mutationCache.config.onError?.(\n          error as any,\n          variables,\n          this.state.context,\n          this as Mutation<unknown, unknown, unknown, unknown>,\n        )\n\n        await this.options.onError?.(\n          error as TError,\n          variables,\n          this.state.context,\n        )\n\n        // Notify cache callback\n        await this.#mutationCache.config.onSettled?.(\n          undefined,\n          error as any,\n          this.state.variables,\n          this.state.context,\n          this as Mutation<unknown, unknown, unknown, unknown>,\n        )\n\n        await this.options.onSettled?.(\n          undefined,\n          error as TError,\n          variables,\n          this.state.context,\n        )\n        throw error\n      } finally {\n        this.#dispatch({ type: 'error', error: error as TError })\n      }\n    }\n  }\n\n  #dispatch(action: Action<TData, TError, TVariables, TContext>): void {\n    const reducer = (\n      state: MutationState<TData, TError, TVariables, TContext>,\n    ): MutationState<TData, TError, TVariables, TContext> => {\n      switch (action.type) {\n        case 'failed':\n          return {\n            ...state,\n            failureCount: action.failureCount,\n            failureReason: action.error,\n          }\n        case 'pause':\n          return {\n            ...state,\n            isPaused: true,\n          }\n        case 'continue':\n          return {\n            ...state,\n            isPaused: false,\n          }\n        case 'pending':\n          return {\n            ...state,\n            context: action.context,\n            data: undefined,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            isPaused: !canFetch(this.options.networkMode),\n            status: 'pending',\n            variables: action.variables,\n            submittedAt: Date.now(),\n          }\n        case 'success':\n          return {\n            ...state,\n            data: action.data,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            status: 'success',\n            isPaused: false,\n          }\n        case 'error':\n          return {\n            ...state,\n            data: undefined,\n            error: action.error,\n            failureCount: state.failureCount + 1,\n            failureReason: action.error,\n            isPaused: false,\n            status: 'error',\n          }\n      }\n    }\n    this.state = reducer(this.state)\n\n    notifyManager.batch(() => {\n      this.#observers.forEach((observer) => {\n        observer.onMutationUpdate(action)\n      })\n      this.#mutationCache.notify({\n        mutation: this,\n        type: 'updated',\n        action,\n      })\n    })\n  }\n}\n\nexport function getDefaultState<\n  TData,\n  TError,\n  TVariables,\n  TContext,\n>(): MutationState<TData, TError, TVariables, TContext> {\n  return {\n    context: undefined,\n    data: undefined,\n    error: null,\n    failureCount: 0,\n    failureReason: null,\n    isPaused: false,\n    status: 'idle',\n    variables: undefined,\n    submittedAt: 0,\n  }\n}\n","import { notifyManager } from './notifyManager'\nimport { Mutation } from './mutation'\nimport { matchMutation, noop } from './utils'\nimport { Subscribable } from './subscribable'\nimport type { MutationObserver } from './mutationObserver'\nimport type { DefaultError, MutationOptions, NotifyEvent } from './types'\nimport type { QueryClient } from './queryClient'\nimport type { Action, MutationState } from './mutation'\nimport type { MutationFilters } from './utils'\n\n// TYPES\n\ninterface MutationCacheConfig {\n  onError?: (\n    error: DefaultError,\n    variables: unknown,\n    context: unknown,\n    mutation: Mutation<unknown, unknown, unknown>,\n  ) => Promise<unknown> | unknown\n  onSuccess?: (\n    data: unknown,\n    variables: unknown,\n    context: unknown,\n    mutation: Mutation<unknown, unknown, unknown>,\n  ) => Promise<unknown> | unknown\n  onMutate?: (\n    variables: unknown,\n    mutation: Mutation<unknown, unknown, unknown>,\n  ) => Promise<unknown> | unknown\n  onSettled?: (\n    data: unknown | undefined,\n    error: DefaultError | null,\n    variables: unknown,\n    context: unknown,\n    mutation: Mutation<unknown, unknown, unknown>,\n  ) => Promise<unknown> | unknown\n}\n\ninterface NotifyEventMutationAdded extends NotifyEvent {\n  type: 'added'\n  mutation: Mutation<any, any, any, any>\n}\ninterface NotifyEventMutationRemoved extends NotifyEvent {\n  type: 'removed'\n  mutation: Mutation<any, any, any, any>\n}\n\ninterface NotifyEventMutationObserverAdded extends NotifyEvent {\n  type: 'observerAdded'\n  mutation: Mutation<any, any, any, any>\n  observer: MutationObserver<any, any, any>\n}\n\ninterface NotifyEventMutationObserverRemoved extends NotifyEvent {\n  type: 'observerRemoved'\n  mutation: Mutation<any, any, any, any>\n  observer: MutationObserver<any, any, any>\n}\n\ninterface NotifyEventMutationObserverOptionsUpdated extends NotifyEvent {\n  type: 'observerOptionsUpdated'\n  mutation?: Mutation<any, any, any, any>\n  observer: MutationObserver<any, any, any, any>\n}\n\ninterface NotifyEventMutationUpdated extends NotifyEvent {\n  type: 'updated'\n  mutation: Mutation<any, any, any, any>\n  action: Action<any, any, any, any>\n}\n\nexport type MutationCacheNotifyEvent =\n  | NotifyEventMutationAdded\n  | NotifyEventMutationRemoved\n  | NotifyEventMutationObserverAdded\n  | NotifyEventMutationObserverRemoved\n  | NotifyEventMutationObserverOptionsUpdated\n  | NotifyEventMutationUpdated\n\ntype MutationCacheListener = (event: MutationCacheNotifyEvent) => void\n\n// CLASS\n\nexport class MutationCache extends Subscribable<MutationCacheListener> {\n  #mutations: Array<Mutation<any, any, any, any>>\n  #mutationId: number\n  #resuming: Promise<unknown> | undefined\n\n  constructor(public config: MutationCacheConfig = {}) {\n    super()\n    this.#mutations = []\n    this.#mutationId = 0\n  }\n\n  build<TData, TError, TVariables, TContext>(\n    client: QueryClient,\n    options: MutationOptions<TData, TError, TVariables, TContext>,\n    state?: MutationState<TData, TError, TVariables, TContext>,\n  ): Mutation<TData, TError, TVariables, TContext> {\n    const mutation = new Mutation({\n      mutationCache: this,\n      mutationId: ++this.#mutationId,\n      options: client.defaultMutationOptions(options),\n      state,\n    })\n\n    this.add(mutation)\n\n    return mutation\n  }\n\n  add(mutation: Mutation<any, any, any, any>): void {\n    this.#mutations.push(mutation)\n    this.notify({ type: 'added', mutation })\n  }\n\n  remove(mutation: Mutation<any, any, any, any>): void {\n    this.#mutations = this.#mutations.filter((x) => x !== mutation)\n    this.notify({ type: 'removed', mutation })\n  }\n\n  clear(): void {\n    notifyManager.batch(() => {\n      this.#mutations.forEach((mutation) => {\n        this.remove(mutation)\n      })\n    })\n  }\n\n  getAll(): Array<Mutation> {\n    return this.#mutations\n  }\n\n  find<\n    TData = unknown,\n    TError = DefaultError,\n    TVariables = any,\n    TContext = unknown,\n  >(\n    filters: MutationFilters,\n  ): Mutation<TData, TError, TVariables, TContext> | undefined {\n    const defaultedFilters = { exact: true, ...filters }\n\n    return this.#mutations.find((mutation) =>\n      matchMutation(defaultedFilters, mutation),\n    )\n  }\n\n  findAll(filters: MutationFilters = {}): Array<Mutation> {\n    return this.#mutations.filter((mutation) =>\n      matchMutation(filters, mutation),\n    )\n  }\n\n  notify(event: MutationCacheNotifyEvent) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event)\n      })\n    })\n  }\n\n  resumePausedMutations(): Promise<unknown> {\n    this.#resuming = (this.#resuming ?? Promise.resolve())\n      .then(() => {\n        const pausedMutations = this.#mutations.filter((x) => x.state.isPaused)\n        return notifyManager.batch(() =>\n          pausedMutations.reduce(\n            (promise, mutation) =>\n              promise.then(() => mutation.continue().catch(noop)),\n            Promise.resolve() as Promise<unknown>,\n          ),\n        )\n      })\n      .then(() => {\n        this.#resuming = undefined\n      })\n\n    return this.#resuming\n  }\n}\n","import { addToEnd, addToStart, skipToken } from './utils'\nimport type { QueryBehavior } from './query'\nimport type {\n  InfiniteData,\n  InfiniteQueryPageParamsOptions,\n  OmitKeyof,\n  QueryFunctionContext,\n  QueryKey,\n} from './types'\n\nexport function infiniteQueryBehavior<TQueryFnData, TError, TData, TPageParam>(\n  pages?: number,\n): QueryBehavior<TQueryFnData, TError, InfiniteData<TData, TPageParam>> {\n  return {\n    onFetch: (context, query) => {\n      const fetchFn = async () => {\n        const options = context.options as InfiniteQueryPageParamsOptions<TData>\n        const direction = context.fetchOptions?.meta?.fetchMore?.direction\n        const oldPages = context.state.data?.pages || []\n        const oldPageParams = context.state.data?.pageParams || []\n        const empty = { pages: [], pageParams: [] }\n        let cancelled = false\n\n        const addSignalProperty = (object: unknown) => {\n          Object.defineProperty(object, 'signal', {\n            enumerable: true,\n            get: () => {\n              if (context.signal.aborted) {\n                cancelled = true\n              } else {\n                context.signal.addEventListener('abort', () => {\n                  cancelled = true\n                })\n              }\n              return context.signal\n            },\n          })\n        }\n\n        // Get query function\n        const queryFn =\n          context.options.queryFn && context.options.queryFn !== skipToken\n            ? context.options.queryFn\n            : () => {\n                if (process.env.NODE_ENV !== 'production') {\n                  if (context.options.queryFn === skipToken) {\n                    console.error(\n                      `Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${context.options.queryHash}'`,\n                    )\n                  }\n                }\n                return Promise.reject(\n                  new Error(`Missing queryFn: '${context.options.queryHash}'`),\n                )\n              }\n\n        // Create function to fetch a page\n        const fetchPage = async (\n          data: InfiniteData<unknown>,\n          param: unknown,\n          previous?: boolean,\n        ): Promise<InfiniteData<unknown>> => {\n          if (cancelled) {\n            return Promise.reject()\n          }\n\n          if (param == null && data.pages.length) {\n            return Promise.resolve(data)\n          }\n\n          const queryFnContext: OmitKeyof<\n            QueryFunctionContext<QueryKey, unknown>,\n            'signal'\n          > = {\n            queryKey: context.queryKey,\n            pageParam: param,\n            direction: previous ? 'backward' : 'forward',\n            meta: context.options.meta,\n          }\n\n          addSignalProperty(queryFnContext)\n\n          const page = await queryFn(\n            queryFnContext as QueryFunctionContext<QueryKey, unknown>,\n          )\n\n          const { maxPages } = context.options\n          const addTo = previous ? addToStart : addToEnd\n\n          return {\n            pages: addTo(data.pages, page, maxPages),\n            pageParams: addTo(data.pageParams, param, maxPages),\n          }\n        }\n\n        let result: InfiniteData<unknown>\n\n        // fetch next / previous page?\n        if (direction && oldPages.length) {\n          const previous = direction === 'backward'\n          const pageParamFn = previous ? getPreviousPageParam : getNextPageParam\n          const oldData = {\n            pages: oldPages,\n            pageParams: oldPageParams,\n          }\n          const param = pageParamFn(options, oldData)\n\n          result = await fetchPage(oldData, param, previous)\n        } else {\n          // Fetch first page\n          result = await fetchPage(\n            empty,\n            oldPageParams[0] ?? options.initialPageParam,\n          )\n\n          const remainingPages = pages ?? oldPages.length\n\n          // Fetch remaining pages\n          for (let i = 1; i < remainingPages; i++) {\n            const param = getNextPageParam(options, result)\n            result = await fetchPage(result, param)\n          }\n        }\n\n        return result\n      }\n      if (context.options.persister) {\n        context.fetchFn = () => {\n          return context.options.persister?.(\n            fetchFn as any,\n            {\n              queryKey: context.queryKey,\n              meta: context.options.meta,\n              signal: context.signal,\n            },\n            query,\n          )\n        }\n      } else {\n        context.fetchFn = fetchFn\n      }\n    },\n  }\n}\n\nfunction getNextPageParam(\n  options: InfiniteQueryPageParamsOptions<any>,\n  { pages, pageParams }: InfiniteData<unknown>,\n): unknown | undefined {\n  const lastIndex = pages.length - 1\n  return options.getNextPageParam(\n    pages[lastIndex],\n    pages,\n    pageParams[lastIndex],\n    pageParams,\n  )\n}\n\nfunction getPreviousPageParam(\n  options: InfiniteQueryPageParamsOptions<any>,\n  { pages, pageParams }: InfiniteData<unknown>,\n): unknown | undefined {\n  return options.getPreviousPageParam?.(\n    pages[0],\n    pages,\n    pageParams[0],\n    pageParams,\n  )\n}\n\n/**\n * Checks if there is a next page.\n */\nexport function hasNextPage(\n  options: InfiniteQueryPageParamsOptions<any, any>,\n  data?: InfiniteData<unknown>,\n): boolean {\n  if (!data) return false\n  return getNextPageParam(options, data) != null\n}\n\n/**\n * Checks if there is a previous page.\n */\nexport function hasPreviousPage(\n  options: InfiniteQueryPageParamsOptions<any, any>,\n  data?: InfiniteData<unknown>,\n): boolean {\n  if (!data || !options.getPreviousPageParam) return false\n  return getPreviousPageParam(options, data) != null\n}\n","import {\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  noop,\n  partialMatchKey,\n  skipToken,\n} from './utils'\nimport { QueryCache } from './queryCache'\nimport { MutationCache } from './mutationCache'\nimport { focusManager } from './focusManager'\nimport { onlineManager } from './onlineManager'\nimport { notifyManager } from './notifyManager'\nimport { infiniteQueryBehavior } from './infiniteQueryBehavior'\nimport type { DataTag, NoInfer, OmitKeyof } from './types'\nimport type { QueryState } from './query'\nimport type {\n  CancelOptions,\n  DefaultError,\n  DefaultOptions,\n  DefaultedQueryObserverOptions,\n  EnsureQueryDataOptions,\n  FetchInfiniteQueryOptions,\n  FetchQueryOptions,\n  InfiniteData,\n  InvalidateOptions,\n  InvalidateQueryFilters,\n  MutationKey,\n  MutationObserverOptions,\n  MutationOptions,\n  QueryClientConfig,\n  QueryKey,\n  QueryObserverOptions,\n  QueryOptions,\n  RefetchOptions,\n  RefetchQueryFilters,\n  ResetOptions,\n  SetDataOptions,\n} from './types'\nimport type { MutationFilters, QueryFilters, Updater } from './utils'\n\n// TYPES\n\ninterface QueryDefaults {\n  queryKey: QueryKey\n  defaultOptions: OmitKeyof<QueryOptions<any, any, any>, 'queryKey'>\n}\n\ninterface MutationDefaults {\n  mutationKey: MutationKey\n  defaultOptions: MutationOptions<any, any, any, any>\n}\n\n// CLASS\n\nexport class QueryClient {\n  #queryCache: QueryCache\n  #mutationCache: MutationCache\n  #defaultOptions: DefaultOptions\n  #queryDefaults: Map<string, QueryDefaults>\n  #mutationDefaults: Map<string, MutationDefaults>\n  #mountCount: number\n  #unsubscribeFocus?: () => void\n  #unsubscribeOnline?: () => void\n\n  constructor(config: QueryClientConfig = {}) {\n    this.#queryCache = config.queryCache || new QueryCache()\n    this.#mutationCache = config.mutationCache || new MutationCache()\n    this.#defaultOptions = config.defaultOptions || {}\n    this.#queryDefaults = new Map()\n    this.#mutationDefaults = new Map()\n    this.#mountCount = 0\n  }\n\n  mount(): void {\n    this.#mountCount++\n    if (this.#mountCount !== 1) return\n\n    this.#unsubscribeFocus = focusManager.subscribe(async (focused) => {\n      if (focused) {\n        await this.resumePausedMutations()\n        this.#queryCache.onFocus()\n      }\n    })\n    this.#unsubscribeOnline = onlineManager.subscribe(async (online) => {\n      if (online) {\n        await this.resumePausedMutations()\n        this.#queryCache.onOnline()\n      }\n    })\n  }\n\n  unmount(): void {\n    this.#mountCount--\n    if (this.#mountCount !== 0) return\n\n    this.#unsubscribeFocus?.()\n    this.#unsubscribeFocus = undefined\n\n    this.#unsubscribeOnline?.()\n    this.#unsubscribeOnline = undefined\n  }\n\n  isFetching(filters?: QueryFilters): number {\n    return this.#queryCache.findAll({ ...filters, fetchStatus: 'fetching' })\n      .length\n  }\n\n  isMutating(filters?: MutationFilters): number {\n    return this.#mutationCache.findAll({ ...filters, status: 'pending' }).length\n  }\n\n  getQueryData<\n    TQueryFnData = unknown,\n    TTaggedQueryKey extends QueryKey = QueryKey,\n    TInferredQueryFnData = TTaggedQueryKey extends DataTag<\n      unknown,\n      infer TaggedValue\n    >\n      ? TaggedValue\n      : TQueryFnData,\n  >(queryKey: TTaggedQueryKey): TInferredQueryFnData | undefined\n  getQueryData(queryKey: QueryKey) {\n    const options = this.defaultQueryOptions({ queryKey })\n    return this.#queryCache.get(options.queryHash)?.state.data\n  }\n\n  ensureQueryData<\n    TQueryFnData,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    options: EnsureQueryDataOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): Promise<TData> {\n    const cachedData = this.getQueryData<TData>(options.queryKey)\n\n    if (cachedData === undefined) return this.fetchQuery(options)\n    else {\n      const defaultedOptions = this.defaultQueryOptions(options)\n      const query = this.#queryCache.build(this, defaultedOptions)\n\n      if (\n        options.revalidateIfStale &&\n        query.isStaleByTime(defaultedOptions.staleTime)\n      ) {\n        void this.prefetchQuery(defaultedOptions)\n      }\n\n      return Promise.resolve(cachedData)\n    }\n  }\n\n  getQueriesData<TQueryFnData = unknown>(\n    filters: QueryFilters,\n  ): Array<[QueryKey, TQueryFnData | undefined]> {\n    return this.#queryCache.findAll(filters).map(({ queryKey, state }) => {\n      const data = state.data as TQueryFnData | undefined\n      return [queryKey, data]\n    })\n  }\n\n  setQueryData<\n    TQueryFnData = unknown,\n    TTaggedQueryKey extends QueryKey = QueryKey,\n    TInferredQueryFnData = TTaggedQueryKey extends DataTag<\n      unknown,\n      infer TaggedValue\n    >\n      ? TaggedValue\n      : TQueryFnData,\n  >(\n    queryKey: TTaggedQueryKey,\n    updater: Updater<\n      NoInfer<TInferredQueryFnData> | undefined,\n      NoInfer<TInferredQueryFnData> | undefined\n    >,\n    options?: SetDataOptions,\n  ): TInferredQueryFnData | undefined {\n    const defaultedOptions = this.defaultQueryOptions<\n      any,\n      any,\n      unknown,\n      any,\n      QueryKey\n    >({ queryKey })\n\n    const query = this.#queryCache.get<TInferredQueryFnData>(\n      defaultedOptions.queryHash,\n    )\n    const prevData = query?.state.data\n    const data = functionalUpdate(updater, prevData)\n\n    if (data === undefined) {\n      return undefined\n    }\n\n    return this.#queryCache\n      .build(this, defaultedOptions)\n      .setData(data, { ...options, manual: true })\n  }\n\n  setQueriesData<TQueryFnData>(\n    filters: QueryFilters,\n    updater: Updater<TQueryFnData | undefined, TQueryFnData | undefined>,\n    options?: SetDataOptions,\n  ): Array<[QueryKey, TQueryFnData | undefined]> {\n    return notifyManager.batch(() =>\n      this.#queryCache\n        .findAll(filters)\n        .map(({ queryKey }) => [\n          queryKey,\n          this.setQueryData<TQueryFnData>(queryKey, updater, options),\n        ]),\n    )\n  }\n\n  getQueryState<\n    TQueryFnData = unknown,\n    TError = DefaultError,\n    TTaggedQueryKey extends QueryKey = QueryKey,\n    TInferredQueryFnData = TTaggedQueryKey extends DataTag<\n      unknown,\n      infer TaggedValue\n    >\n      ? TaggedValue\n      : TQueryFnData,\n  >(\n    queryKey: TTaggedQueryKey,\n  ): QueryState<TInferredQueryFnData, TError> | undefined {\n    const options = this.defaultQueryOptions({ queryKey })\n    return this.#queryCache.get<TInferredQueryFnData, TError>(options.queryHash)\n      ?.state\n  }\n\n  removeQueries(filters?: QueryFilters): void {\n    const queryCache = this.#queryCache\n    notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        queryCache.remove(query)\n      })\n    })\n  }\n\n  resetQueries(filters?: QueryFilters, options?: ResetOptions): Promise<void> {\n    const queryCache = this.#queryCache\n\n    const refetchFilters: RefetchQueryFilters = {\n      type: 'active',\n      ...filters,\n    }\n\n    return notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        query.reset()\n      })\n      return this.refetchQueries(refetchFilters, options)\n    })\n  }\n\n  cancelQueries(\n    filters: QueryFilters = {},\n    cancelOptions: CancelOptions = {},\n  ): Promise<void> {\n    const defaultedCancelOptions = { revert: true, ...cancelOptions }\n\n    const promises = notifyManager.batch(() =>\n      this.#queryCache\n        .findAll(filters)\n        .map((query) => query.cancel(defaultedCancelOptions)),\n    )\n\n    return Promise.all(promises).then(noop).catch(noop)\n  }\n\n  invalidateQueries(\n    filters: InvalidateQueryFilters = {},\n    options: InvalidateOptions = {},\n  ): Promise<void> {\n    return notifyManager.batch(() => {\n      this.#queryCache.findAll(filters).forEach((query) => {\n        query.invalidate()\n      })\n\n      if (filters.refetchType === 'none') {\n        return Promise.resolve()\n      }\n      const refetchFilters: RefetchQueryFilters = {\n        ...filters,\n        type: filters.refetchType ?? filters.type ?? 'active',\n      }\n      return this.refetchQueries(refetchFilters, options)\n    })\n  }\n\n  refetchQueries(\n    filters: RefetchQueryFilters = {},\n    options?: RefetchOptions,\n  ): Promise<void> {\n    const fetchOptions = {\n      ...options,\n      cancelRefetch: options?.cancelRefetch ?? true,\n    }\n    const promises = notifyManager.batch(() =>\n      this.#queryCache\n        .findAll(filters)\n        .filter((query) => !query.isDisabled())\n        .map((query) => {\n          let promise = query.fetch(undefined, fetchOptions)\n          if (!fetchOptions.throwOnError) {\n            promise = promise.catch(noop)\n          }\n          return query.state.fetchStatus === 'paused'\n            ? Promise.resolve()\n            : promise\n        }),\n    )\n\n    return Promise.all(promises).then(noop)\n  }\n\n  fetchQuery<\n    TQueryFnData,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n    TPageParam = never,\n  >(\n    options: FetchQueryOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryKey,\n      TPageParam\n    >,\n  ): Promise<TData> {\n    const defaultedOptions = this.defaultQueryOptions(options)\n\n    // https://github.com/tannerlinsley/react-query/issues/652\n    if (defaultedOptions.retry === undefined) {\n      defaultedOptions.retry = false\n    }\n\n    const query = this.#queryCache.build(this, defaultedOptions)\n\n    return query.isStaleByTime(defaultedOptions.staleTime)\n      ? query.fetch(defaultedOptions)\n      : Promise.resolve(query.state.data as TData)\n  }\n\n  prefetchQuery<\n    TQueryFnData = unknown,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    options: FetchQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): Promise<void> {\n    return this.fetchQuery(options).then(noop).catch(noop)\n  }\n\n  fetchInfiniteQuery<\n    TQueryFnData,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n    TPageParam = unknown,\n  >(\n    options: FetchInfiniteQueryOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryKey,\n      TPageParam\n    >,\n  ): Promise<InfiniteData<TData, TPageParam>> {\n    options.behavior = infiniteQueryBehavior<\n      TQueryFnData,\n      TError,\n      TData,\n      TPageParam\n    >(options.pages)\n    return this.fetchQuery(options)\n  }\n\n  prefetchInfiniteQuery<\n    TQueryFnData,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n    TPageParam = unknown,\n  >(\n    options: FetchInfiniteQueryOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryKey,\n      TPageParam\n    >,\n  ): Promise<void> {\n    return this.fetchInfiniteQuery(options).then(noop).catch(noop)\n  }\n\n  resumePausedMutations(): Promise<unknown> {\n    if (onlineManager.isOnline()) {\n      return this.#mutationCache.resumePausedMutations()\n    }\n    return Promise.resolve()\n  }\n\n  getQueryCache(): QueryCache {\n    return this.#queryCache\n  }\n\n  getMutationCache(): MutationCache {\n    return this.#mutationCache\n  }\n\n  getDefaultOptions(): DefaultOptions {\n    return this.#defaultOptions\n  }\n\n  setDefaultOptions(options: DefaultOptions): void {\n    this.#defaultOptions = options\n  }\n\n  setQueryDefaults(\n    queryKey: QueryKey,\n    options: Partial<\n      OmitKeyof<QueryObserverOptions<unknown, any, any, any>, 'queryKey'>\n    >,\n  ): void {\n    this.#queryDefaults.set(hashKey(queryKey), {\n      queryKey,\n      defaultOptions: options,\n    })\n  }\n\n  getQueryDefaults(\n    queryKey: QueryKey,\n  ): OmitKeyof<QueryObserverOptions<any, any, any, any, any>, 'queryKey'> {\n    const defaults = [...this.#queryDefaults.values()]\n\n    let result: OmitKeyof<\n      QueryObserverOptions<any, any, any, any, any>,\n      'queryKey'\n    > = {}\n\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(queryKey, queryDefault.queryKey)) {\n        result = { ...result, ...queryDefault.defaultOptions }\n      }\n    })\n    return result\n  }\n\n  setMutationDefaults(\n    mutationKey: MutationKey,\n    options: OmitKeyof<\n      MutationObserverOptions<any, any, any, any>,\n      'mutationKey'\n    >,\n  ): void {\n    this.#mutationDefaults.set(hashKey(mutationKey), {\n      mutationKey,\n      defaultOptions: options,\n    })\n  }\n\n  getMutationDefaults(\n    mutationKey: MutationKey,\n  ): MutationObserverOptions<any, any, any, any> {\n    const defaults = [...this.#mutationDefaults.values()]\n\n    let result: MutationObserverOptions<any, any, any, any> = {}\n\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(mutationKey, queryDefault.mutationKey)) {\n        result = { ...result, ...queryDefault.defaultOptions }\n      }\n    })\n\n    return result\n  }\n\n  defaultQueryOptions<\n    TQueryFnData = unknown,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n    TPageParam = never,\n  >(\n    options:\n      | QueryObserverOptions<\n          TQueryFnData,\n          TError,\n          TData,\n          TQueryData,\n          TQueryKey,\n          TPageParam\n        >\n      | DefaultedQueryObserverOptions<\n          TQueryFnData,\n          TError,\n          TData,\n          TQueryData,\n          TQueryKey\n        >,\n  ): DefaultedQueryObserverOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryData,\n    TQueryKey\n  > {\n    if (options._defaulted) {\n      return options as DefaultedQueryObserverOptions<\n        TQueryFnData,\n        TError,\n        TData,\n        TQueryData,\n        TQueryKey\n      >\n    }\n\n    const defaultedOptions = {\n      ...this.#defaultOptions.queries,\n      ...this.getQueryDefaults(options.queryKey),\n      ...options,\n      _defaulted: true,\n    }\n\n    if (!defaultedOptions.queryHash) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(\n        defaultedOptions.queryKey,\n        defaultedOptions,\n      )\n    }\n\n    // dependent default values\n    if (defaultedOptions.refetchOnReconnect === undefined) {\n      defaultedOptions.refetchOnReconnect =\n        defaultedOptions.networkMode !== 'always'\n    }\n    if (defaultedOptions.throwOnError === undefined) {\n      defaultedOptions.throwOnError = !!defaultedOptions.suspense\n    }\n\n    if (!defaultedOptions.networkMode && defaultedOptions.persister) {\n      defaultedOptions.networkMode = 'offlineFirst'\n    }\n\n    if (\n      defaultedOptions.enabled !== true &&\n      defaultedOptions.queryFn === skipToken\n    ) {\n      defaultedOptions.enabled = false\n    }\n\n    return defaultedOptions as DefaultedQueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >\n  }\n\n  defaultMutationOptions<T extends MutationOptions<any, any, any, any>>(\n    options?: T,\n  ): T {\n    if (options?._defaulted) {\n      return options\n    }\n    return {\n      ...this.#defaultOptions.mutations,\n      ...(options?.mutationKey &&\n        this.getMutationDefaults(options.mutationKey)),\n      ...options,\n      _defaulted: true,\n    } as T\n  }\n\n  clear(): void {\n    this.#queryCache.clear()\n    this.#mutationCache.clear()\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport * as serviceWorker from \"./serviceWorkerRegistration\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      // cacheTime: 1000 * 60 * 60 * 24, // 24 hours\n      staleTime: 2000,\n      retry: 0,\n    },\n  },\n});\n\nconst root = ReactDOM.createRoot(\n  document.getElementById(\"root\") as HTMLElement\n);\nroot.render(\n  <React.StrictMode>\n    <QueryClientProvider client={queryClient}>\n      <App />\n    </QueryClientProvider>\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nserviceWorker.register();\nreportWebVitals();\n","import { Workbox } from 'workbox-window';\n\nconst register = () => {\n  if ('serviceWorker' in navigator) {\n    const wb = new Workbox(`${process.env.PUBLIC_URL}/service-worker.js`);\n\n    wb.addEventListener('installed', event => {\n      if (!event.isUpdate) {\n        console.log('Service worker installed for the first time');\n      }\n    });\n\n    wb.addEventListener('activated', event => {\n      console.log('Service worker activated');\n    });\n\n    wb.register();\n  }\n};\n\nexport { register };\n"],"names":["module","exports","s","e","t","Object","setPrototypeOf","__proto__","Array","n","prototype","hasOwnProperty","call","g","assign","r","arguments","length","i","apply","this","o","slice","concat","f","globalThis","self","window","global","x","keys","w","isArray","a","forEach","Promise","c","getPrototypeOf","m","Reflect","ownKeys","l","u","defineProperty","get","set","configurable","value","writable","from","create","extend","bind","h","getOwnPropertyDescriptor","d","b","p","y","Error","v","setImmediate","setTimeout","k","push","indexOf","substr","P","isFrozen","isNaN","parseInt","splice","_","O","split","map","filter","E","Set","K","S","WeakMap","has","constructor","j","toString","A","C","Symbol","iterator","D","q","T","B","next","done","I","toStringTag","F","R","M","VersionChanged","DatabaseClosed","Abort","TransactionInactive","MissingAPI","N","name","message","L","join","U","failures","failedKeys","successCount","z","failuresByPos","V","reduce","W","Y","inner","Syntax","SyntaxError","Type","TypeError","Range","RangeError","$","Q","G","X","H","J","Z","onsuccess","onerror","ee","te","ne","re","then","ModifyError","DexieError","BulkError","ie","location","test","href","oe","ae","ue","resolve","crypto","subtle","digest","Uint8Array","se","ce","le","be","he","queueMicrotask","Se","fe","de","pe","ye","ve","id","ref","unhandleds","onunhandled","pgp","env","finalize","me","ge","we","_e","_listeners","_lib","_PSD","_state","_value","Oe","je","_then","Pe","Ae","xe","Fe","Ue","Ee","ke","Qe","_consoleTask","onFulfilled","onRejected","reject","psd","some","Ce","Ke","run","$e","De","qe","We","catch","finally","timeout","Timeout","clearTimeout","Ye","all","ze","race","PSD","totalEchoes","newPSD","Ne","usePSD","scheduler","rejectionMapper","follow","allSettled","status","reason","any","AggregateError","Te","awaits","echoes","Be","Ie","Re","Me","parent","PromiseProp","Le","Xe","Ve","pop","Ge","enqueueNativeMicroTask","He","String","fromCharCode","Je","Ze","et","tt","nt","rt","it","ot","type","lower","lowerOpen","upper","upperOpen","at","ut","st","ct","NaN","lt","ArrayBuffer","isView","buffer","byteOffset","byteLength","ft","ht","_trans","_tx","trans","console","createTask","schema","NotFound","idbtrans","db","_novip","_promise","transless","idbdb","openComplete","letThrough","_vip","_createTransaction","_dbSchema","PR1398_maxLoop","InvalidState","isOpen","warn","close","disableAutoOpen","open","commit","_completion","dbOpenError","isBeingOpened","autoOpen","dbReadyPromise","trace","where","first","core","key","hook","reading","fire","WhereClause","equals","indexes","primKey","compound","every","keyPath","sort","_maxKey","JSON","stringify","idxByName","_deps","indexedDB","cmp","multi","toCollection","and","count","offset","limit","each","toArray","Collection","orderBy","reverse","mapToClass","mappedClass","enumerable","table","getOwnPropertyNames","add","readHook","unsubscribe","defineClass","auto","mutate","values","numFailures","lastResult","update","modify","InvalidArgument","put","delete","clear","range","bulkGet","getMany","bulkAdd","allKeys","wantResults","results","bulkPut","bulkUpdate","changes","cache","Constraint","updates","changeSpecs","Number","bulkDelete","dt","subscribe","addEventType","subscribers","pt","yt","algorithm","or","justLimit","replayFilter","vt","mt","bt","isPrimKey","primaryKey","getIndexByKeyPath","index","Schema","gt","openCursor","keysOnly","dir","unique","query","wt","stop","fail","_iterate","_t","valueMapper","start","continue","xt","kt","execute","replacePrefix","startsWith","substring","Ot","Pt","_read","_ctx","error","_write","_addAlgorithm","clone","raw","Math","min","sortBy","result","advance","until","last","isMatch","_ondirectionchange","desc","eachKey","eachUniqueKey","eachPrimaryKey","primaryKeys","uniqueKeys","firstKey","lastKey","distinct","outbound","extractKey","_options","modifyChunkSize","Et","criteria","changeSpec","Kt","St","jt","Tt","At","qt","Ct","toUpperCase","toLowerCase","Dt","Bt","between","_cmp","above","aboveOrEqual","below","belowOrEqual","startsWithIgnoreCase","equalsIgnoreCase","anyOfIgnoreCase","startsWithAnyOfIgnoreCase","anyOf","_ascending","_descending","notEqual","inAnyRange","includeLowers","includeUppers","noneOf","_min","_max","startsWithAnyOf","It","Rt","target","stopPropagation","preventDefault","Ft","Mt","Nt","Lt","Ut","_lock","_reculock","lockOwnerFor","_unlock","_blockedFuncs","_locked","shift","mode","OpenFailed","active","transaction","storeNames","durability","chromeTransactionDurability","_reject","onabort","on","oncomplete","_resolve","storagemutated","mutatedParts","ReadOnly","_root","waitFor","_waitingFor","_waitingQueue","objectStore","_spinCount","abort","_memoizedTables","Table","zt","src","Vt","Wt","Yt","only","$t","Qt","Gt","Xt","Ht","upperBound","lowerBound","bound","_pos","isPrimaryKey","getAll","getAllKeys","openKeyCursor","___id","continuePrimaryKey","objectStoreNames","tables","autoIncrement","indexNames","multiEntry","hasGetAll","navigator","userAgent","match","stack","MIN_KEY","MAX_KEY","Jt","IDBKeyRange","dbcore","Zt","_middlewares","en","Transaction","tn","nn","_cfg","version","rn","contains","$meta","hn","_storeNames","includes","_versions","ln","dbschema","fn","an","un","change","recreate","Upgrade","cn","deleteIndex","del","contentUpgrade","deleteObjectStore","ceil","sn","populate","createObjectStore","debug","def","createIndex","_hasGetAll","WorkerGlobalScope","trim","replace","dn","pn","_parseStoresSpec","stores","storesSource","_allTables","upgrade","yn","_dbNamesDB","er","addons","dbnames","vn","databases","mn","bn","gn","to","wn","On","_n","xn","kn","up","Pn","max","En","Kn","addKey","addKeys","Sn","jn","An","Cn","Dn","qn","exec","entries","queries","obsSet","Tn","openCanceller","round","verno","autoSchema","onblocked","_fireOnBlocked","onupgradeneeded","allowEmptyDB","deleteDatabase","NoSuchDatabase","oldVersion","pow","onversionchange","vcFired","onclose","dbReadyResolve","userAgentData","setInterval","clearInterval","onReadyBeingFired","ready","vip","_close","Bn","throw","In","Rn","level","lowLevelIndex","isVirtual","keyTail","keyLength","Fn","Mn","Nn","deleting","creating","updating","Ln","Un","_cache","zn","subscr","explicit","Vn","Wn","querier","Yn","$n","Qn","freeze","dirty","Gn","Xn","Hn","addEventListener","size","Jn","AbortController","signal","optimisticOps","_explicit","res","req","promise","requery","find","objs","Map","unsignaledParts","Zn","Proxy","tr","Version","_whenReady","use","unuse","cancelOpen","backendDB","hasBeenClosed","hasFailed","dynamicallyOpened","_transaction","SubTransaction","PrematureCommit","InvalidTable","dependencies","complete","_IDBKeyRange","newVersion","observable","nr","rr","ir","_subscribe","mozIndexedDB","webkitIndexedDB","msIndexedDB","webkitIDBKeyRange","closed","aborted","hasValue","getValue","ar","ur","cr","exists","getDatabaseNames","ignoreTransaction","async","spawn","currentTransaction","derive","props","override","Events","liveQuery","extendObservabilitySet","getByKeyPath","setByKeyPath","delByKeyPath","shallowClone","deepClone","getObjectDiff","asap","minKey","connections","errnames","semVer","maxKey","dispatchEvent","CustomEvent","detail","sr","lr","BroadcastChannel","onmessage","data","unref","postMessage","disableBfCache","persisted","Dexie","Entity","PropModSymbol","PropModification","default","RangeSet","mergeRanges","rangesOverlap","aa","require","ca","encodeURIComponent","da","ea","fa","ha","ia","document","createElement","ja","ka","la","ma","acceptsBooleans","attributeName","attributeNamespace","mustUseProperty","propertyName","sanitizeURL","removeEmptyString","ra","sa","ta","pa","qa","oa","removeAttribute","setAttribute","setAttributeNS","xlinkHref","ua","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","va","for","wa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","Ka","La","Ma","Na","Oa","prepareStackTrace","construct","displayName","Pa","tag","render","Qa","$$typeof","_context","_payload","_init","Ra","Sa","Ta","nodeName","Va","_valueTracker","setValue","stopTracking","Ua","Wa","checked","Xa","activeElement","body","Ya","defaultChecked","defaultValue","_wrapperState","initialChecked","Za","initialValue","controlled","ab","bb","cb","ownerDocument","eb","fb","options","selected","defaultSelected","disabled","gb","dangerouslySetInnerHTML","children","hb","ib","jb","textContent","kb","lb","mb","nb","namespaceURI","innerHTML","valueOf","firstChild","removeChild","appendChild","MSApp","execUnsafeLocalFunction","ob","lastChild","nodeType","nodeValue","pb","animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","qb","rb","sb","style","setProperty","charAt","tb","menuitem","area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","ub","vb","is","wb","xb","srcElement","correspondingUseElement","parentNode","yb","zb","Ab","Bb","Cb","stateNode","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","removeEventListener","Nb","onError","Ob","Pb","Qb","Rb","Sb","Tb","Vb","alternate","return","flags","Wb","memoizedState","dehydrated","Xb","Zb","child","sibling","current","Yb","$b","ac","unstable_scheduleCallback","bc","unstable_cancelCallback","cc","unstable_shouldYield","dc","unstable_requestPaint","unstable_now","ec","unstable_getCurrentPriorityLevel","fc","unstable_ImmediatePriority","gc","unstable_UserBlockingPriority","hc","unstable_NormalPriority","ic","unstable_LowPriority","jc","unstable_IdlePriority","kc","lc","oc","clz32","pc","qc","log","LN2","rc","sc","tc","uc","pendingLanes","suspendedLanes","pingedLanes","entangledLanes","entanglements","vc","xc","yc","zc","Ac","eventTimes","Cc","Dc","Ec","Fc","Gc","Hc","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Pc","Qc","Rc","Sc","pointerId","Tc","nativeEvent","blockedOn","domEventName","eventSystemFlags","targetContainers","Vc","Wc","priority","isDehydrated","containerInfo","Xc","Yc","Zc","$c","ad","bd","cd","ReactCurrentBatchConfig","dd","ed","transition","fd","gd","hd","Uc","jd","kd","ld","md","nd","od","keyCode","charCode","pd","qd","rd","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","cancelBubble","persist","isPersistent","wd","xd","yd","sd","eventPhase","bubbles","cancelable","timeStamp","Date","now","isTrusted","td","ud","view","vd","Ad","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","zd","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","Bd","Dd","dataTransfer","Fd","Hd","animationName","elapsedTime","pseudoElement","Id","clipboardData","Jd","Ld","Md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","Nd","Od","Alt","Control","Meta","Shift","Pd","Qd","code","repeat","locale","which","Rd","Td","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","Vd","touches","targetTouches","changedTouches","Xd","Yd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","Zd","$d","documentMode","color","date","datetime","email","month","number","password","search","tel","text","time","url","week","event","listeners","oninput","detachEvent","attachEvent","node","nextSibling","compareDocumentPosition","HTMLIFrameElement","contentWindow","contentEditable","focusedElem","selectionRange","documentElement","end","selectionStart","selectionEnd","defaultView","getSelection","rangeCount","anchorNode","anchorOffset","focusNode","focusOffset","createRange","setStart","removeAllRanges","addRange","setEnd","element","left","scrollLeft","top","scrollTop","focus","animationend","animationiteration","animationstart","transitionend","animation","af","bf","cf","df","ef","ff","gf","hf","lf","mf","nf","Ub","instance","listener","of","pf","qf","rf","random","sf","capture","passive","tf","uf","parentWindow","vf","wf","na","xa","$a","ba","char","unshift","xf","yf","zf","Af","Bf","Cf","Df","Ef","__html","Ff","Gf","Hf","Jf","If","Kf","Lf","Mf","previousSibling","Nf","Of","Pf","Qf","Rf","Sf","Tf","Uf","Vf","Wf","Xf","Yf","contextTypes","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Zf","childContextTypes","$f","ag","bg","getChildContext","cg","__reactInternalMemoizedMergedChildContext","dg","eg","fg","gg","hg","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","tg","ug","vg","wg","xg","yg","zg","Ag","Bg","elementType","deletions","Cg","pendingProps","overflow","treeContext","retryLane","Dg","Eg","Fg","Gg","memoizedProps","Hg","Ig","Jg","Kg","Lg","defaultProps","Mg","Ng","Og","Pg","Qg","Rg","_currentValue","Sg","childLanes","Tg","firstContext","lanes","Ug","Vg","context","memoizedValue","Wg","Xg","Yg","interleaved","Zg","$g","ah","updateQueue","baseState","firstBaseUpdate","lastBaseUpdate","shared","pending","effects","bh","ch","eventTime","lane","payload","callback","dh","eh","fh","gh","hh","ih","jh","Component","refs","kh","nh","isMounted","_reactInternals","enqueueSetState","lh","mh","enqueueReplaceState","enqueueForceUpdate","oh","shouldComponentUpdate","isPureReactComponent","ph","contextType","state","updater","qh","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","rh","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","sh","_owner","_stringRef","th","uh","vh","wh","xh","yh","implementation","zh","Ah","Bh","Ch","Dh","Eh","Fh","Gh","Hh","Ih","tagName","Jh","Kh","Lh","Mh","revealOrder","Nh","Oh","_workInProgressVersionPrimary","Ph","ReactCurrentDispatcher","Qh","Rh","Sh","Th","Uh","Vh","Wh","Xh","Yh","Zh","$h","ai","bi","ci","baseQueue","queue","di","ei","fi","lastRenderedReducer","action","hasEagerState","eagerState","lastRenderedState","dispatch","gi","hi","ii","ji","ki","getSnapshot","li","mi","ni","lastEffect","oi","pi","qi","ri","destroy","deps","si","ti","ui","vi","wi","xi","yi","zi","Ai","Bi","Ci","Di","Ei","Fi","Gi","Hi","Ii","Ji","readContext","useCallback","useContext","useEffect","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useReducer","useRef","useState","useDebugValue","useDeferredValue","useTransition","useMutableSource","useSyncExternalStore","useId","unstable_isNewReconciler","identifierPrefix","Ki","Li","Mi","Ni","Oi","Pi","Qi","Ri","getDerivedStateFromError","componentDidCatch","Si","componentStack","Ti","pingCache","Ui","Vi","Wi","Xi","ReactCurrentOwner","Yi","Zi","$i","aj","bj","compare","cj","dj","ej","baseLanes","cachePool","transitions","fj","gj","hj","ij","jj","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","kj","lj","pendingContext","mj","Aj","Bj","Cj","Dj","nj","oj","pj","fallback","qj","rj","tj","dataset","dgst","uj","vj","_reactRetry","sj","subtreeFlags","wj","xj","isBackwards","rendering","renderingStartTime","tail","tailMode","yj","Ej","Fj","Gj","wasMultiple","multiple","suppressHydrationWarning","onClick","onclick","createElementNS","autoFocus","createTextNode","Hj","Ij","Jj","Kj","Lj","WeakSet","Mj","Nj","Oj","Qj","Rj","Sj","Tj","Uj","Vj","Wj","insertBefore","_reactRootContainer","Xj","Yj","Zj","ak","onCommitFiberUnmount","componentWillUnmount","bk","ck","dk","ek","fk","isHidden","gk","hk","display","ik","jk","kk","lk","__reactInternalSnapshotBeforeUpdate","Wk","mk","nk","ok","pk","qk","rk","sk","tk","uk","Infinity","vk","wk","xk","yk","zk","Ak","Bk","Ck","Dk","Ek","callbackNode","expirationTimes","expiredLanes","wc","callbackPriority","ig","Fk","Gk","Hk","Ik","Jk","Kk","Lk","Mk","Nk","Ok","Pk","finishedWork","finishedLanes","Qk","timeoutHandle","Rk","Sk","Tk","Uk","Vk","mutableReadLanes","Bc","Pj","onCommitFiberRoot","mc","onRecoverableError","Xk","onPostCommitFiberRoot","Yk","Zk","al","isReactComponent","pendingChildren","bl","mutableSourceEagerHydrationData","cl","pendingSuspenseBoundaries","el","fl","gl","hl","il","jl","zj","$k","ll","reportError","ml","_internalRoot","nl","ol","pl","ql","sl","rl","unmount","unstable_scheduleHydration","querySelectorAll","form","tl","usingClientEntryPoint","ul","findFiberByHostInstance","bundleType","rendererPackageName","vl","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setErrorHandler","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","reconcilerVersion","__REACT_DEVTOOLS_GLOBAL_HOOK__","wl","isDisabled","supportsFiber","inject","createPortal","dl","createRoot","unstable_strictMode","findDOMNode","flushSync","hydrate","hydrateRoot","hydratedSources","_getVersion","_source","unmountComponentAtNode","unstable_batchedUpdates","unstable_renderSubtreeIntoContainer","checkDCE","err","__self","__source","jsx","jsxs","setState","forceUpdate","escape","_status","_result","Children","Fragment","Profiler","PureComponent","StrictMode","Suspense","cloneElement","createContext","_currentValue2","_threadCount","Provider","Consumer","_defaultValue","_globalName","createFactory","createRef","forwardRef","isValidElement","lazy","memo","startTransition","unstable_act","sortIndex","performance","startTime","expirationTime","priorityLevel","scheduling","isInputPending","MessageChannel","port2","port1","unstable_Profiling","unstable_continueExecution","unstable_forceFrameRate","floor","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_runWithPriority","delay","unstable_wrapCallback","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","definition","chunkId","promises","miniCssF","Function","obj","prop","inProgress","dataWebpackPrefix","script","needAttach","scripts","getElementsByTagName","getAttribute","charset","nc","onScriptComplete","prev","onload","doneFns","head","installedChunks","installedChunkData","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","chunkLoadingGlobal","_checkPrivateRedeclaration","privateCollection","_classPrivateMethodInitSpec","privateSet","_classPrivateFieldInitSpec","privateMap","_assertClassBrand","_classPrivateFieldSet2","isServer","noop","isValidTimeout","timeUntilStale","updatedAt","staleTime","matchQuery","filters","exact","fetchStatus","predicate","queryKey","stale","queryHash","hashQueryKeyByOptions","partialMatchKey","isActive","isStale","matchMutation","mutation","mutationKey","hashKey","queryKeyHashFn","val","isPlainObject","replaceEqualDeep","array","isPlainArray","aItems","aSize","bItems","bSize","copy","equalItems","shallowEqualObjects","hasObjectPrototype","ctor","prot","replaceData","prevData","structuralSharing","addToEnd","items","item","newItems","addToStart","skipToken","notifyManager","transactions","notifyFn","batchNotifyFn","scheduleFn","schedule","flush","originalQueue","batch","batchCalls","_len","args","_key","setNotifyFunction","setBatchNotifyFunction","setScheduler","createNotifyManager","Subscribable","onSubscribe","onUnsubscribe","hasListeners","focusManager","_focused","_cleanup","_setup","super","_classPrivateFieldSet","onFocus","_classPrivateFieldGet","setEventListener","_classPrivateFieldGet2","setup","_classPrivateFieldGet3","focused","setFocused","isFocused","_globalThis$document","visibilityState","onlineManager","_online","onOnline","onlineListener","offlineListener","setOnline","online","isOnline","defaultRetryDelay","failureCount","canFetch","networkMode","CancelledError","revert","silent","isCancelledError","createRetryer","config","continueFn","promiseResolve","promiseReject","isRetryCancelled","isResolved","outerResolve","outerReject","shouldPause","_config$onSuccess","_continueFn","onSuccess","_config$onError","_continueFn2","pause","continueResolve","_config$onPause","canContinue","onPause","_config$onContinue","onContinue","promiseOrValue","_config$retry","_config$retryDelay","_config$onFail","retry","retryDelay","shouldRetry","ms","onFail","cancel","cancelOptions","_config$abort","_continueFn3","cancelRetry","continueRetry","Removable","_gcTimeout","clearGcTimeout","scheduleGc","gcTime","optionalRemove","updateGcTime","newGcTime","Query","_initialState","_revertState","_retryer","_observers","_defaultOptions","_abortSignalConsumed","_Class_brand","defaultOptions","setOptions","initialData","hasData","initialDataUpdatedAt","dataUpdateCount","dataUpdatedAt","errorUpdateCount","errorUpdatedAt","fetchFailureCount","fetchFailureReason","fetchMeta","isInvalidated","getDefaultState","remove","setData","newData","_dispatch","manual","setStateOptions","reset","observer","enabled","getObserversCount","getCurrentResult","isStaleByTime","_classPrivateFieldGet4","shouldFetchOnWindowFocus","refetch","cancelRefetch","_classPrivateFieldGet5","shouldFetchOnReconnect","addObserver","notify","removeObserver","invalidate","fetch","fetchOptions","_this$options$behavio","_context$fetchOptions","queryFn","abortController","queryFnContext","addSignalProperty","object","fetchFn","persister","_context$fetchOptions2","behavior","onFetch","_classPrivateFieldGet6","_classPrivateFieldGet7","_classPrivateFieldGet8","_classPrivateFieldGet9","onSettled","isFetchingOptimistic","_classPrivateFieldGet10","_classPrivateFieldGet11","_classPrivateFieldGet12","_classPrivateFieldGet13","_action$meta","_action$dataUpdatedAt","fetchState","reducer","onQueryUpdate","QueryObserver","_client","_currentQuery","_currentQueryInitialState","_currentResult","_currentResultState","_currentResultOptions","_selectError","_selectFn","_selectResult","_lastQueryWithDefinedData","_staleTimeoutId","_refetchIntervalId","_currentRefetchInterval","_trackedProps","client","bindMethods","shouldFetchOnMount","_executeFetch","updateResult","_updateTimers","shouldFetchOn","refetchOnReconnect","refetchOnWindowFocus","_clearStaleTimeout","_clearRefetchInterval","notifyOptions","prevOptions","prevQuery","defaultQueryOptions","_updateQuery","_defaulted","getQueryCache","mounted","shouldFetchOptionally","_updateStaleTimeout","nextRefetchInterval","_computeRefetchInterval","_updateRefetchInterval","getOptimisticResult","build","createResult","optimisticResult","shouldAssignObserverCurrentProperties","trackResult","onPropTracked","trackedResult","trackProp","getCurrentQuery","fetchOptimistic","defaultedOptions","_fetchOptions$cancelR","prevResult","prevResultState","prevResultOptions","queryInitialState","newState","isPlaceholderData","_optimisticResults","fetchOnMount","fetchOptionally","select","selectError","placeholderData","isFetching","isPending","isError","isLoading","isSuccess","isInitialLoading","failureReason","isFetched","isFetchedAfterMount","isRefetching","isLoadingError","isPaused","isRefetchError","nextResult","defaultNotifyOptions","shouldNotifyListeners","notifyOnChangeProps","notifyOnChangePropsValue","includedProps","throwOnError","typedKey","_notify","_ref","refetchInterval","nextInterval","refetchIntervalInBackground","retryOnMount","shouldLoadOnMount","refetchOnMount","field","suspense","createValue","isReset","clearReset","QueryErrorResetBoundaryContext","React","useQueryErrorResetBoundary","QueryClientContext","useQueryClient","queryClient","QueryClientProvider","mount","IsRestoringContext","useIsRestoring","ensurePreventErrorBoundaryRetry","errorResetBoundary","useClearResetErrorBoundary","getHasError","throwError","params","ensureStaleTime","shouldSuspend","useQuery","Observer","isRestoring","onStoreChange","useBaseQuery","_typeof","toPropertyKey","toPrimitive","_defineProperties","descriptor","_createClass","Constructor","protoProps","staticProps","deepEqual","RegExp","objectPathMonad","objectPath","splitLength","currentVal","flatClone","sortObject","noArraySort","localeCompare","out","ret","dest","overwriteGetterForCaching","getterName","isMaybeReadonlyArray","arrayFilterNotEmpty","countUntilNotMatching","matchingFn","idx","_item","appendToArray","amount","_setPrototypeOf","_inheritsLoose","subClass","superClass","_getPrototypeOf","_isNativeReflectConstruct","Boolean","_wrapNativeSuper","Class","Wrapper","overwritable","isDevMode","deepFreezeWhenDevMode","tunnelErrorMessage","messageForError","parameters","paramStr","_k","parametersToString","RxError","_Error","_this","mes","rxdb","RxTypeError","_TypeError","_this2","newRxError","newRxTypeError","isBulkWriteConflictError","STORAGE_WRITE_ERROR_CODE_TO_MESSAGE","HOOKS","preAddRxPlugin","preCreateRxDatabase","createRxDatabase","preCreateRxCollection","createRxCollection","createRxState","postDestroyRxCollection","postRemoveRxCollection","preCreateRxSchema","createRxSchema","preCreateRxQuery","prePrepareQuery","createRxDocument","postCreateRxDocument","preCreateRxStorageInstance","preMigrateDocument","postMigrateDocument","preDestroyRxDatabase","postRemoveRxDatabase","preReplicationMasterWrite","preReplicationMasterWriteDocumentsHandle","runPluginHooks","hookKey","fun","runAsyncPluginHooks","REGEX_ALL_DOTS","COUCH_NAME_CHARS","randomCouchString","ucfirst","str","trimDots","isObject","disallowedKeys","digits","getPathSegments","path","parts","currentSegment","currentPart","isIgnoring","character","isStringIndex","isInteger","assertNotStringIndex","getProperty","pathArray","root","RX_META_LWT_MINIMUM","getDefaultRxDocumentMeta","lwt","getSchemaByObjectPath","rxJsonSchema","usePath","fillPrimaryKey","primaryPath","jsonSchema","documentData","newPrimary","getComposedPrimaryKeyOfDocumentData","existingPrimary","getPrimaryFieldOfPrimaryKey","compositePrimary","fields","separator","fillWithDefaultSettings","schemaObj","properties","additionalProperties","keyCompression","required","encrypted","_rev","minLength","_attachments","_deleted","_meta","RX_META_SCHEMA","finalFields","getFinalFields","elem","pos","arr","useIndexes","arIndex","getDefaultIndex","internalIndexes","hasIndex","indexStr","minimum","maximum","multipleOf","final","RxSchema","hashFunction","getIndexes","_proto","validateChange","dataBefore","dataAfter","fieldName","getDocumentPrototype","proto","pathProperties","fullPath","__defineGetter__","get$","get$$","getPrimaryOfDocumentData","_ref2","useJsonSchema","normalizeRxJsonSchema","isFunction","operate","init","lift","hasLift","liftedSource","extendStatics","__extends","__","__awaiter","thisArg","_arguments","generator","fulfilled","step","rejected","__generator","label","sent","trys","ops","verb","op","__values","__read","__spreadArray","pack","__await","__asyncGenerator","asyncIterator","resume","fulfill","settle","__asyncValues","SuppressedError","createErrorClass","createImpl","ctorFunc","UnsubscriptionError","_super","errors","arrRemove","Subscription","initialTeardown","_parentage","_finalizers","_parentage_1","_parentage_1_1","initialFinalizer","_finalizers_1","_finalizers_1_1","finalizer","execFinalizer","teardown","_hasParent","_addParent","_a","_removeParent","EMPTY","empty","EMPTY_SUBSCRIPTION","isSubscription","onUnhandledError","onStoppedNotification","useDeprecatedSynchronousErrorHandling","useDeprecatedNextContext","timeoutProvider","handler","_i","delegate","handle","reportUnhandledError","COMPLETE_NOTIFICATION","createNotification","kind","errorContext","isRoot","errorThrown","Subscriber","destination","isStopped","EMPTY_OBSERVER","SafeSubscriber","handleStoppedNotification","nextNotification","_next","_error","_complete","_bind","ConsumerObserver","partialObserver","handleUnhandledError","observerOrNext","context_1","notification","subscriber","createOperatorSubscriber","onNext","onComplete","onFinalize","OperatorSubscriber","shouldUnsubscribe","closed_1","project","isArrayLike","isPromise","identity","pipeFromArray","fns","Observable","operator","isObserver","_trySubscribe","sink","promiseCtor","getPromiseCtor","Symbol_observable","pipe","operations","toPromise","isInteropObservable","isAsyncIterable","createInvalidObservableTypeError","isIterable","Symbol_iterator","readableStreamLikeToAsyncGenerator","readableStream","reader","getReader","read","_b","releaseLock","isReadableStreamLike","innerFrom","obs","fromAsyncIterable","iterable","iterable_1","iterable_1_1","asyncIterable","asyncIterable_1","asyncIterable_1_1","process","executeSchedule","parentSubscription","work","scheduleSubscription","mergeMap","resultSelector","concurrent","onBeforeNext","expand","innerSubScheduler","additionalFinalizer","isComplete","checkComplete","outerNext","doInnerSub","innerComplete","innerValue","bufferedValue","mergeInternals","mergeAll","popScheduler","popNumber","observeOn","subscribeOn","scheduleAsyncIterable","scheduled","scheduleObservable","scheduleArray","schedulePromise","scheduleIterable","scheduleReadableStreamLike","concatAll","startWith","distinctUntilChanged","comparator","keySelector","defaultCompare","previousKey","currentKey","ObjectUnsubscribedError","Subject","currentObservers","observers","hasError","thrownError","subject","AnonymousSubject","_throwIfClosed","_c","_checkFinalizedStatuses","_innerSubscribe","asObservable","dateTimestampProvider","ReplaySubject","_bufferSize","_windowTime","_timestampProvider","_buffer","_infiniteTimeWindow","_trimBuffer","subscription","adjustedBufferSize","handleReset","onSubscriber","shareReplay","configOrBufferSize","windowTime","bufferSize","refCount","connector","resetOnError","resetOnComplete","_d","resetOnRefCountZero","wrapperSource","connection","resetConnection","hasCompleted","hasErrored","cancelReset","resetAndUnsubscribe","conn","share","ensureNotFalsy","RXJS_SHARE_REPLAY_DEFAULTS","PROMISE_RESOLVE_TRUE","PROMISE_RESOLVE_FALSE","PROMISE_RESOLVE_NULL","PROMISE_RESOLVE_VOID","requestIdlePromiseNoQueue","requestIdleCallback","promiseWait","idlePromiseQueue","getFromMapOrThrow","getFromMapOrCreate","creator","ifWasThere","pluginMissing","pluginKey","keyParts","pluginName","part","getDocumentDataOfRxChangeEvent","rxChangeEvent","previousDocumentData","_lastNow","twoDecimals","parseFloat","toFixed","parseRevision","revision","hash","getHeightOfRevision","createRevision","databaseInstanceToken","previousDocData","previousRevision","INTERNAL_STORAGE_NAME","getSingleDocument","storageInstance","documentId","doc","findDocumentsById","throwIfIsStorageWriteError","collection","writeData","writeError","stripAttachmentsDataFromRow","writeRow","previous","stripAttachmentsDataFromDocument","useDoc","_ref4","attachmentId","attachmentData","attachmentBase64String","atob","attachmentWriteDataToNormalData","flatCloneDocWithMeta","getWrappedStorageInstance","database","originalStorageInstance","internals","collectionName","databaseName","bulkWrite","rows","toStorageWriteRows","row","structuredClone","parse","metaFieldName","token","transformDocumentDataFromRxDBToRxStorage","lockedRun","writeResult","useWriteResult","success","reInsertErrors","documentInDb","reInserts","subResult","preparedQuery","ids","deleted","getAttachmentData","getChangedDocumentsSince","checkpoint","cleanup","minDeletedTime","storageInstances","changeStream","conflictResultionTasks","resolveConflictResultionTask","taskSolution","output","isEqual","IncrementalWriteQueue","preWrite","postWrite","queueByDocId","isRunning","addWrite","lastKnownDocumentState","modifier","docId","triggerRun","writeRows","itemsById","_docId","oldData","docs","newest","newestRevisionHeight","findNewestOfDocumentStates","isConflict","rxError","modifierFromPublicToInternal","publicModifier","withoutMeta","docData","stripMetaDataFromDocument","modified","reattachedMeta","basePrototype","isInstanceOfRxDocument","primary","_data","deleted$","deleted$$","getReactivityFactory","fromObservable","getLatest","latestDocData","_docCache","getLatestDocumentData","getCachedRxDocument","changeEvent","isLocal","curr","$$","refCollection","collections","findByIds","valuesIterator","findOne","objPath","_propertyCache","valueObj","proxy","property","lastChar","endsWith","_key2","toJSON","toMutableJSON","withMetaFields","_updateObj","incrementalUpdate","updateCRDT","putAttachment","getAttachment","allAttachments","allAttachments$","mutationFunction","_saveData","incrementalModify","incrementalWriteQueue","patch","incrementalPatch","beforeDocumentUpdateWrite","_runHooks","removedDocData","deletedData","removed","incrementalRemove","newDoc","BehaviorSubject","EmptyError","insertFirst","previousResults","keyDocumentMap","insertLast","removeFirstItem","queryParams","removeLastItem","removeExisting","insertAtSortPosition","compareFunction","low","lastMidDoc","high","mid","pushAtSortPosition","sortComparator","orderedActionList","actionFunctions","doNothing","_input","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","replaceExisting","alwaysWrong","wrongHuman","_id","getTime","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction","characters","makeid","splitStringToChunks","chunkSize","chunks","charsLength","CHAR_CODE_OFFSET","getNumberOfChar","charCodeAt","lastOfArray","hasLimit","isFindOne","hasSkip","skip","isDelete","operation","isInsert","isUpdate","wasLimitReached","sortParamsChanged","sortFields","wasInResult","wasFirst","wasLast","wasSortedBeforeFirst","wasSortedAfterLast","isSortedBeforeFirst","isSortedAfterLast","wasMatching","queryMatcher","doesMatchNow","wasResultsEmpty","stateResolveFunctionByIndex","simpleBdd","getSimpleBdd","nodesById","lastLeafNodeChar","leafNodeChunks","chunk","internalNodeChunks","idOf0Branch","idOf1Branch","last3","idOf0","idOf1","minimalStringToSimpleBdd","resolveInput","currentNode","currentLevel","resolveWithSimpleBdd","calculateActionName","resolvedActionId","INDEX_MAX","INDEX_MIN","MIN_SAFE_INTEGER","getQueryPlan","selector","hasDescSorting","sortField","sortIrrelevevantFields","schemaPart","currentBestQueryPlan","optimalSortIndexCompareString","currentBestQuality","inclusiveEnd","inclusiveStart","opts","indexField","matcher","operators","matcherOpts","LOGICAL_OPERATORS","partialOpts","operatorValue","startKey","endKey","getMatcherQueryOpts","startKeys","opt","endKeys","queryPlan","sortSatisfiedByIndex","selectorSatisfiedByIndex","isSelectorSatisfiedByIndex","quality","addQuality","pointsPerMatchingKey","nonMinKeyCount","keyValue","nonMaxKeyCount","equalKeyCount","pointsIfNoReSortMustBeDone","rateQueryPlan","LOWER_BOUND_LOGICAL_OPERATORS","UPPER_BOUND_LOGICAL_OPERATORS","hasNonMatchingOperator","$and","$or","satisfieldLowerBound","lowerOperatorFieldNames","lowerLogicOps","hasLowerLogicOp","satisfieldUpperBound","upperOperatorFieldNames","_fieldName","_operation","upperLogicOps","hasUperLogicOp","_fieldName2","MingoError","MAX_LONG","MAX_SAFE_INTEGER","MIN_LONG","MISSING","CYCLE_FOUND_ERROR","ARRAY_PROTO","OBJECT_PROTO","OBJECT_TYPE_RE","Null","Undefined","getConstructor","DEFAULT_HASH_FUNCTION","cycle","STRING_CONVERTERS","members","getMembersOf","objKeys","JS_SIMPLE_TYPES","IMMUTABLE_TYPES_SET","typedArrayToString","toISOString","Int8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt","BigInt64Array","BigUint64Array","SORT_ORDER_BY_TYPE","null","string","boolean","regexp","function","getType","assert","condition","cloneDeep","isTypedArray","isBoolean","isString","isNumber","isObjectLike","isDate","isRegExp","isNil","inArray","notInArray","isEmpty","isMissing","ensureArray","mergeable","right","merge","flatten","skipValidation","into","buildHashIndex","hashCode","intersection","sortedIndex","keyFn","sorted","smallest","rmap","lhs","stable","found","currIndex","rhs","_j","xs","depth","flatten2","ys","len","names","activeProto","groupBy","lookup","existingKey","MAX_ARRAY_PUSH","rest","acc","begin","resolve2","subpath","unwrapArray","unwrap","resolveGraph","isIndex","hasNext","preserveMissing","preserveKeys","filterMissing","NUMBER_RE","walk","buildGraph","isNextArrayIndex","descendArray","removeValue","OPERATOR_NAME_PATTERN","isOperator","normalize","expr","$regex","$eq","exprObj","newExpr","ProcessingMode","OperatorType","ComputeOptions","_opts","_local","timestamp","local","variables","getOptions","Context","idKey","collation","processingMode","CLONE_OFF","useStrictMode","scriptEnabled","useGlobalContext","collectionResolver","jsonSchemaValidator","initOptions","ACCUMULATOR","EXPRESSION","PIPELINE","PROJECTION","QUERY","WINDOW","addOperators","ctx","getOperator","addAccumulatorOps","addExpressionOps","addQueryOps","addPipelineOps","addProjectionOps","addWindowOps","GLOBAL_CONTEXT","useOperators","currentFn","systemVariables","$$ROOT","_obj","_expr","$$CURRENT","$$REMOVE","$$NOW","redactVariables","$$KEEP","$$PRUNE","$$DESCEND","redact","computeValue","copts","callExpression","callAccumulator","prefix","Lazy","Iterator","dropItem","DONE","Action","nextVal","iteratees","yieldedValues","isDone","isGenerator","getNext","nextFn","bufferIndex","storeResult","outer","innerDone","MAP","func","FILTER","TAKE","DROP","createCallback","take","drop","transform","iter","Aggregator","pipeline","stream","CLONE_ALL","CLONE_INPUT","pipelineOperators","operatorKeys","opName","CLONE_OUTPUT","Cursor","projection","$project","fetchAll","buffered","iterators","compose","$skip","$limit","$sort","spec","compiled","compile","whereOperator","processOperator","sortKeys","collationSpec","localeOpt","sensitivity","COLLATION_STRENGTH","strength","caseFirst","numeric","numericOrdering","ignorePunctuation","caseLevel","collator","Intl","Collator","collationComparator","coll","modifiers","groups","sortedKeys","createQueryOperator","createExpressionOperator","eq","$ne","$in","$nin","$lt","mingoCmp","$lte","$gt","$gte","isNonBooleanOperator","$elemMatch","format","temp","isNull","isInt","isLong","compareFuncs","bool","decimal","double","int","long","regex","compareType","__nin","bitwise","compute","nums","__eq","__gt","__gte","__lt","__lte","__ne","buildMap","letters","sign","FIXED_POINTS","createTrignometryOperator","fixedPoints","fp","keySet","acos","acosh","asin","asinh","atan","atanh","cos","cosh","RADIANS_FACTOR","PI","DEGREES_FACTOR","sin","sinh","tan","expressionKeys","idOnlyExcluded","validateExpression","ID_KEY","processObject","newObj","foundSlice","foundExclusion","dropKeys","subExpr","subExprObj","subExprKeys","objPathGraph","check","$nor","$not","__in","$mod","arg","truthy","matched","__elemMatch","$size","$exists","$type","findIndex","mingoInitDone","normalizeMangoQuery","mangoQuery","normalizedMangoQuery","indexAr","isPrimaryInSort","firstPropertyNameOfObject","fieldsWithLogicalOperator","currentBestIndexForSort","currentFieldsAmount","useIndex","firstWrongIndex","getSortComparator","sortParts","sortBlock","direction","getValueFn","sortPart","valueA","valueB","mingoSortComparator","getQueryMatcher","_schema","mingoQuery","getSortFieldsOfQuery","RXQUERY_QUERY_PARAMS_CACHE","calculateNewResults","rxQuery","rxChangeEvents","eventReduce","useSortComparator","docA","docB","sortComparatorData","getQueryParams","docsData","previousResultsMap","docsDataMap","changed","foundNonOptimizeable","cE","rxChangeEventToEventReduceChangeEvent","eventReduceEvent","actionName","runAction","newResults","QueryCache","_map","getByQuery","stringRep","uncacheRxQuery","queryCache","uncached","countRxQuerySubscribers","refCount$","tryToKeepMax","unExecutedLifetime","defaultCacheReplacementPolicy","_collection","minUnExecutedLifetime","maybeUncache","queriesInCache","_lastEnsureEqual","_creationTime","mustUncache","sortedByLastUsage","COLLECTIONS_WITH_RUNNING_CLEANUP","triggerCacheReplacement","rxCollection","requestIdlePromise","destroyed","cacheReplacementPolicy","_queryCache","DocumentCache","changes$","documentCreator","cacheItemByDocId","registry","FinalizationRegistry","docMeta","cacheItem","byRev","revisionHeight","registerIdleTasks","getLatestDocumentDataIfExists","docCache","getNewCacheItem","cachedRxDocumentWeakRef","cachedRxDocument","deref","createWeakRefWithFallback","registerIdlePromise","tasks","register","getCachedRxDocumentMonad","mapDocumentsDataToCacheDocs","documents","WeakRef","RxQuerySingleResult","docsDataFromStorageInstance","_queryCount","RxQueryBase","other","_execOverDatabaseCount","_latestChangeEvent","_lastExecStart","_lastExecEnd","_ensureEqualQueue","isFindOneByIdQuery","_setResultData","newResultData","newQueryResult","_execOverDatabase","getPreparedQuery","allowSlowCount","queryObj","mustBeQueried","docsPromise","docIds","docsFromStorage","fromStorageList","queryResult","queryCollection","throwIfMissing","_ensureEqual","hasConfig","firstValueFrom","stringObj","hookInput","prepareQuery","doesDocumentDataMatch","_queryObj","_params","_amount","_$","results$","useResult","docsMap","sources","createRxQuery","_isResultsInSync","currentLatestEventNumber","asRxQuery","_changeEventBuffer","counter","mustReExec","missedChangeEvents","getFrom","runChangeEvents","reduceByLastOfDoc","previousCount","newCount","didMatchBefore","eventReduceResult","ar1","ar2","row1","row2","areRxDocumentArraysEqual","__ensureEqual","mutateableQuery","INTERNAL_CONTEXT_COLLECTION","INTERNAL_CONTEXT_STORAGE_TOKEN","INTERNAL_STORE_SCHEMA","title","maxLength","enum","sharding","shards","getPrimaryKeyOfInternalDocument","getAllCollectionDocuments","getAllQueryPrepared","STORAGE_TOKEN_DOCUMENT_KEY","STORAGE_TOKEN_DOCUMENT_ID","_collectionNamePrimary","fillObjectDataBeforeInsert","rxSchema","defaultKeys","defaultValues","fillObjectWithDefaults","removeCollectionStorages","storage","databaseInternalStorage","relevantCollectionMetaDocs","metaDoc","removeStorages","isCollection","connectedStorages","alreadyAdded","createStorageInstance","multiInstance","devMode","writeDoc","ChangeEventBuffer","subs","eventCounterMap","_handleChangeEvent","getArrayIndexByPointer","pointer","oldestEvent","oldestCounter","currentIndex","nextEvent","runFrom","changeEvents","sub","constructorForCollection","schemaProto","ormProto","methods","getDocumentOrmPrototype","getRxDocumentConstructor","createRxDocumentConstructor","createNewRxDocument","jsonData","createRxDocumentWithConstructor","_runHooksSync","defaultConflictHandler","newDocumentState","realMasterState","HOOKS_WHEN","HOOKS_KEYS","hooksApplied","RxCollectionBase","internalStorageInstance","instanceCreationOptions","migrationStrategies","attachments","statics","conflictHandler","timeouts","_incrementalUpsertQueues","synced","hooks","_subs","checkpoint$","onDestroy","colProto","when","fnName","parallel","addHook","_applyHookFunctions","asRxCollection","prepare","collectionEventBulks$","eventBulks$","changeEventBulk","events","databaseStorageToken","storageToken","subDocs","eventBulk","internal","ev","rxStorageChangeEvent","storageChangeEventToRxChangeEvent","databaseToken","endTime","$emit","task","_minimumDeletedTime","migrationNeeded","getMigrationState","startMigration","batchSize","migratePromise","insert","json","bulkInsert","useDocs","hasHooks","insertRows","rxDocuments","bulkRemove","rxDocumentMap","rxDocument","removeDocs","successIds","bulkUpsert","insertData","useJsonByDocId","useJson","insertResult","docDataInDb","upsert","bulkResult","incrementalUpsert","docDataFromCache","inserted","_incrementalUpsertEnsureRxDocumentExists","wasInserted","_innerDoc","_incrementalUpsertUpdate","exportJSON","importJSON","_exportedJSON","insertCRDT","boundFun","runName","series","getHooks","initial","promiseSeries","internalStore","IdleQueue","parallels","_parallels","_qC","_iC","_lHN","_hPM","_pHM","_removeIdlePromise","idleQueue","_timeoutObj","_tryIdleCall","_tryIR","isIdle","_manRes","_resolveOneIdleCall","lock","unlock","wrapCall","maybePromise","prom","timeoutObj","cancelIdlePromise","cancelIdleCallback","_this3","RXDB_VERSION","ignoreUnknown","respectType","respectFunctionNames","respectFunctionProperties","unorderedObjects","unorderedArrays","unorderedSets","excludeKeys","excludeValues","replacer","nativeFunc","WordArray","words","sigBytes","encoder","Hex","wordArray","clamp","thatByte","hexChars","bite","Latin1","latin1Str","latin1StrLength","Utf8","utf8Str","unescape","BufferedBlockAlgorithm","_nDataBytes","_minBufferSize","blockSize","_append","_doProcessBlock","_dataWords","_offset","_process","doFlush","processedWords","nBlocksReady","nWordsReady","nBytesReady","Hasher","messageUpdate","SHA256","_hash","H2","gamma0x","gamma0","gamma1x","gamma1","maj","sigma0","t1","nBitsTotal","nBitsLeft","defaultHashSha256","TextEncoder","encode","hashBuffer","_defineProperty","ObliviousSet","ttl","_to","obliviousSet","olderThen","removeTooOldValues","USED_DATABASE_NAMES","RxDatabaseBase","cleanupPolicy","reactivity","rxdbVersion","startupErrors","states","observable$","storageTokenDocument","emittedEventBulkIds","asRxDatabase","rxDatabase","passwordHash","instanceToken","conflictError","databaseStateVersion","codeVersion","existingPasswordHash","ensureStorageTokenDocumentExists","removeCollectionDoc","addCollections","collectionCreators","jsonSchemas","schemas","bulkPutDocs","useArgsByCollectionName","collectionNameWithVersion","collectionDocData","schemaHash","useArgs","hookData","putDocsResult","ensureNoStartupErrors","docInDb","previousSchemaHash","previousSchema","autoMigrate","localDocuments","storageInstanceCreationParams","createRxCollectionStorageInstance","funName","_collections","addState","_name","backup","leaderElector","isLeader","waitForLeadership","migrationStates","dbInternalsStorageInstance","createRxDatabaseStorageInstance","collectionDocs","collectionNames","removedCollectionNames","removeRxDatabase","ignoreDuplicate","throwIfDatabaseNameUsed","PROTOTYPES","RxDocument","RxDocumentPrototype","RxQuery","RxCollection","RxDatabase","ADDED_PLUGINS","ADDED_PLUGIN_NAMES","DexieSymbol","_Dexie","DEXIE_DOCS_TABLE_NAME","DEXIE_CHANGES_TABLE_NAME","DEXIE_ATTACHMENTS_TABLE_NAME","RX_STORAGE_NAME_DEXIE","DEXIE_STATE_DB_BY_NAME","REF_COUNT_PER_DEXIE_DB","DEXIE_PIPE_SUBSTITUTE","dexieReplaceIfStartsWithPipe","withoutFirst","dexieReplaceIfStartsWithPipeRevert","fromStorageToDexie","booleanIndexes","fromStorageToDexieField","fromDexieToStorage","fromDexieToStorageField","getDexieStoreSchema","dexieSchemaRows","getDocsInDb","dexieTable","attachmentObjectId","getBooleanIndexes","checkedFields","mapKeyForKeyRange","rangeFieldToBooleanSubstitute","getKeyRangeByQueryPlan","dexieQuery","skipPlusLimit","keyRange","dexieDb","queryPlanFields","indexName","store","dexieTx","cursorReq","cursor","argsOrArgArray","PROMISE_RESOLVED_TRUE","PROMISE_RESOLVED_VOID","sleep","resolveWith","randomToken","lastMs","microSeconds","NativeMethod","channelName","micro","messagesCallback","subFns","msgEvent","channelState","onMessage","messageJson","canBeUsed","Deno","_pubkey","averageResponseTime","fillOptionsWithDefaults","originalOptions","webWorkerSupport","idb","fallbackInterval","localstorage","removeTimeout","maxParallelWrites","useFastPath","DB_PREFIX","OBJECT_STORE_ID","TRANSACTION_SETTINGS","getIdb","commitIndexedDBTransaction","tx","getMessagesHigherThan","lastCursorId","keyRangeValue","getAllRequest","rej","openCursorRequest","cleanOldMessages","msgObk","getOldMessages","tooOld","deleteRequest","removeMessagesById","msg","_readLoop","readNewMessages","newerMessages","useMessages","msgObj","uuid","eMIs","messagesCallbackTime","_filterMessage","msgObjA","msgObjB","IndexedDBMethod","IndexedDB","dbName","openRequest","createDatabase","writeBlockPromise","readQueuePromises","readerUuid","writeObject","writeMessage","KEY_PREFIX","getLocalStorage","localStorage","storageKey","ls","setItem","removeItem","LocalstorageMethod","newValue","addStorageEventListener","writeObj","createEvent","initEvent","defaultTime","SIMULATE_CHANNELS","SimulateMethod","channel","METHODS","ENFORCED_OPTIONS","OPEN_BROADCAST_CHANNELS","lastId","method","chooseMethods","useMethod","chooseMethod","_iL","_onML","_addEL","_uMP","_befC","_prepP","_prepareChannel","_post","broadcastChannel","sendPromise","_hasMessageListeners","_addListenerObject","listenerFn","listenerObject","_startListening","_removeListenerObject","_stopListening","postInternal","listenObj","awaitPrepare","isClosed","BROADCAST_CHANNEL_BY_TOKEN","getBroadcastChannelReference","storageName","refObject","removeBroadcastChannelReference","addRxStorageMultiInstanceSupport","instanceCreationParams","providedBroadcastChannel","changesFromOtherInstances$","eventListener","oldChangestream$","otherSources","mergeWith","oldClose","oldRemove","instanceId","RxStorageInstanceDexie","settings","documentWrites","ensureNotClosed","categorized","documentKeys","dexieAttachmentsTable","docsInDbMap","docWithDexieInternals","docsInDb","bulkWriteRows","onInsert","onUpdate","newestRow","hasAttachments","bulkInsertDocs","bulkUpdateDocs","eventBulkEvents","attachmentsAdd","attachmentsRemove","attachmentsUpdate","hasDocsInDb","rowAmount","_loop","attachmentError","rowId","documentDeleted","previousDeleted","revInDb","updatedRow","_ref3","previousAttachmentData","newDigest","eventDocumentData","previousEventDocumentData","_event","insertedIsDeleted","categorizeBulkWriteRows","putAttachments","attachment","lastState","dexieCount","minimumDeletedTime","maxDeletionTime","toRemove","removeIds","_digest","statePromise","closeDexieDb","_taskSolution","createDexieStorageInstance","dexieDbName","useSettings","dexieStoresSettings","getDexieDbWithTables","RxStorageDexie","compression","ensureRxStorageInstanceParamsAreCorrect","getRxStorageDexie","testSchema","description","userId","USE_METHOD","exit","LISTENERS","startedListening","runAll","sendLeaderMessage","msgJson","beLeader","_hasLeader","unloadFn","unloadAdd","die","_unl","isLeaderListener","_dpLC","_dpL","_lstns","LeaderElectionWebLock","isDead","_wKMC","lN","hasLeader","locks","relevantLocks","held","awaitLeadership","_wLMP","returnPromise","onduplicate","_fn","_this4","uFn","LeaderElection","_aplQ","_aplQC","hasLeaderListener","createLeaderElection","_leaderElector","responseTime","elector","applyOnce","isFromFallbackInterval","stopCriteriaPromiseResolve","stopCriteria","stopCriteriaPromise","handleMessage","waitForAnswerTime","applyRun","_aLP","resolved","finish","whenDeathListener","tryOnFallBack","_awaitLeadershipOnce","LEADER_ELECTORS_OF_DB","LEADER_ELECTOR_BY_BROADCAST_CHANNEL","getLeaderElectorByBroadcastChannel","getForDatabase","oldDestroy","plugin","plugins","prototypes","hooksObj","after","before","addRxPlugin","dbPromise","getDatabase","myDatabase","sub_admin","_posts$map","posts","setPosts","updateDatabase","getDataFromIndexdb","tempData","ele","_jsx","_jsxs","className","googleImage","alt","googleImage1","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","URL","installing","scriptURL","sw","isExternal","originalEvent","waiting","serviceWorker","controller","ports","getSW","immediate","readyState","once","wasWaitingBeforeRegister","messageSW","messageSkipWaiting","_queries","_options$queryHash","getQueryDefaults","queryInMap","defaultedFilters","findAll","Mutation","_mutationCache","mutationId","mutationCache","submittedAt","executeMutation","_this$options$retry","mutationFn","restored","_this$options$onSucce","_this$options2","_this$options$onSettl","_this$options3","_this$options$onMutat","_this$options","onMutate","_this$options$onError","_this$options4","_this$options$onSettl2","_this$options5","onMutationUpdate","MutationCache","_mutations","_mutationId","_resuming","_this$mutationId","defaultMutationOptions","resumePausedMutations","pausedMutations","infiniteQueryBehavior","pages","_context$state$data","_context$state$data2","fetchMore","oldPages","oldPageParams","pageParams","cancelled","fetchPage","pageParam","page","maxPages","addTo","getPreviousPageParam","getNextPageParam","_oldPageParams$","initialPageParam","remainingPages","_context$options$pers","_context$options","lastIndex","_options$getPreviousP","QueryClient","_queryDefaults","_mutationDefaults","_mountCount","_unsubscribeFocus","_unsubscribeOnline","_this$mountCount","_this$mountCount3","isMutating","getQueryData","ensureQueryData","cachedData","fetchQuery","revalidateIfStale","prefetchQuery","getQueriesData","setQueryData","functionalUpdate","setQueriesData","getQueryState","removeQueries","resetQueries","refetchFilters","refetchQueries","cancelQueries","defaultedCancelOptions","invalidateQueries","_filters$refetchType","refetchType","_options$cancelRefetc","fetchInfiniteQuery","prefetchInfiniteQuery","getMutationCache","getDefaultOptions","setDefaultOptions","setQueryDefaults","defaults","queryDefault","setMutationDefaults","getMutationDefaults","mutations","ReactDOM","getElementById","App","Workbox","reportWebVitals"],"sourceRoot":""}